function jA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function KE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QE={exports:{}},jf={},YE={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=Symbol.for("react.element"),OA=Symbol.for("react.portal"),DA=Symbol.for("react.fragment"),MA=Symbol.for("react.strict_mode"),LA=Symbol.for("react.profiler"),VA=Symbol.for("react.provider"),FA=Symbol.for("react.context"),UA=Symbol.for("react.forward_ref"),$A=Symbol.for("react.suspense"),BA=Symbol.for("react.memo"),zA=Symbol.for("react.lazy"),gw=Symbol.iterator;function qA(t){return t===null||typeof t!="object"?null:(t=gw&&t[gw]||t["@@iterator"],typeof t=="function"?t:null)}var XE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JE=Object.assign,ZE={};function rl(t,e,n){this.props=t,this.context=e,this.refs=ZE,this.updater=n||XE}rl.prototype.isReactComponent={};rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function e1(){}e1.prototype=rl.prototype;function Hy(t,e,n){this.props=t,this.context=e,this.refs=ZE,this.updater=n||XE}var Gy=Hy.prototype=new e1;Gy.constructor=Hy;JE(Gy,rl.prototype);Gy.isPureReactComponent=!0;var yw=Array.isArray,t1=Object.prototype.hasOwnProperty,Ky={current:null},n1={key:!0,ref:!0,__self:!0,__source:!0};function r1(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)t1.call(e,r)&&!n1.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),d=0;d<o;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:vu,type:t,key:i,ref:a,props:s,_owner:Ky.current}}function WA(t,e){return{$$typeof:vu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qy(t){return typeof t=="object"&&t!==null&&t.$$typeof===vu}function HA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vw=/\/+/g;function Hm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HA(""+t.key):e.toString(36)}function qd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case vu:case OA:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Hm(a,0):r,yw(s)?(n="",t!=null&&(n=t.replace(vw,"$&/")+"/"),qd(s,e,n,"",function(d){return d})):s!=null&&(Qy(s)&&(s=WA(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(vw,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",yw(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+Hm(i,o);a+=qd(i,e,n,l,s)}else if(l=qA(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+Hm(i,o++),a+=qd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function dd(t,e,n){if(t==null)return t;var r=[],s=0;return qd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function GA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Wd={transition:null},KA={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Wd,ReactCurrentOwner:Ky};function s1(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:dd,forEach:function(t,e,n){dd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dd(t,function(){e++}),e},toArray:function(t){return dd(t,function(e){return e})||[]},only:function(t){if(!Qy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=rl;Re.Fragment=DA;Re.Profiler=LA;Re.PureComponent=Hy;Re.StrictMode=MA;Re.Suspense=$A;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KA;Re.act=s1;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=JE({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Ky.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)t1.call(e,l)&&!n1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var d=0;d<l;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:vu,type:t.type,key:s,ref:i,props:r,_owner:a}};Re.createContext=function(t){return t={$$typeof:FA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VA,_context:t},t.Consumer=t};Re.createElement=r1;Re.createFactory=function(t){var e=r1.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:UA,render:t}};Re.isValidElement=Qy;Re.lazy=function(t){return{$$typeof:zA,_payload:{_status:-1,_result:t},_init:GA}};Re.memo=function(t,e){return{$$typeof:BA,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Wd.transition;Wd.transition={};try{t()}finally{Wd.transition=e}};Re.unstable_act=s1;Re.useCallback=function(t,e){return mn.current.useCallback(t,e)};Re.useContext=function(t){return mn.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};Re.useEffect=function(t,e){return mn.current.useEffect(t,e)};Re.useId=function(){return mn.current.useId()};Re.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return mn.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};Re.useRef=function(t){return mn.current.useRef(t)};Re.useState=function(t){return mn.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return mn.current.useTransition()};Re.version="18.3.1";YE.exports=Re;var P=YE.exports;const F=KE(P),wh=jA({__proto__:null,default:F},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QA=P,YA=Symbol.for("react.element"),XA=Symbol.for("react.fragment"),JA=Object.prototype.hasOwnProperty,ZA=QA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eR={key:!0,ref:!0,__self:!0,__source:!0};function i1(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)JA.call(e,r)&&!eR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:YA,type:t,key:i,ref:a,props:s,_owner:ZA.current}}jf.Fragment=XA;jf.jsx=i1;jf.jsxs=i1;QE.exports=jf;var c=QE.exports,a1={exports:{}},Wn={},o1={exports:{}},l1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,H){var se=K.length;K.push(H);e:for(;0<se;){var Ie=se-1>>>1,oe=K[Ie];if(0<s(oe,H))K[Ie]=H,K[se]=oe,se=Ie;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var H=K[0],se=K.pop();if(se!==H){K[0]=se;e:for(var Ie=0,oe=K.length,ue=oe>>>1;Ie<ue;){var ke=2*(Ie+1)-1,et=K[ke],gt=ke+1,Ue=K[gt];if(0>s(et,se))gt<oe&&0>s(Ue,et)?(K[Ie]=Ue,K[gt]=se,Ie=gt):(K[Ie]=et,K[ke]=se,Ie=ke);else if(gt<oe&&0>s(Ue,se))K[Ie]=Ue,K[gt]=se,Ie=gt;else break e}}return H}function s(K,H){var se=K.sortIndex-H.sortIndex;return se!==0?se:K.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],d=[],h=1,f=null,p=3,g=!1,_=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(K){for(var H=n(d);H!==null;){if(H.callback===null)r(d);else if(H.startTime<=K)r(d),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(d)}}function j(K){if(x=!1,N(K),!_)if(n(l)!==null)_=!0,ve(M);else{var H=n(d);H!==null&&Se(j,H.startTime-K)}}function M(K,H){_=!1,x&&(x=!1,T(w),w=-1),g=!0;var se=p;try{for(N(H),f=n(l);f!==null&&(!(f.expirationTime>H)||K&&!A());){var Ie=f.callback;if(typeof Ie=="function"){f.callback=null,p=f.priorityLevel;var oe=Ie(f.expirationTime<=H);H=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(l)&&r(l),N(H)}else r(l);f=n(l)}if(f!==null)var ue=!0;else{var ke=n(d);ke!==null&&Se(j,ke.startTime-H),ue=!1}return ue}finally{f=null,p=se,g=!1}}var V=!1,S=null,w=-1,E=5,C=-1;function A(){return!(t.unstable_now()-C<E)}function R(){if(S!==null){var K=t.unstable_now();C=K;var H=!0;try{H=S(!0,K)}finally{H?k():(V=!1,S=null)}}else V=!1}var k;if(typeof v=="function")k=function(){v(R)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,he=fe.port2;fe.port1.onmessage=R,k=function(){he.postMessage(null)}}else k=function(){b(R,0)};function ve(K){S=K,V||(V=!0,k())}function Se(K,H){w=b(function(){K(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,ve(M))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var se=p;p=H;try{return K()}finally{p=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,H){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var se=p;p=K;try{return H()}finally{p=se}},t.unstable_scheduleCallback=function(K,H,se){var Ie=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ie+se:Ie):se=Ie,K){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=se+oe,K={id:h++,callback:H,priorityLevel:K,startTime:se,expirationTime:oe,sortIndex:-1},se>Ie?(K.sortIndex=se,e(d,K),n(l)===null&&K===n(d)&&(x?(T(w),w=-1):x=!0,Se(j,se-Ie))):(K.sortIndex=oe,e(l,K),_||g||(_=!0,ve(M))),K},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(K){var H=p;return function(){var se=p;p=H;try{return K.apply(this,arguments)}finally{p=se}}}})(l1);o1.exports=l1;var tR=o1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR=P,qn=tR;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c1=new Set,Ic={};function Aa(t,e){Mo(t,e),Mo(t+"Capture",e)}function Mo(t,e){for(Ic[t]=e,t=0;t<e.length;t++)c1.add(e[t])}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jp=Object.prototype.hasOwnProperty,rR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_w={},ww={};function sR(t){return Jp.call(ww,t)?!0:Jp.call(_w,t)?!1:rR.test(t)?ww[t]=!0:(_w[t]=!0,!1)}function iR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aR(t,e,n,r){if(e===null||typeof e>"u"||iR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yy=/[\-:]([a-z])/g;function Xy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yy,Xy);Ht[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yy,Xy);Ht[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yy,Xy);Ht[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jy(t,e,n,r){var s=Ht.hasOwnProperty(e)?Ht[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aR(e,n,s,r)&&(n=null),r||s===null?sR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ls=nR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hd=Symbol.for("react.element"),to=Symbol.for("react.portal"),no=Symbol.for("react.fragment"),Zy=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),u1=Symbol.for("react.provider"),d1=Symbol.for("react.context"),ev=Symbol.for("react.forward_ref"),eg=Symbol.for("react.suspense"),tg=Symbol.for("react.suspense_list"),tv=Symbol.for("react.memo"),Zs=Symbol.for("react.lazy"),h1=Symbol.for("react.offscreen"),xw=Symbol.iterator;function Pl(t){return t===null||typeof t!="object"?null:(t=xw&&t[xw]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,Gm;function Wl(t){if(Gm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gm=e&&e[1]||""}return`
`+Gm+t}var Km=!1;function Qm(t,e){if(!t||Km)return"";Km=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Km=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wl(t):""}function oR(t){switch(t.tag){case 5:return Wl(t.type);case 16:return Wl("Lazy");case 13:return Wl("Suspense");case 19:return Wl("SuspenseList");case 0:case 2:case 15:return t=Qm(t.type,!1),t;case 11:return t=Qm(t.type.render,!1),t;case 1:return t=Qm(t.type,!0),t;default:return""}}function ng(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case no:return"Fragment";case to:return"Portal";case Zp:return"Profiler";case Zy:return"StrictMode";case eg:return"Suspense";case tg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case d1:return(t.displayName||"Context")+".Consumer";case u1:return(t._context.displayName||"Context")+".Provider";case ev:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tv:return e=t.displayName||null,e!==null?e:ng(t.type)||"Memo";case Zs:e=t._payload,t=t._init;try{return ng(t(e))}catch{}}return null}function lR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ng(e);case 8:return e===Zy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function f1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cR(t){var e=f1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fd(t){t._valueTracker||(t._valueTracker=cR(t))}function m1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=f1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rg(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function p1(t,e){e=e.checked,e!=null&&Jy(t,"checked",e,!1)}function sg(t,e){p1(t,e);var n=Ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ig(t,e.type,n):e.hasOwnProperty("defaultValue")&&ig(t,e.type,Ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ew(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ig(t,e,n){(e!=="number"||xh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hl=Array.isArray;function yo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ci(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ag(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Hl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ci(n)}}function g1(t,e){var n=Ci(e.value),r=Ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function y1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function og(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?y1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var md,v1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(md=md||document.createElement("div"),md.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=md.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uR=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(t){uR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cc[e]=cc[t]})});function _1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cc.hasOwnProperty(t)&&cc[t]?(""+e).trim():e+"px"}function w1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=_1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var dR=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lg(t,e){if(e){if(dR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function cg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ug=null;function nv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dg=null,vo=null,_o=null;function Iw(t){if(t=xu(t)){if(typeof dg!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Vf(e),dg(t.stateNode,t.type,e))}}function x1(t){vo?_o?_o.push(t):_o=[t]:vo=t}function b1(){if(vo){var t=vo,e=_o;if(_o=vo=null,Iw(t),e)for(t=0;t<e.length;t++)Iw(e[t])}}function E1(t,e){return t(e)}function T1(){}var Ym=!1;function S1(t,e,n){if(Ym)return t(e,n);Ym=!0;try{return E1(t,e,n)}finally{Ym=!1,(vo!==null||_o!==null)&&(T1(),b1())}}function Nc(t,e){var n=t.stateNode;if(n===null)return null;var r=Vf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var hg=!1;if(Ns)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){hg=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{hg=!1}function hR(t,e,n,r,s,i,a,o,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var uc=!1,bh=null,Eh=!1,fg=null,fR={onError:function(t){uc=!0,bh=t}};function mR(t,e,n,r,s,i,a,o,l){uc=!1,bh=null,hR.apply(fR,arguments)}function pR(t,e,n,r,s,i,a,o,l){if(mR.apply(this,arguments),uc){if(uc){var d=bh;uc=!1,bh=null}else throw Error(W(198));Eh||(Eh=!0,fg=d)}}function Ra(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function I1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cw(t){if(Ra(t)!==t)throw Error(W(188))}function gR(t){var e=t.alternate;if(!e){if(e=Ra(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Cw(s),t;if(i===r)return Cw(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function C1(t){return t=gR(t),t!==null?N1(t):null}function N1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=N1(t);if(e!==null)return e;t=t.sibling}return null}var k1=qn.unstable_scheduleCallback,Nw=qn.unstable_cancelCallback,yR=qn.unstable_shouldYield,vR=qn.unstable_requestPaint,_t=qn.unstable_now,_R=qn.unstable_getCurrentPriorityLevel,rv=qn.unstable_ImmediatePriority,A1=qn.unstable_UserBlockingPriority,Th=qn.unstable_NormalPriority,wR=qn.unstable_LowPriority,R1=qn.unstable_IdlePriority,Of=null,Br=null;function xR(t){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(Of,t,void 0,(t.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:TR,bR=Math.log,ER=Math.LN2;function TR(t){return t>>>=0,t===0?32:31-(bR(t)/ER|0)|0}var pd=64,gd=4194304;function Gl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=Gl(o):(i&=a,i!==0&&(r=Gl(i)))}else a=n&~s,a!==0?r=Gl(a):i!==0&&(r=Gl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vr(e),s=1<<n,r|=t[n],e&=~s;return r}function SR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-vr(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=SR(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function mg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function P1(){var t=pd;return pd<<=1,!(pd&4194240)&&(pd=64),t}function Xm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _u(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vr(e),t[e]=n}function CR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-vr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function sv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ge=0;function j1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var O1,iv,D1,M1,L1,pg=!1,yd=[],pi=null,gi=null,yi=null,kc=new Map,Ac=new Map,ti=[],NR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kw(t,e){switch(t){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(e.pointerId)}}function Ol(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=xu(e),e!==null&&iv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function kR(t,e,n,r,s){switch(e){case"focusin":return pi=Ol(pi,t,e,n,r,s),!0;case"dragenter":return gi=Ol(gi,t,e,n,r,s),!0;case"mouseover":return yi=Ol(yi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return kc.set(i,Ol(kc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ac.set(i,Ol(Ac.get(i)||null,t,e,n,r,s)),!0}return!1}function V1(t){var e=ra(t.target);if(e!==null){var n=Ra(e);if(n!==null){if(e=n.tag,e===13){if(e=I1(n),e!==null){t.blockedOn=e,L1(t.priority,function(){D1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ug=r,n.target.dispatchEvent(r),ug=null}else return e=xu(n),e!==null&&iv(e),t.blockedOn=n,!1;e.shift()}return!0}function Aw(t,e,n){Hd(t)&&n.delete(e)}function AR(){pg=!1,pi!==null&&Hd(pi)&&(pi=null),gi!==null&&Hd(gi)&&(gi=null),yi!==null&&Hd(yi)&&(yi=null),kc.forEach(Aw),Ac.forEach(Aw)}function Dl(t,e){t.blockedOn===e&&(t.blockedOn=null,pg||(pg=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,AR)))}function Rc(t){function e(s){return Dl(s,t)}if(0<yd.length){Dl(yd[0],t);for(var n=1;n<yd.length;n++){var r=yd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pi!==null&&Dl(pi,t),gi!==null&&Dl(gi,t),yi!==null&&Dl(yi,t),kc.forEach(e),Ac.forEach(e),n=0;n<ti.length;n++)r=ti[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ti.length&&(n=ti[0],n.blockedOn===null);)V1(n),n.blockedOn===null&&ti.shift()}var wo=Ls.ReactCurrentBatchConfig,Ih=!0;function RR(t,e,n,r){var s=Ge,i=wo.transition;wo.transition=null;try{Ge=1,av(t,e,n,r)}finally{Ge=s,wo.transition=i}}function PR(t,e,n,r){var s=Ge,i=wo.transition;wo.transition=null;try{Ge=4,av(t,e,n,r)}finally{Ge=s,wo.transition=i}}function av(t,e,n,r){if(Ih){var s=gg(t,e,n,r);if(s===null)op(t,e,r,Ch,n),kw(t,r);else if(kR(s,t,e,n,r))r.stopPropagation();else if(kw(t,r),e&4&&-1<NR.indexOf(t)){for(;s!==null;){var i=xu(s);if(i!==null&&O1(i),i=gg(t,e,n,r),i===null&&op(t,e,r,Ch,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else op(t,e,r,null,n)}}var Ch=null;function gg(t,e,n,r){if(Ch=null,t=nv(r),t=ra(t),t!==null)if(e=Ra(t),e===null)t=null;else if(n=e.tag,n===13){if(t=I1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ch=t,null}function F1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_R()){case rv:return 1;case A1:return 4;case Th:case wR:return 16;case R1:return 536870912;default:return 16}default:return 16}}var ci=null,ov=null,Gd=null;function U1(){if(Gd)return Gd;var t,e=ov,n=e.length,r,s="value"in ci?ci.value:ci.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Gd=s.slice(t,1<r?1-r:void 0)}function Kd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vd(){return!0}function Rw(){return!1}function Hn(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vd:Rw,this.isPropagationStopped=Rw,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vd)},persist:function(){},isPersistent:vd}),e}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lv=Hn(sl),wu=ht({},sl,{view:0,detail:0}),jR=Hn(wu),Jm,Zm,Ml,Df=ht({},wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ml&&(Ml&&t.type==="mousemove"?(Jm=t.screenX-Ml.screenX,Zm=t.screenY-Ml.screenY):Zm=Jm=0,Ml=t),Jm)},movementY:function(t){return"movementY"in t?t.movementY:Zm}}),Pw=Hn(Df),OR=ht({},Df,{dataTransfer:0}),DR=Hn(OR),MR=ht({},wu,{relatedTarget:0}),ep=Hn(MR),LR=ht({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),VR=Hn(LR),FR=ht({},sl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UR=Hn(FR),$R=ht({},sl,{data:0}),jw=Hn($R),BR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qR[t])?!!e[t]:!1}function cv(){return WR}var HR=ht({},wu,{key:function(t){if(t.key){var e=BR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cv,charCode:function(t){return t.type==="keypress"?Kd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GR=Hn(HR),KR=ht({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ow=Hn(KR),QR=ht({},wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cv}),YR=Hn(QR),XR=ht({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),JR=Hn(XR),ZR=ht({},Df,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eP=Hn(ZR),tP=[9,13,27,32],uv=Ns&&"CompositionEvent"in window,dc=null;Ns&&"documentMode"in document&&(dc=document.documentMode);var nP=Ns&&"TextEvent"in window&&!dc,$1=Ns&&(!uv||dc&&8<dc&&11>=dc),Dw=" ",Mw=!1;function B1(t,e){switch(t){case"keyup":return tP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ro=!1;function rP(t,e){switch(t){case"compositionend":return z1(e);case"keypress":return e.which!==32?null:(Mw=!0,Dw);case"textInput":return t=e.data,t===Dw&&Mw?null:t;default:return null}}function sP(t,e){if(ro)return t==="compositionend"||!uv&&B1(t,e)?(t=U1(),Gd=ov=ci=null,ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $1&&e.locale!=="ko"?null:e.data;default:return null}}var iP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iP[t.type]:e==="textarea"}function q1(t,e,n,r){x1(r),e=Nh(e,"onChange"),0<e.length&&(n=new lv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hc=null,Pc=null;function aP(t){tT(t,0)}function Mf(t){var e=ao(t);if(m1(e))return t}function oP(t,e){if(t==="change")return e}var W1=!1;if(Ns){var tp;if(Ns){var np="oninput"in document;if(!np){var Vw=document.createElement("div");Vw.setAttribute("oninput","return;"),np=typeof Vw.oninput=="function"}tp=np}else tp=!1;W1=tp&&(!document.documentMode||9<document.documentMode)}function Fw(){hc&&(hc.detachEvent("onpropertychange",H1),Pc=hc=null)}function H1(t){if(t.propertyName==="value"&&Mf(Pc)){var e=[];q1(e,Pc,t,nv(t)),S1(aP,e)}}function lP(t,e,n){t==="focusin"?(Fw(),hc=e,Pc=n,hc.attachEvent("onpropertychange",H1)):t==="focusout"&&Fw()}function cP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mf(Pc)}function uP(t,e){if(t==="click")return Mf(e)}function dP(t,e){if(t==="input"||t==="change")return Mf(e)}function hP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var br=typeof Object.is=="function"?Object.is:hP;function jc(t,e){if(br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Jp.call(e,s)||!br(t[s],e[s]))return!1}return!0}function Uw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $w(t,e){var n=Uw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uw(n)}}function G1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function K1(){for(var t=window,e=xh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xh(t.document)}return e}function dv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fP(t){var e=K1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&G1(n.ownerDocument.documentElement,n)){if(r!==null&&dv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=$w(n,i);var a=$w(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mP=Ns&&"documentMode"in document&&11>=document.documentMode,so=null,yg=null,fc=null,vg=!1;function Bw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vg||so==null||so!==xh(r)||(r=so,"selectionStart"in r&&dv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fc&&jc(fc,r)||(fc=r,r=Nh(yg,"onSelect"),0<r.length&&(e=new lv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=so)))}function _d(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var io={animationend:_d("Animation","AnimationEnd"),animationiteration:_d("Animation","AnimationIteration"),animationstart:_d("Animation","AnimationStart"),transitionend:_d("Transition","TransitionEnd")},rp={},Q1={};Ns&&(Q1=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function Lf(t){if(rp[t])return rp[t];if(!io[t])return t;var e=io[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Q1)return rp[t]=e[n];return t}var Y1=Lf("animationend"),X1=Lf("animationiteration"),J1=Lf("animationstart"),Z1=Lf("transitionend"),eT=new Map,zw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fi(t,e){eT.set(t,e),Aa(e,[t])}for(var sp=0;sp<zw.length;sp++){var ip=zw[sp],pP=ip.toLowerCase(),gP=ip[0].toUpperCase()+ip.slice(1);Fi(pP,"on"+gP)}Fi(Y1,"onAnimationEnd");Fi(X1,"onAnimationIteration");Fi(J1,"onAnimationStart");Fi("dblclick","onDoubleClick");Fi("focusin","onFocus");Fi("focusout","onBlur");Fi(Z1,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function qw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pR(r,e,void 0,t),t.currentTarget=null}function tT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,d=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;qw(s,o,d),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,d=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;qw(s,o,d),i=l}}}if(Eh)throw t=fg,Eh=!1,fg=null,t}function st(t,e){var n=e[Eg];n===void 0&&(n=e[Eg]=new Set);var r=t+"__bubble";n.has(r)||(nT(e,t,2,!1),n.add(r))}function ap(t,e,n){var r=0;e&&(r|=4),nT(n,t,r,e)}var wd="_reactListening"+Math.random().toString(36).slice(2);function Oc(t){if(!t[wd]){t[wd]=!0,c1.forEach(function(n){n!=="selectionchange"&&(yP.has(n)||ap(n,!1,t),ap(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wd]||(e[wd]=!0,ap("selectionchange",!1,e))}}function nT(t,e,n,r){switch(F1(e)){case 1:var s=RR;break;case 4:s=PR;break;default:s=av}n=s.bind(null,e,n,t),s=void 0,!hg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function op(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=ra(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}S1(function(){var d=i,h=nv(n),f=[];e:{var p=eT.get(t);if(p!==void 0){var g=lv,_=t;switch(t){case"keypress":if(Kd(n)===0)break e;case"keydown":case"keyup":g=GR;break;case"focusin":_="focus",g=ep;break;case"focusout":_="blur",g=ep;break;case"beforeblur":case"afterblur":g=ep;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Pw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=DR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=YR;break;case Y1:case X1:case J1:g=VR;break;case Z1:g=JR;break;case"scroll":g=jR;break;case"wheel":g=eP;break;case"copy":case"cut":case"paste":g=UR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ow}var x=(e&4)!==0,b=!x&&t==="scroll",T=x?p!==null?p+"Capture":null:p;x=[];for(var v=d,N;v!==null;){N=v;var j=N.stateNode;if(N.tag===5&&j!==null&&(N=j,T!==null&&(j=Nc(v,T),j!=null&&x.push(Dc(v,j,N)))),b)break;v=v.return}0<x.length&&(p=new g(p,_,null,n,h),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==ug&&(_=n.relatedTarget||n.fromElement)&&(ra(_)||_[ks]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=d,_=_?ra(_):null,_!==null&&(b=Ra(_),_!==b||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=d),g!==_)){if(x=Pw,j="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=Ow,j="onPointerLeave",T="onPointerEnter",v="pointer"),b=g==null?p:ao(g),N=_==null?p:ao(_),p=new x(j,v+"leave",g,n,h),p.target=b,p.relatedTarget=N,j=null,ra(h)===d&&(x=new x(T,v+"enter",_,n,h),x.target=N,x.relatedTarget=b,j=x),b=j,g&&_)t:{for(x=g,T=_,v=0,N=x;N;N=Ba(N))v++;for(N=0,j=T;j;j=Ba(j))N++;for(;0<v-N;)x=Ba(x),v--;for(;0<N-v;)T=Ba(T),N--;for(;v--;){if(x===T||T!==null&&x===T.alternate)break t;x=Ba(x),T=Ba(T)}x=null}else x=null;g!==null&&Ww(f,p,g,x,!1),_!==null&&b!==null&&Ww(f,b,_,x,!0)}}e:{if(p=d?ao(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var M=oP;else if(Lw(p))if(W1)M=dP;else{M=cP;var V=lP}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=uP);if(M&&(M=M(t,d))){q1(f,M,n,h);break e}V&&V(t,p,d),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&ig(p,"number",p.value)}switch(V=d?ao(d):window,t){case"focusin":(Lw(V)||V.contentEditable==="true")&&(so=V,yg=d,fc=null);break;case"focusout":fc=yg=so=null;break;case"mousedown":vg=!0;break;case"contextmenu":case"mouseup":case"dragend":vg=!1,Bw(f,n,h);break;case"selectionchange":if(mP)break;case"keydown":case"keyup":Bw(f,n,h)}var S;if(uv)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ro?B1(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&($1&&n.locale!=="ko"&&(ro||w!=="onCompositionStart"?w==="onCompositionEnd"&&ro&&(S=U1()):(ci=h,ov="value"in ci?ci.value:ci.textContent,ro=!0)),V=Nh(d,w),0<V.length&&(w=new jw(w,t,null,n,h),f.push({event:w,listeners:V}),S?w.data=S:(S=z1(n),S!==null&&(w.data=S)))),(S=nP?rP(t,n):sP(t,n))&&(d=Nh(d,"onBeforeInput"),0<d.length&&(h=new jw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=S))}tT(f,e)})}function Dc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nc(t,n),i!=null&&r.unshift(Dc(t,i,s)),i=Nc(t,e),i!=null&&r.push(Dc(t,i,s))),t=t.return}return r}function Ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ww(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,d=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&d!==null&&(o=d,s?(l=Nc(n,i),l!=null&&a.unshift(Dc(n,l,o))):s||(l=Nc(n,i),l!=null&&a.push(Dc(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var vP=/\r\n?/g,_P=/\u0000|\uFFFD/g;function Hw(t){return(typeof t=="string"?t:""+t).replace(vP,`
`).replace(_P,"")}function xd(t,e,n){if(e=Hw(e),Hw(t)!==e&&n)throw Error(W(425))}function kh(){}var _g=null,wg=null;function xg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bg=typeof setTimeout=="function"?setTimeout:void 0,wP=typeof clearTimeout=="function"?clearTimeout:void 0,Gw=typeof Promise=="function"?Promise:void 0,xP=typeof queueMicrotask=="function"?queueMicrotask:typeof Gw<"u"?function(t){return Gw.resolve(null).then(t).catch(bP)}:bg;function bP(t){setTimeout(function(){throw t})}function lp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Rc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Rc(e)}function vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var il=Math.random().toString(36).slice(2),Dr="__reactFiber$"+il,Mc="__reactProps$"+il,ks="__reactContainer$"+il,Eg="__reactEvents$"+il,EP="__reactListeners$"+il,TP="__reactHandles$"+il;function ra(t){var e=t[Dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ks]||n[Dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kw(t);t!==null;){if(n=t[Dr])return n;t=Kw(t)}return e}t=n,n=t.parentNode}return null}function xu(t){return t=t[Dr]||t[ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Vf(t){return t[Mc]||null}var Tg=[],oo=-1;function Ui(t){return{current:t}}function at(t){0>oo||(t.current=Tg[oo],Tg[oo]=null,oo--)}function tt(t,e){oo++,Tg[oo]=t.current,t.current=e}var Ni={},an=Ui(Ni),Tn=Ui(!1),ma=Ni;function Lo(t,e){var n=t.type.contextTypes;if(!n)return Ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Sn(t){return t=t.childContextTypes,t!=null}function Ah(){at(Tn),at(an)}function Qw(t,e,n){if(an.current!==Ni)throw Error(W(168));tt(an,e),tt(Tn,n)}function rT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,lR(t)||"Unknown",s));return ht({},n,r)}function Rh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,ma=an.current,tt(an,t),tt(Tn,Tn.current),!0}function Yw(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=rT(t,e,ma),r.__reactInternalMemoizedMergedChildContext=t,at(Tn),at(an),tt(an,t)):at(Tn),tt(Tn,n)}var vs=null,Ff=!1,cp=!1;function sT(t){vs===null?vs=[t]:vs.push(t)}function SP(t){Ff=!0,sT(t)}function $i(){if(!cp&&vs!==null){cp=!0;var t=0,e=Ge;try{var n=vs;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vs=null,Ff=!1}catch(s){throw vs!==null&&(vs=vs.slice(t+1)),k1(rv,$i),s}finally{Ge=e,cp=!1}}return null}var lo=[],co=0,Ph=null,jh=0,Xn=[],Jn=0,pa=null,_s=1,ws="";function Ji(t,e){lo[co++]=jh,lo[co++]=Ph,Ph=t,jh=e}function iT(t,e,n){Xn[Jn++]=_s,Xn[Jn++]=ws,Xn[Jn++]=pa,pa=t;var r=_s;t=ws;var s=32-vr(r)-1;r&=~(1<<s),n+=1;var i=32-vr(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,_s=1<<32-vr(e)+s|n<<s|r,ws=i+t}else _s=1<<i|n<<s|r,ws=t}function hv(t){t.return!==null&&(Ji(t,1),iT(t,1,0))}function fv(t){for(;t===Ph;)Ph=lo[--co],lo[co]=null,jh=lo[--co],lo[co]=null;for(;t===pa;)pa=Xn[--Jn],Xn[Jn]=null,ws=Xn[--Jn],Xn[Jn]=null,_s=Xn[--Jn],Xn[Jn]=null}var $n=null,Vn=null,ot=!1,hr=null;function aT(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$n=t,Vn=vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$n=t,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pa!==null?{id:_s,overflow:ws}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$n=t,Vn=null,!0):!1;default:return!1}}function Sg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ig(t){if(ot){var e=Vn;if(e){var n=e;if(!Xw(t,e)){if(Sg(t))throw Error(W(418));e=vi(n.nextSibling);var r=$n;e&&Xw(t,e)?aT(r,n):(t.flags=t.flags&-4097|2,ot=!1,$n=t)}}else{if(Sg(t))throw Error(W(418));t.flags=t.flags&-4097|2,ot=!1,$n=t}}}function Jw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$n=t}function bd(t){if(t!==$n)return!1;if(!ot)return Jw(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xg(t.type,t.memoizedProps)),e&&(e=Vn)){if(Sg(t))throw oT(),Error(W(418));for(;e;)aT(t,e),e=vi(e.nextSibling)}if(Jw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vn=vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vn=null}}else Vn=$n?vi(t.stateNode.nextSibling):null;return!0}function oT(){for(var t=Vn;t;)t=vi(t.nextSibling)}function Vo(){Vn=$n=null,ot=!1}function mv(t){hr===null?hr=[t]:hr.push(t)}var IP=Ls.ReactCurrentBatchConfig;function Ll(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Ed(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zw(t){var e=t._init;return e(t._payload)}function lT(t){function e(T,v){if(t){var N=T.deletions;N===null?(T.deletions=[v],T.flags|=16):N.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function r(T,v){for(T=new Map;v!==null;)v.key!==null?T.set(v.key,v):T.set(v.index,v),v=v.sibling;return T}function s(T,v){return T=bi(T,v),T.index=0,T.sibling=null,T}function i(T,v,N){return T.index=N,t?(N=T.alternate,N!==null?(N=N.index,N<v?(T.flags|=2,v):N):(T.flags|=2,v)):(T.flags|=1048576,v)}function a(T){return t&&T.alternate===null&&(T.flags|=2),T}function o(T,v,N,j){return v===null||v.tag!==6?(v=gp(N,T.mode,j),v.return=T,v):(v=s(v,N),v.return=T,v)}function l(T,v,N,j){var M=N.type;return M===no?h(T,v,N.props.children,j,N.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Zs&&Zw(M)===v.type)?(j=s(v,N.props),j.ref=Ll(T,v,N),j.return=T,j):(j=th(N.type,N.key,N.props,null,T.mode,j),j.ref=Ll(T,v,N),j.return=T,j)}function d(T,v,N,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==N.containerInfo||v.stateNode.implementation!==N.implementation?(v=yp(N,T.mode,j),v.return=T,v):(v=s(v,N.children||[]),v.return=T,v)}function h(T,v,N,j,M){return v===null||v.tag!==7?(v=da(N,T.mode,j,M),v.return=T,v):(v=s(v,N),v.return=T,v)}function f(T,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return v=gp(""+v,T.mode,N),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hd:return N=th(v.type,v.key,v.props,null,T.mode,N),N.ref=Ll(T,null,v),N.return=T,N;case to:return v=yp(v,T.mode,N),v.return=T,v;case Zs:var j=v._init;return f(T,j(v._payload),N)}if(Hl(v)||Pl(v))return v=da(v,T.mode,N,null),v.return=T,v;Ed(T,v)}return null}function p(T,v,N,j){var M=v!==null?v.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return M!==null?null:o(T,v,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case hd:return N.key===M?l(T,v,N,j):null;case to:return N.key===M?d(T,v,N,j):null;case Zs:return M=N._init,p(T,v,M(N._payload),j)}if(Hl(N)||Pl(N))return M!==null?null:h(T,v,N,j,null);Ed(T,N)}return null}function g(T,v,N,j,M){if(typeof j=="string"&&j!==""||typeof j=="number")return T=T.get(N)||null,o(v,T,""+j,M);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case hd:return T=T.get(j.key===null?N:j.key)||null,l(v,T,j,M);case to:return T=T.get(j.key===null?N:j.key)||null,d(v,T,j,M);case Zs:var V=j._init;return g(T,v,N,V(j._payload),M)}if(Hl(j)||Pl(j))return T=T.get(N)||null,h(v,T,j,M,null);Ed(v,j)}return null}function _(T,v,N,j){for(var M=null,V=null,S=v,w=v=0,E=null;S!==null&&w<N.length;w++){S.index>w?(E=S,S=null):E=S.sibling;var C=p(T,S,N[w],j);if(C===null){S===null&&(S=E);break}t&&S&&C.alternate===null&&e(T,S),v=i(C,v,w),V===null?M=C:V.sibling=C,V=C,S=E}if(w===N.length)return n(T,S),ot&&Ji(T,w),M;if(S===null){for(;w<N.length;w++)S=f(T,N[w],j),S!==null&&(v=i(S,v,w),V===null?M=S:V.sibling=S,V=S);return ot&&Ji(T,w),M}for(S=r(T,S);w<N.length;w++)E=g(S,T,w,N[w],j),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?w:E.key),v=i(E,v,w),V===null?M=E:V.sibling=E,V=E);return t&&S.forEach(function(A){return e(T,A)}),ot&&Ji(T,w),M}function x(T,v,N,j){var M=Pl(N);if(typeof M!="function")throw Error(W(150));if(N=M.call(N),N==null)throw Error(W(151));for(var V=M=null,S=v,w=v=0,E=null,C=N.next();S!==null&&!C.done;w++,C=N.next()){S.index>w?(E=S,S=null):E=S.sibling;var A=p(T,S,C.value,j);if(A===null){S===null&&(S=E);break}t&&S&&A.alternate===null&&e(T,S),v=i(A,v,w),V===null?M=A:V.sibling=A,V=A,S=E}if(C.done)return n(T,S),ot&&Ji(T,w),M;if(S===null){for(;!C.done;w++,C=N.next())C=f(T,C.value,j),C!==null&&(v=i(C,v,w),V===null?M=C:V.sibling=C,V=C);return ot&&Ji(T,w),M}for(S=r(T,S);!C.done;w++,C=N.next())C=g(S,T,w,C.value,j),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?w:C.key),v=i(C,v,w),V===null?M=C:V.sibling=C,V=C);return t&&S.forEach(function(R){return e(T,R)}),ot&&Ji(T,w),M}function b(T,v,N,j){if(typeof N=="object"&&N!==null&&N.type===no&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case hd:e:{for(var M=N.key,V=v;V!==null;){if(V.key===M){if(M=N.type,M===no){if(V.tag===7){n(T,V.sibling),v=s(V,N.props.children),v.return=T,T=v;break e}}else if(V.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Zs&&Zw(M)===V.type){n(T,V.sibling),v=s(V,N.props),v.ref=Ll(T,V,N),v.return=T,T=v;break e}n(T,V);break}else e(T,V);V=V.sibling}N.type===no?(v=da(N.props.children,T.mode,j,N.key),v.return=T,T=v):(j=th(N.type,N.key,N.props,null,T.mode,j),j.ref=Ll(T,v,N),j.return=T,T=j)}return a(T);case to:e:{for(V=N.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===N.containerInfo&&v.stateNode.implementation===N.implementation){n(T,v.sibling),v=s(v,N.children||[]),v.return=T,T=v;break e}else{n(T,v);break}else e(T,v);v=v.sibling}v=yp(N,T.mode,j),v.return=T,T=v}return a(T);case Zs:return V=N._init,b(T,v,V(N._payload),j)}if(Hl(N))return _(T,v,N,j);if(Pl(N))return x(T,v,N,j);Ed(T,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,v!==null&&v.tag===6?(n(T,v.sibling),v=s(v,N),v.return=T,T=v):(n(T,v),v=gp(N,T.mode,j),v.return=T,T=v),a(T)):n(T,v)}return b}var Fo=lT(!0),cT=lT(!1),Oh=Ui(null),Dh=null,uo=null,pv=null;function gv(){pv=uo=Dh=null}function yv(t){var e=Oh.current;at(Oh),t._currentValue=e}function Cg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xo(t,e){Dh=t,pv=uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(pv!==t)if(t={context:t,memoizedValue:e,next:null},uo===null){if(Dh===null)throw Error(W(308));uo=t,Dh.dependencies={lanes:0,firstContext:t}}else uo=uo.next=t;return e}var sa=null;function vv(t){sa===null?sa=[t]:sa.push(t)}function uT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,vv(e)):(n.next=s.next,s.next=n),e.interleaved=n,As(t,r)}function As(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ei=!1;function _v(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ts(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _i(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,As(t,n)}return s=r.interleaved,s===null?(e.next=e,vv(r)):(e.next=s.next,s.next=e),r.interleaved=e,As(t,n)}function Qd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sv(t,n)}}function ex(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mh(t,e,n,r){var s=t.updateQueue;ei=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,d=l.next;l.next=null,a===null?i=d:a.next=d,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=d:o.next=d,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;a=0,h=d=l=null,o=i;do{var p=o.lane,g=o.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=t,x=o;switch(p=e,g=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){f=_.call(g,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,p=typeof _=="function"?_.call(g,f,p):_,p==null)break e;f=ht({},f,p);break e;case 2:ei=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else g={eventTime:g,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(d=h=g,l=f):h=h.next=g,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ya|=a,t.lanes=a,t.memoizedState=f}}function tx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var bu={},zr=Ui(bu),Lc=Ui(bu),Vc=Ui(bu);function ia(t){if(t===bu)throw Error(W(174));return t}function wv(t,e){switch(tt(Vc,e),tt(Lc,t),tt(zr,bu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:og(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=og(e,t)}at(zr),tt(zr,e)}function Uo(){at(zr),at(Lc),at(Vc)}function hT(t){ia(Vc.current);var e=ia(zr.current),n=og(e,t.type);e!==n&&(tt(Lc,t),tt(zr,n))}function xv(t){Lc.current===t&&(at(zr),at(Lc))}var ut=Ui(0);function Lh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var up=[];function bv(){for(var t=0;t<up.length;t++)up[t]._workInProgressVersionPrimary=null;up.length=0}var Yd=Ls.ReactCurrentDispatcher,dp=Ls.ReactCurrentBatchConfig,ga=0,dt=null,Rt=null,Mt=null,Vh=!1,mc=!1,Fc=0,CP=0;function Xt(){throw Error(W(321))}function Ev(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!br(t[n],e[n]))return!1;return!0}function Tv(t,e,n,r,s,i){if(ga=i,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yd.current=t===null||t.memoizedState===null?RP:PP,t=n(r,s),mc){i=0;do{if(mc=!1,Fc=0,25<=i)throw Error(W(301));i+=1,Mt=Rt=null,e.updateQueue=null,Yd.current=jP,t=n(r,s)}while(mc)}if(Yd.current=Fh,e=Rt!==null&&Rt.next!==null,ga=0,Mt=Rt=dt=null,Vh=!1,e)throw Error(W(300));return t}function Sv(){var t=Fc!==0;return Fc=0,t}function Rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?dt.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function rr(){if(Rt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Mt===null?dt.memoizedState:Mt.next;if(e!==null)Mt=e,Rt=t;else{if(t===null)throw Error(W(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Mt===null?dt.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Uc(t,e){return typeof e=="function"?e(t):e}function hp(t){var e=rr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Rt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,d=i;do{var h=d.lane;if((ga&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,dt.lanes|=h,ya|=h}d=d.next}while(d!==null&&d!==i);l===null?a=r:l.next=o,br(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,dt.lanes|=i,ya|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fp(t){var e=rr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);br(i,e.memoizedState)||(En=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function fT(){}function mT(t,e){var n=dt,r=rr(),s=e(),i=!br(r.memoizedState,s);if(i&&(r.memoizedState=s,En=!0),r=r.queue,Iv(yT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,$c(9,gT.bind(null,n,r,s,e),void 0,null),Lt===null)throw Error(W(349));ga&30||pT(n,e,s)}return s}function pT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gT(t,e,n,r){e.value=n,e.getSnapshot=r,vT(e)&&_T(t)}function yT(t,e,n){return n(function(){vT(e)&&_T(t)})}function vT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!br(t,n)}catch{return!0}}function _T(t){var e=As(t,1);e!==null&&_r(e,t,1,-1)}function nx(t){var e=Rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:t},e.queue=t,t=t.dispatch=AP.bind(null,dt,t),[e.memoizedState,t]}function $c(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wT(){return rr().memoizedState}function Xd(t,e,n,r){var s=Rr();dt.flags|=t,s.memoizedState=$c(1|e,n,void 0,r===void 0?null:r)}function Uf(t,e,n,r){var s=rr();r=r===void 0?null:r;var i=void 0;if(Rt!==null){var a=Rt.memoizedState;if(i=a.destroy,r!==null&&Ev(r,a.deps)){s.memoizedState=$c(e,n,i,r);return}}dt.flags|=t,s.memoizedState=$c(1|e,n,i,r)}function rx(t,e){return Xd(8390656,8,t,e)}function Iv(t,e){return Uf(2048,8,t,e)}function xT(t,e){return Uf(4,2,t,e)}function bT(t,e){return Uf(4,4,t,e)}function ET(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TT(t,e,n){return n=n!=null?n.concat([t]):null,Uf(4,4,ET.bind(null,e,t),n)}function Cv(){}function ST(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ev(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function IT(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ev(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CT(t,e,n){return ga&21?(br(n,e)||(n=P1(),dt.lanes|=n,ya|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function NP(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=dp.transition;dp.transition={};try{t(!1),e()}finally{Ge=n,dp.transition=r}}function NT(){return rr().memoizedState}function kP(t,e,n){var r=xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kT(t))AT(e,n);else if(n=uT(t,e,n,r),n!==null){var s=hn();_r(n,t,r,s),RT(n,e,r)}}function AP(t,e,n){var r=xi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kT(t))AT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,br(o,a)){var l=e.interleaved;l===null?(s.next=s,vv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=uT(t,e,s,r),n!==null&&(s=hn(),_r(n,t,r,s),RT(n,e,r))}}function kT(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function AT(t,e){mc=Vh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sv(t,n)}}var Fh={readContext:nr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},RP={readContext:nr,useCallback:function(t,e){return Rr().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:rx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xd(4194308,4,ET.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xd(4,2,t,e)},useMemo:function(t,e){var n=Rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kP.bind(null,dt,t),[r.memoizedState,t]},useRef:function(t){var e=Rr();return t={current:t},e.memoizedState=t},useState:nx,useDebugValue:Cv,useDeferredValue:function(t){return Rr().memoizedState=t},useTransition:function(){var t=nx(!1),e=t[0];return t=NP.bind(null,t[1]),Rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dt,s=Rr();if(ot){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Lt===null)throw Error(W(349));ga&30||pT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,rx(yT.bind(null,r,i,t),[t]),r.flags|=2048,$c(9,gT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Rr(),e=Lt.identifierPrefix;if(ot){var n=ws,r=_s;n=(r&~(1<<32-vr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PP={readContext:nr,useCallback:ST,useContext:nr,useEffect:Iv,useImperativeHandle:TT,useInsertionEffect:xT,useLayoutEffect:bT,useMemo:IT,useReducer:hp,useRef:wT,useState:function(){return hp(Uc)},useDebugValue:Cv,useDeferredValue:function(t){var e=rr();return CT(e,Rt.memoizedState,t)},useTransition:function(){var t=hp(Uc)[0],e=rr().memoizedState;return[t,e]},useMutableSource:fT,useSyncExternalStore:mT,useId:NT,unstable_isNewReconciler:!1},jP={readContext:nr,useCallback:ST,useContext:nr,useEffect:Iv,useImperativeHandle:TT,useInsertionEffect:xT,useLayoutEffect:bT,useMemo:IT,useReducer:fp,useRef:wT,useState:function(){return fp(Uc)},useDebugValue:Cv,useDeferredValue:function(t){var e=rr();return Rt===null?e.memoizedState=t:CT(e,Rt.memoizedState,t)},useTransition:function(){var t=fp(Uc)[0],e=rr().memoizedState;return[t,e]},useMutableSource:fT,useSyncExternalStore:mT,useId:NT,unstable_isNewReconciler:!1};function cr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ng(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $f={isMounted:function(t){return(t=t._reactInternals)?Ra(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),s=xi(t),i=Ts(r,s);i.payload=e,n!=null&&(i.callback=n),e=_i(t,i,s),e!==null&&(_r(e,t,s,r),Qd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),s=xi(t),i=Ts(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=_i(t,i,s),e!==null&&(_r(e,t,s,r),Qd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=xi(t),s=Ts(n,r);s.tag=2,e!=null&&(s.callback=e),e=_i(t,s,r),e!==null&&(_r(e,t,r,n),Qd(e,t,r))}};function sx(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!jc(n,r)||!jc(s,i):!0}function PT(t,e,n){var r=!1,s=Ni,i=e.contextType;return typeof i=="object"&&i!==null?i=nr(i):(s=Sn(e)?ma:an.current,r=e.contextTypes,i=(r=r!=null)?Lo(t,s):Ni),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$f,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ix(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$f.enqueueReplaceState(e,e.state,null)}function kg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},_v(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=nr(i):(i=Sn(e)?ma:an.current,s.context=Lo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ng(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&$f.enqueueReplaceState(s,s.state,null),Mh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $o(t,e){try{var n="",r=e;do n+=oR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function mp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ag(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OP=typeof WeakMap=="function"?WeakMap:Map;function jT(t,e,n){n=Ts(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$h||($h=!0,Ug=r),Ag(t,e)},n}function OT(t,e,n){n=Ts(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ag(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ag(t,e),typeof r!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function ax(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=KP.bind(null,t,e,n),e.then(t,t))}function ox(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ts(-1,1),e.tag=2,_i(n,e,1))),n.lanes|=1),t)}var DP=Ls.ReactCurrentOwner,En=!1;function un(t,e,n,r){e.child=t===null?cT(e,null,n,r):Fo(e,t.child,n,r)}function cx(t,e,n,r,s){n=n.render;var i=e.ref;return xo(e,s),r=Tv(t,e,n,r,i,s),n=Sv(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rs(t,e,s)):(ot&&n&&hv(e),e.flags|=1,un(t,e,r,s),e.child)}function ux(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Dv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,DT(t,e,i,r,s)):(t=th(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:jc,n(a,r)&&t.ref===e.ref)return Rs(t,e,s)}return e.flags|=1,t=bi(i,r),t.ref=e.ref,t.return=e,e.child=t}function DT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(jc(i,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,Rs(t,e,s)}return Rg(t,e,n,r,s)}function MT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(fo,Dn),Dn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(fo,Dn),Dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,tt(fo,Dn),Dn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,tt(fo,Dn),Dn|=r;return un(t,e,s,n),e.child}function LT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rg(t,e,n,r,s){var i=Sn(n)?ma:an.current;return i=Lo(e,i),xo(e,s),n=Tv(t,e,n,r,i,s),r=Sv(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rs(t,e,s)):(ot&&r&&hv(e),e.flags|=1,un(t,e,n,s),e.child)}function dx(t,e,n,r,s){if(Sn(n)){var i=!0;Rh(e)}else i=!1;if(xo(e,s),e.stateNode===null)Jd(t,e),PT(e,n,r),kg(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=nr(d):(d=Sn(n)?ma:an.current,d=Lo(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==d)&&ix(e,a,r,d),ei=!1;var p=e.memoizedState;a.state=p,Mh(e,r,a,s),l=e.memoizedState,o!==r||p!==l||Tn.current||ei?(typeof h=="function"&&(Ng(e,n,h,r),l=e.memoizedState),(o=ei||sx(e,n,o,r,p,l,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=d,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,dT(t,e),o=e.memoizedProps,d=e.type===e.elementType?o:cr(e.type,o),a.props=d,f=e.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=nr(l):(l=Sn(n)?ma:an.current,l=Lo(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||p!==l)&&ix(e,a,r,l),ei=!1,p=e.memoizedState,a.state=p,Mh(e,r,a,s);var _=e.memoizedState;o!==f||p!==_||Tn.current||ei?(typeof g=="function"&&(Ng(e,n,g,r),_=e.memoizedState),(d=ei||sx(e,n,d,r,p,_,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),a.props=r,a.state=_,a.context=l,r=d):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Pg(t,e,n,r,i,s)}function Pg(t,e,n,r,s,i){LT(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Yw(e,n,!1),Rs(t,e,i);r=e.stateNode,DP.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Fo(e,t.child,null,i),e.child=Fo(e,null,o,i)):un(t,e,o,i),e.memoizedState=r.state,s&&Yw(e,n,!0),e.child}function VT(t){var e=t.stateNode;e.pendingContext?Qw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qw(t,e.context,!1),wv(t,e.containerInfo)}function hx(t,e,n,r,s){return Vo(),mv(s),e.flags|=256,un(t,e,n,r),e.child}var jg={dehydrated:null,treeContext:null,retryLane:0};function Og(t){return{baseLanes:t,cachePool:null,transitions:null}}function FT(t,e,n){var r=e.pendingProps,s=ut.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),tt(ut,s&1),t===null)return Ig(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=qf(a,r,0,null),t=da(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Og(n),e.memoizedState=jg,t):Nv(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return MP(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=bi(o,i):(i=da(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Og(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=jg,r}return i=t.child,t=i.sibling,r=bi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nv(t,e){return e=qf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Td(t,e,n,r){return r!==null&&mv(r),Fo(e,t.child,null,n),t=Nv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MP(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=mp(Error(W(422))),Td(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=qf({mode:"visible",children:r.children},s,0,null),i=da(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fo(e,t.child,null,a),e.child.memoizedState=Og(a),e.memoizedState=jg,i);if(!(e.mode&1))return Td(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(W(419)),r=mp(i,r,void 0),Td(t,e,a,r)}if(o=(a&t.childLanes)!==0,En||o){if(r=Lt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,As(t,s),_r(r,t,s,-1))}return Ov(),r=mp(Error(W(421))),Td(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=QP.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Vn=vi(s.nextSibling),$n=e,ot=!0,hr=null,t!==null&&(Xn[Jn++]=_s,Xn[Jn++]=ws,Xn[Jn++]=pa,_s=t.id,ws=t.overflow,pa=e),e=Nv(e,r.children),e.flags|=4096,e)}function fx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cg(t.return,e,n)}function pp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function UT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(un(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fx(t,n,e);else if(t.tag===19)fx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tt(ut,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Lh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),pp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Lh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}pp(e,!0,n,null,i);break;case"together":pp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ya|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LP(t,e,n){switch(e.tag){case 3:VT(e),Vo();break;case 5:hT(e);break;case 1:Sn(e.type)&&Rh(e);break;case 4:wv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;tt(Oh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tt(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?FT(t,e,n):(tt(ut,ut.current&1),t=Rs(t,e,n),t!==null?t.sibling:null);tt(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return UT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tt(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,MT(t,e,n)}return Rs(t,e,n)}var $T,Dg,BT,zT;$T=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dg=function(){};BT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ia(zr.current);var i=null;switch(n){case"input":s=rg(t,s),r=rg(t,r),i=[];break;case"select":s=ht({},s,{value:void 0}),r=ht({},r,{value:void 0}),i=[];break;case"textarea":s=ag(t,s),r=ag(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kh)}lg(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ic.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(o=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==o&&(l!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&st("scroll",t),i||o===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};zT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vl(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function VP(t,e,n){var r=e.pendingProps;switch(fv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return Sn(e.type)&&Ah(),Jt(e),null;case 3:return r=e.stateNode,Uo(),at(Tn),at(an),bv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(zg(hr),hr=null))),Dg(t,e),Jt(e),null;case 5:xv(e);var s=ia(Vc.current);if(n=e.type,t!==null&&e.stateNode!=null)BT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Jt(e),null}if(t=ia(zr.current),bd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Dr]=e,r[Mc]=i,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(s=0;s<Kl.length;s++)st(Kl[s],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":bw(r,i),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},st("invalid",r);break;case"textarea":Tw(r,i),st("invalid",r)}lg(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&xd(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&xd(r.textContent,o,t),s=["children",""+o]):Ic.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&st("scroll",r)}switch(n){case"input":fd(r),Ew(r,i,!0);break;case"textarea":fd(r),Sw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=kh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=y1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Dr]=e,t[Mc]=r,$T(t,e,!1,!1),e.stateNode=t;e:{switch(a=cg(n,r),n){case"dialog":st("cancel",t),st("close",t),s=r;break;case"iframe":case"object":case"embed":st("load",t),s=r;break;case"video":case"audio":for(s=0;s<Kl.length;s++)st(Kl[s],t);s=r;break;case"source":st("error",t),s=r;break;case"img":case"image":case"link":st("error",t),st("load",t),s=r;break;case"details":st("toggle",t),s=r;break;case"input":bw(t,r),s=rg(t,r),st("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ht({},r,{value:void 0}),st("invalid",t);break;case"textarea":Tw(t,r),s=ag(t,r),st("invalid",t);break;default:s=r}lg(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?w1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&v1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cc(t,l):typeof l=="number"&&Cc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ic.hasOwnProperty(i)?l!=null&&i==="onScroll"&&st("scroll",t):l!=null&&Jy(t,i,l,a))}switch(n){case"input":fd(t),Ew(t,r,!1);break;case"textarea":fd(t),Sw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ci(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?yo(t,!!r.multiple,i,!1):r.defaultValue!=null&&yo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=kh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)zT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=ia(Vc.current),ia(zr.current),bd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dr]=e,(i=r.nodeValue!==n)&&(t=$n,t!==null))switch(t.tag){case 3:xd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dr]=e,e.stateNode=r}return Jt(e),null;case 13:if(at(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&Vn!==null&&e.mode&1&&!(e.flags&128))oT(),Vo(),e.flags|=98560,i=!1;else if(i=bd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Dr]=e}else Vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),i=!1}else hr!==null&&(zg(hr),hr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Pt===0&&(Pt=3):Ov())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return Uo(),Dg(t,e),t===null&&Oc(e.stateNode.containerInfo),Jt(e),null;case 10:return yv(e.type._context),Jt(e),null;case 17:return Sn(e.type)&&Ah(),Jt(e),null;case 19:if(at(ut),i=e.memoizedState,i===null)return Jt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Vl(i,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Lh(t),a!==null){for(e.flags|=128,Vl(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tt(ut,ut.current&1|2),e.child}t=t.sibling}i.tail!==null&&_t()>Bo&&(e.flags|=128,r=!0,Vl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Lh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ot)return Jt(e),null}else 2*_t()-i.renderingStartTime>Bo&&n!==1073741824&&(e.flags|=128,r=!0,Vl(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_t(),e.sibling=null,n=ut.current,tt(ut,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return jv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dn&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function FP(t,e){switch(fv(e),e.tag){case 1:return Sn(e.type)&&Ah(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uo(),at(Tn),at(an),bv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xv(e),null;case 13:if(at(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ut),null;case 4:return Uo(),null;case 10:return yv(e.type._context),null;case 22:case 23:return jv(),null;case 24:return null;default:return null}}var Sd=!1,nn=!1,UP=typeof WeakSet=="function"?WeakSet:Set,re=null;function ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function Mg(t,e,n){try{n()}catch(r){pt(t,e,r)}}var mx=!1;function $P(t,e){if(_g=Ih,t=K1(),dv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(o=a+s),f!==i||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++d===s&&(o=a),p===i&&++h===r&&(l=a),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wg={focusedElem:t,selectionRange:n},Ih=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,b=_.memoizedState,T=e.stateNode,v=T.getSnapshotBeforeUpdate(e.elementType===e.type?x:cr(e.type,x),b);T.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){pt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return _=mx,mx=!1,_}function pc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Mg(e,n,i)}s=s.next}while(s!==r)}}function Bf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qT(t){var e=t.alternate;e!==null&&(t.alternate=null,qT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dr],delete e[Mc],delete e[Eg],delete e[EP],delete e[TP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WT(t){return t.tag===5||t.tag===3||t.tag===4}function px(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kh));else if(r!==4&&(t=t.child,t!==null))for(Vg(t,e,n),t=t.sibling;t!==null;)Vg(t,e,n),t=t.sibling}function Fg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fg(t,e,n),t=t.sibling;t!==null;)Fg(t,e,n),t=t.sibling}var Ft=null,dr=!1;function Gs(t,e,n){for(n=n.child;n!==null;)HT(t,e,n),n=n.sibling}function HT(t,e,n){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(Of,n)}catch{}switch(n.tag){case 5:nn||ho(n,e);case 6:var r=Ft,s=dr;Ft=null,Gs(t,e,n),Ft=r,dr=s,Ft!==null&&(dr?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(dr?(t=Ft,n=n.stateNode,t.nodeType===8?lp(t.parentNode,n):t.nodeType===1&&lp(t,n),Rc(t)):lp(Ft,n.stateNode));break;case 4:r=Ft,s=dr,Ft=n.stateNode.containerInfo,dr=!0,Gs(t,e,n),Ft=r,dr=s;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Mg(n,e,a),s=s.next}while(s!==r)}Gs(t,e,n);break;case 1:if(!nn&&(ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){pt(n,e,o)}Gs(t,e,n);break;case 21:Gs(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,Gs(t,e,n),nn=r):Gs(t,e,n);break;default:Gs(t,e,n)}}function gx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UP),e.forEach(function(r){var s=YP.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ft=o.stateNode,dr=!1;break e;case 3:Ft=o.stateNode.containerInfo,dr=!0;break e;case 4:Ft=o.stateNode.containerInfo,dr=!0;break e}o=o.return}if(Ft===null)throw Error(W(160));HT(i,a,s),Ft=null,dr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){pt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GT(e,t),e=e.sibling}function GT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ar(e,t),kr(t),r&4){try{pc(3,t,t.return),Bf(3,t)}catch(x){pt(t,t.return,x)}try{pc(5,t,t.return)}catch(x){pt(t,t.return,x)}}break;case 1:ar(e,t),kr(t),r&512&&n!==null&&ho(n,n.return);break;case 5:if(ar(e,t),kr(t),r&512&&n!==null&&ho(n,n.return),t.flags&32){var s=t.stateNode;try{Cc(s,"")}catch(x){pt(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&p1(s,i),cg(o,a);var d=cg(o,i);for(a=0;a<l.length;a+=2){var h=l[a],f=l[a+1];h==="style"?w1(s,f):h==="dangerouslySetInnerHTML"?v1(s,f):h==="children"?Cc(s,f):Jy(s,h,f,d)}switch(o){case"input":sg(s,i);break;case"textarea":g1(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?yo(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?yo(s,!!i.multiple,i.defaultValue,!0):yo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mc]=i}catch(x){pt(t,t.return,x)}}break;case 6:if(ar(e,t),kr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){pt(t,t.return,x)}}break;case 3:if(ar(e,t),kr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rc(e.containerInfo)}catch(x){pt(t,t.return,x)}break;case 4:ar(e,t),kr(t);break;case 13:ar(e,t),kr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Rv=_t())),r&4&&gx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(d=nn)||h,ar(e,t),nn=d):ar(e,t),kr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(re=t,h=t.child;h!==null;){for(f=re=h;re!==null;){switch(p=re,g=p.child,p.tag){case 0:case 11:case 14:case 15:pc(4,p,p.return);break;case 1:ho(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){pt(r,n,x)}}break;case 5:ho(p,p.return);break;case 22:if(p.memoizedState!==null){vx(f);continue}}g!==null?(g.return=p,re=g):vx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=_1("display",a))}catch(x){pt(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){pt(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ar(e,t),kr(t),r&4&&gx(t);break;case 21:break;default:ar(e,t),kr(t)}}function kr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(WT(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Cc(s,""),r.flags&=-33);var i=px(t);Fg(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=px(t);Vg(t,o,a);break;default:throw Error(W(161))}}catch(l){pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BP(t,e,n){re=t,KT(t)}function KT(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Sd;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||nn;o=Sd;var d=nn;if(Sd=a,(nn=l)&&!d)for(re=s;re!==null;)a=re,l=a.child,a.tag===22&&a.memoizedState!==null?_x(s):l!==null?(l.return=a,re=l):_x(s);for(;i!==null;)re=i,KT(i),i=i.sibling;re=s,Sd=o,nn=d}yx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):yx(t)}}function yx(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||Bf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:cr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&tx(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tx(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Rc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}nn||e.flags&512&&Lg(e)}catch(p){pt(e,e.return,p)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function vx(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function _x(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bf(4,e)}catch(l){pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){pt(e,s,l)}}var i=e.return;try{Lg(e)}catch(l){pt(e,i,l)}break;case 5:var a=e.return;try{Lg(e)}catch(l){pt(e,a,l)}}}catch(l){pt(e,e.return,l)}if(e===t){re=null;break}var o=e.sibling;if(o!==null){o.return=e.return,re=o;break}re=e.return}}var zP=Math.ceil,Uh=Ls.ReactCurrentDispatcher,kv=Ls.ReactCurrentOwner,tr=Ls.ReactCurrentBatchConfig,Fe=0,Lt=null,Et=null,qt=0,Dn=0,fo=Ui(0),Pt=0,Bc=null,ya=0,zf=0,Av=0,gc=null,xn=null,Rv=0,Bo=1/0,ys=null,$h=!1,Ug=null,wi=null,Id=!1,ui=null,Bh=0,yc=0,$g=null,Zd=-1,eh=0;function hn(){return Fe&6?_t():Zd!==-1?Zd:Zd=_t()}function xi(t){return t.mode&1?Fe&2&&qt!==0?qt&-qt:IP.transition!==null?(eh===0&&(eh=P1()),eh):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:F1(t.type)),t):1}function _r(t,e,n,r){if(50<yc)throw yc=0,$g=null,Error(W(185));_u(t,n,r),(!(Fe&2)||t!==Lt)&&(t===Lt&&(!(Fe&2)&&(zf|=n),Pt===4&&ni(t,qt)),In(t,r),n===1&&Fe===0&&!(e.mode&1)&&(Bo=_t()+500,Ff&&$i()))}function In(t,e){var n=t.callbackNode;IR(t,e);var r=Sh(t,t===Lt?qt:0);if(r===0)n!==null&&Nw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nw(n),e===1)t.tag===0?SP(wx.bind(null,t)):sT(wx.bind(null,t)),xP(function(){!(Fe&6)&&$i()}),n=null;else{switch(j1(r)){case 1:n=rv;break;case 4:n=A1;break;case 16:n=Th;break;case 536870912:n=R1;break;default:n=Th}n=nS(n,QT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function QT(t,e){if(Zd=-1,eh=0,Fe&6)throw Error(W(327));var n=t.callbackNode;if(bo()&&t.callbackNode!==n)return null;var r=Sh(t,t===Lt?qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zh(t,r);else{e=r;var s=Fe;Fe|=2;var i=XT();(Lt!==t||qt!==e)&&(ys=null,Bo=_t()+500,ua(t,e));do try{HP();break}catch(o){YT(t,o)}while(!0);gv(),Uh.current=i,Fe=s,Et!==null?e=0:(Lt=null,qt=0,e=Pt)}if(e!==0){if(e===2&&(s=mg(t),s!==0&&(r=s,e=Bg(t,s))),e===1)throw n=Bc,ua(t,0),ni(t,r),In(t,_t()),n;if(e===6)ni(t,r);else{if(s=t.current.alternate,!(r&30)&&!qP(s)&&(e=zh(t,r),e===2&&(i=mg(t),i!==0&&(r=i,e=Bg(t,i))),e===1))throw n=Bc,ua(t,0),ni(t,r),In(t,_t()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Zi(t,xn,ys);break;case 3:if(ni(t,r),(r&130023424)===r&&(e=Rv+500-_t(),10<e)){if(Sh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=bg(Zi.bind(null,t,xn,ys),e);break}Zi(t,xn,ys);break;case 4:if(ni(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-vr(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zP(r/1960))-r,10<r){t.timeoutHandle=bg(Zi.bind(null,t,xn,ys),r);break}Zi(t,xn,ys);break;case 5:Zi(t,xn,ys);break;default:throw Error(W(329))}}}return In(t,_t()),t.callbackNode===n?QT.bind(null,t):null}function Bg(t,e){var n=gc;return t.current.memoizedState.isDehydrated&&(ua(t,e).flags|=256),t=zh(t,e),t!==2&&(e=xn,xn=n,e!==null&&zg(e)),t}function zg(t){xn===null?xn=t:xn.push.apply(xn,t)}function qP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!br(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ni(t,e){for(e&=~Av,e&=~zf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vr(e),r=1<<n;t[n]=-1,e&=~r}}function wx(t){if(Fe&6)throw Error(W(327));bo();var e=Sh(t,0);if(!(e&1))return In(t,_t()),null;var n=zh(t,e);if(t.tag!==0&&n===2){var r=mg(t);r!==0&&(e=r,n=Bg(t,r))}if(n===1)throw n=Bc,ua(t,0),ni(t,e),In(t,_t()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zi(t,xn,ys),In(t,_t()),null}function Pv(t,e){var n=Fe;Fe|=1;try{return t(e)}finally{Fe=n,Fe===0&&(Bo=_t()+500,Ff&&$i())}}function va(t){ui!==null&&ui.tag===0&&!(Fe&6)&&bo();var e=Fe;Fe|=1;var n=tr.transition,r=Ge;try{if(tr.transition=null,Ge=1,t)return t()}finally{Ge=r,tr.transition=n,Fe=e,!(Fe&6)&&$i()}}function jv(){Dn=fo.current,at(fo)}function ua(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wP(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(fv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ah();break;case 3:Uo(),at(Tn),at(an),bv();break;case 5:xv(r);break;case 4:Uo();break;case 13:at(ut);break;case 19:at(ut);break;case 10:yv(r.type._context);break;case 22:case 23:jv()}n=n.return}if(Lt=t,Et=t=bi(t.current,null),qt=Dn=e,Pt=0,Bc=null,Av=zf=ya=0,xn=gc=null,sa!==null){for(e=0;e<sa.length;e++)if(n=sa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}sa=null}return t}function YT(t,e){do{var n=Et;try{if(gv(),Yd.current=Fh,Vh){for(var r=dt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vh=!1}if(ga=0,Mt=Rt=dt=null,mc=!1,Fc=0,kv.current=null,n===null||n.return===null){Pt=1,Bc=e,Et=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=qt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=ox(a);if(g!==null){g.flags&=-257,lx(g,a,o,i,e),g.mode&1&&ax(i,d,e),e=g,l=d;var _=e.updateQueue;if(_===null){var x=new Set;x.add(l),e.updateQueue=x}else _.add(l);break e}else{if(!(e&1)){ax(i,d,e),Ov();break e}l=Error(W(426))}}else if(ot&&o.mode&1){var b=ox(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),lx(b,a,o,i,e),mv($o(l,o));break e}}i=l=$o(l,o),Pt!==4&&(Pt=2),gc===null?gc=[i]:gc.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=jT(i,l,e);ex(i,T);break e;case 1:o=l;var v=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(wi===null||!wi.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=OT(i,o,e);ex(i,j);break e}}i=i.return}while(i!==null)}ZT(n)}catch(M){e=M,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function XT(){var t=Uh.current;return Uh.current=Fh,t===null?Fh:t}function Ov(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Lt===null||!(ya&268435455)&&!(zf&268435455)||ni(Lt,qt)}function zh(t,e){var n=Fe;Fe|=2;var r=XT();(Lt!==t||qt!==e)&&(ys=null,ua(t,e));do try{WP();break}catch(s){YT(t,s)}while(!0);if(gv(),Fe=n,Uh.current=r,Et!==null)throw Error(W(261));return Lt=null,qt=0,Pt}function WP(){for(;Et!==null;)JT(Et)}function HP(){for(;Et!==null&&!yR();)JT(Et)}function JT(t){var e=tS(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,e===null?ZT(t):Et=e,kv.current=null}function ZT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FP(n,e),n!==null){n.flags&=32767,Et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,Et=null;return}}else if(n=VP(n,e,Dn),n!==null){Et=n;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);Pt===0&&(Pt=5)}function Zi(t,e,n){var r=Ge,s=tr.transition;try{tr.transition=null,Ge=1,GP(t,e,n,r)}finally{tr.transition=s,Ge=r}return null}function GP(t,e,n,r){do bo();while(ui!==null);if(Fe&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(CR(t,i),t===Lt&&(Et=Lt=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Id||(Id=!0,nS(Th,function(){return bo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tr.transition,tr.transition=null;var a=Ge;Ge=1;var o=Fe;Fe|=4,kv.current=null,$P(t,n),GT(n,t),fP(wg),Ih=!!_g,wg=_g=null,t.current=n,BP(n),vR(),Fe=o,Ge=a,tr.transition=i}else t.current=n;if(Id&&(Id=!1,ui=t,Bh=s),i=t.pendingLanes,i===0&&(wi=null),xR(n.stateNode),In(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($h)throw $h=!1,t=Ug,Ug=null,t;return Bh&1&&t.tag!==0&&bo(),i=t.pendingLanes,i&1?t===$g?yc++:(yc=0,$g=t):yc=0,$i(),null}function bo(){if(ui!==null){var t=j1(Bh),e=tr.transition,n=Ge;try{if(tr.transition=null,Ge=16>t?16:t,ui===null)var r=!1;else{if(t=ui,ui=null,Bh=0,Fe&6)throw Error(W(331));var s=Fe;for(Fe|=4,re=t.current;re!==null;){var i=re,a=i.child;if(re.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var d=o[l];for(re=d;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:pc(8,h,i)}var f=h.child;if(f!==null)f.return=h,re=f;else for(;re!==null;){h=re;var p=h.sibling,g=h.return;if(qT(h),h===d){re=null;break}if(p!==null){p.return=g,re=p;break}re=g}}}var _=i.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}re=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,re=a;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pc(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,re=T;break e}re=i.return}}var v=t.current;for(re=v;re!==null;){a=re;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,re=N;else e:for(a=v;re!==null;){if(o=re,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Bf(9,o)}}catch(M){pt(o,o.return,M)}if(o===a){re=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,re=j;break e}re=o.return}}if(Fe=s,$i(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(Of,t)}catch{}r=!0}return r}finally{Ge=n,tr.transition=e}}return!1}function xx(t,e,n){e=$o(n,e),e=jT(t,e,1),t=_i(t,e,1),e=hn(),t!==null&&(_u(t,1,e),In(t,e))}function pt(t,e,n){if(t.tag===3)xx(t,t,n);else for(;e!==null;){if(e.tag===3){xx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wi===null||!wi.has(r))){t=$o(n,t),t=OT(e,t,1),e=_i(e,t,1),t=hn(),e!==null&&(_u(e,1,t),In(e,t));break}}e=e.return}}function KP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,Lt===t&&(qt&n)===n&&(Pt===4||Pt===3&&(qt&130023424)===qt&&500>_t()-Rv?ua(t,0):Av|=n),In(t,e)}function eS(t,e){e===0&&(t.mode&1?(e=gd,gd<<=1,!(gd&130023424)&&(gd=4194304)):e=1);var n=hn();t=As(t,e),t!==null&&(_u(t,e,n),In(t,n))}function QP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),eS(t,n)}function YP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),eS(t,n)}var tS;tS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,LP(t,e,n);En=!!(t.flags&131072)}else En=!1,ot&&e.flags&1048576&&iT(e,jh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jd(t,e),t=e.pendingProps;var s=Lo(e,an.current);xo(e,n),s=Tv(null,e,r,t,s,n);var i=Sv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(i=!0,Rh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_v(e),s.updater=$f,e.stateNode=s,s._reactInternals=e,kg(e,r,t,n),e=Pg(null,e,r,!0,i,n)):(e.tag=0,ot&&i&&hv(e),un(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=JP(r),t=cr(r,t),s){case 0:e=Rg(null,e,r,t,n);break e;case 1:e=dx(null,e,r,t,n);break e;case 11:e=cx(null,e,r,t,n);break e;case 14:e=ux(null,e,r,cr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),Rg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),dx(t,e,r,s,n);case 3:e:{if(VT(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,dT(t,e),Mh(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$o(Error(W(423)),e),e=hx(t,e,r,n,s);break e}else if(r!==s){s=$o(Error(W(424)),e),e=hx(t,e,r,n,s);break e}else for(Vn=vi(e.stateNode.containerInfo.firstChild),$n=e,ot=!0,hr=null,n=cT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vo(),r===s){e=Rs(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return hT(e),t===null&&Ig(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,xg(r,s)?a=null:i!==null&&xg(r,i)&&(e.flags|=32),LT(t,e),un(t,e,a,n),e.child;case 6:return t===null&&Ig(e),null;case 13:return FT(t,e,n);case 4:return wv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),cx(t,e,r,s,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,tt(Oh,r._currentValue),r._currentValue=a,i!==null)if(br(i.value,a)){if(i.children===s.children&&!Tn.current){e=Rs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ts(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Cg(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(W(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Cg(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}un(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,xo(e,n),s=nr(s),r=r(s),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,s=cr(r,e.pendingProps),s=cr(r.type,s),ux(t,e,r,s,n);case 15:return DT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),Jd(t,e),e.tag=1,Sn(r)?(t=!0,Rh(e)):t=!1,xo(e,n),PT(e,r,s),kg(e,r,s,n),Pg(null,e,r,!0,t,n);case 19:return UT(t,e,n);case 22:return MT(t,e,n)}throw Error(W(156,e.tag))};function nS(t,e){return k1(t,e)}function XP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new XP(t,e,n,r)}function Dv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JP(t){if(typeof t=="function")return Dv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ev)return 11;if(t===tv)return 14}return 2}function bi(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function th(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Dv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case no:return da(n.children,s,i,e);case Zy:a=8,s|=8;break;case Zp:return t=Zn(12,n,e,s|2),t.elementType=Zp,t.lanes=i,t;case eg:return t=Zn(13,n,e,s),t.elementType=eg,t.lanes=i,t;case tg:return t=Zn(19,n,e,s),t.elementType=tg,t.lanes=i,t;case h1:return qf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case u1:a=10;break e;case d1:a=9;break e;case ev:a=11;break e;case tv:a=14;break e;case Zs:a=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Zn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function da(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function qf(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=h1,t.lanes=n,t.stateNode={isHidden:!1},t}function gp(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function yp(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xm(0),this.expirationTimes=Xm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mv(t,e,n,r,s,i,a,o,l){return t=new ZP(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Zn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_v(i),t}function e2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:to,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rS(t){if(!t)return Ni;t=t._reactInternals;e:{if(Ra(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Sn(n))return rT(t,n,e)}return e}function sS(t,e,n,r,s,i,a,o,l){return t=Mv(n,r,!0,t,s,i,a,o,l),t.context=rS(null),n=t.current,r=hn(),s=xi(n),i=Ts(r,s),i.callback=e??null,_i(n,i,s),t.current.lanes=s,_u(t,s,r),In(t,r),t}function Wf(t,e,n,r){var s=e.current,i=hn(),a=xi(s);return n=rS(n),e.context===null?e.context=n:e.pendingContext=n,e=Ts(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_i(s,e,a),t!==null&&(_r(t,s,a,i),Qd(t,s,a)),a}function qh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lv(t,e){bx(t,e),(t=t.alternate)&&bx(t,e)}function t2(){return null}var iS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vv(t){this._internalRoot=t}Hf.prototype.render=Vv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Wf(t,e,null,null)};Hf.prototype.unmount=Vv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;va(function(){Wf(null,t,null,null)}),e[ks]=null}};function Hf(t){this._internalRoot=t}Hf.prototype.unstable_scheduleHydration=function(t){if(t){var e=M1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ti.length&&e!==0&&e<ti[n].priority;n++);ti.splice(n,0,t),n===0&&V1(t)}};function Fv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ex(){}function n2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=qh(a);i.call(d)}}var a=sS(e,r,t,0,null,!1,!1,"",Ex);return t._reactRootContainer=a,t[ks]=a.current,Oc(t.nodeType===8?t.parentNode:t),va(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var d=qh(l);o.call(d)}}var l=Mv(t,0,!1,null,null,!1,!1,"",Ex);return t._reactRootContainer=l,t[ks]=l.current,Oc(t.nodeType===8?t.parentNode:t),va(function(){Wf(e,l,n,r)}),l}function Kf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=qh(a);o.call(l)}}Wf(e,a,t,s)}else a=n2(n,e,t,s,r);return qh(a)}O1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gl(e.pendingLanes);n!==0&&(sv(e,n|1),In(e,_t()),!(Fe&6)&&(Bo=_t()+500,$i()))}break;case 13:va(function(){var r=As(t,1);if(r!==null){var s=hn();_r(r,t,1,s)}}),Lv(t,1)}};iv=function(t){if(t.tag===13){var e=As(t,134217728);if(e!==null){var n=hn();_r(e,t,134217728,n)}Lv(t,134217728)}};D1=function(t){if(t.tag===13){var e=xi(t),n=As(t,e);if(n!==null){var r=hn();_r(n,t,e,r)}Lv(t,e)}};M1=function(){return Ge};L1=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};dg=function(t,e,n){switch(e){case"input":if(sg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Vf(r);if(!s)throw Error(W(90));m1(r),sg(r,s)}}}break;case"textarea":g1(t,n);break;case"select":e=n.value,e!=null&&yo(t,!!n.multiple,e,!1)}};E1=Pv;T1=va;var r2={usingClientEntryPoint:!1,Events:[xu,ao,Vf,x1,b1,Pv]},Fl={findFiberByHostInstance:ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s2={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=C1(t),t===null?null:t.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance||t2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{Of=Cd.inject(s2),Br=Cd}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r2;Wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fv(e))throw Error(W(200));return e2(t,e,null,n)};Wn.createRoot=function(t,e){if(!Fv(t))throw Error(W(299));var n=!1,r="",s=iS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Mv(t,1,!1,null,null,n,!1,r,s),t[ks]=e.current,Oc(t.nodeType===8?t.parentNode:t),new Vv(e)};Wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=C1(e),t=t===null?null:t.stateNode,t};Wn.flushSync=function(t){return va(t)};Wn.hydrate=function(t,e,n){if(!Gf(e))throw Error(W(200));return Kf(null,t,e,!0,n)};Wn.hydrateRoot=function(t,e,n){if(!Fv(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=iS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=sS(e,null,t,1,n??null,s,!1,i,a),t[ks]=e.current,Oc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Hf(e)};Wn.render=function(t,e,n){if(!Gf(e))throw Error(W(200));return Kf(null,t,e,!1,n)};Wn.unmountComponentAtNode=function(t){if(!Gf(t))throw Error(W(40));return t._reactRootContainer?(va(function(){Kf(null,null,t,!1,function(){t._reactRootContainer=null,t[ks]=null})}),!0):!1};Wn.unstable_batchedUpdates=Pv;Wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gf(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Kf(t,e,n,!1,r)};Wn.version="18.3.1-next-f1338f8080-20240426";function aS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aS)}catch(t){console.error(t)}}aS(),a1.exports=Wn;var oS=a1.exports;const i2=KE(oS);var lS,Tx=oS;lS=Tx.createRoot,Tx.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zc.apply(this,arguments)}var di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(di||(di={}));const Sx="popstate";function a2(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return qg("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wh(s)}return l2(e,n,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o2(){return Math.random().toString(36).substr(2,8)}function Ix(t,e){return{usr:t.state,key:t.key,idx:e}}function qg(t,e,n,r){return n===void 0&&(n=null),zc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?al(e):e,{state:n,key:e&&e.key||r||o2()})}function Wh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function l2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=di.Pop,l=null,d=h();d==null&&(d=0,a.replaceState(zc({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function f(){o=di.Pop;let b=h(),T=b==null?null:b-d;d=b,l&&l({action:o,location:x.location,delta:T})}function p(b,T){o=di.Push;let v=qg(x.location,b,T);d=h()+1;let N=Ix(v,d),j=x.createHref(v);try{a.pushState(N,"",j)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(j)}i&&l&&l({action:o,location:x.location,delta:1})}function g(b,T){o=di.Replace;let v=qg(x.location,b,T);d=h();let N=Ix(v,d),j=x.createHref(v);a.replaceState(N,"",j),i&&l&&l({action:o,location:x.location,delta:0})}function _(b){let T=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:Wh(b);return v=v.replace(/ $/,"%20"),wt(T,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,T)}let x={get action(){return o},get location(){return t(s,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Sx,f),l=b,()=>{s.removeEventListener(Sx,f),l=null}},createHref(b){return e(s,b)},createURL:_,encodeLocation(b){let T=_(b);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:g,go(b){return a.go(b)}};return x}var Cx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cx||(Cx={}));function c2(t,e,n){return n===void 0&&(n="/"),u2(t,e,n,!1)}function u2(t,e,n,r){let s=typeof e=="string"?al(e):e,i=Uv(s.pathname||"/",n);if(i==null)return null;let a=uS(t);d2(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let d=b2(i);o=w2(a[l],d,r)}return o}function uS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=Ei([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),uS(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:v2(d,i.index),routesMeta:h})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of dS(i.path))s(i,a,l)}),e}function dS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=dS(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function d2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const h2=/^:[\w-]+$/,f2=3,m2=2,p2=1,g2=10,y2=-2,Nx=t=>t==="*";function v2(t,e){let n=t.split("/"),r=n.length;return n.some(Nx)&&(r+=y2),e&&(r+=m2),n.filter(s=>!Nx(s)).reduce((s,i)=>s+(h2.test(i)?f2:i===""?p2:g2),r)}function _2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function w2(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],d=o===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=kx({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),p=l.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=kx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Ei([i,f.pathname]),pathnameBase:I2(Ei([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Ei([i,f.pathnameBase]))}return a}function kx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=x2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let x=o[f]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const _=o[f];return g&&!_?d[p]=void 0:d[p]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function x2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),cS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function b2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Uv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function E2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?al(t):t;return{pathname:n?n.startsWith("/")?n:T2(n,e):e,search:C2(r),hash:N2(s)}}function T2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $v(t,e){let n=S2(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Bv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=al(t):(s=zc({},t),wt(!s.pathname||!s.pathname.includes("?"),vp("?","pathname","search",s)),wt(!s.pathname||!s.pathname.includes("#"),vp("#","pathname","hash",s)),wt(!s.search||!s.search.includes("#"),vp("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=E2(s,o),d=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}const Ei=t=>t.join("/").replace(/\/\/+/g,"/"),I2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function k2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hS=["post","put","patch","delete"];new Set(hS);const A2=["get",...hS];new Set(A2);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}const zv=P.createContext(null),R2=P.createContext(null),Bi=P.createContext(null),Qf=P.createContext(null),ts=P.createContext({outlet:null,matches:[],isDataRoute:!1}),fS=P.createContext(null);function P2(t,e){let{relative:n}=e===void 0?{}:e;ol()||wt(!1);let{basename:r,navigator:s}=P.useContext(Bi),{hash:i,pathname:a,search:o}=pS(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Ei([r,a])),s.createHref({pathname:l,search:o,hash:i})}function ol(){return P.useContext(Qf)!=null}function Pa(){return ol()||wt(!1),P.useContext(Qf).location}function mS(t){P.useContext(Bi).static||P.useLayoutEffect(t)}function ns(){let{isDataRoute:t}=P.useContext(ts);return t?K2():j2()}function j2(){ol()||wt(!1);let t=P.useContext(zv),{basename:e,future:n,navigator:r}=P.useContext(Bi),{matches:s}=P.useContext(ts),{pathname:i}=Pa(),a=JSON.stringify($v(s,n.v7_relativeSplatPath)),o=P.useRef(!1);return mS(()=>{o.current=!0}),P.useCallback(function(d,h){if(h===void 0&&(h={}),!o.current)return;if(typeof d=="number"){r.go(d);return}let f=Bv(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ei([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,a,i,t])}const O2=P.createContext(null);function D2(t){let e=P.useContext(ts).outlet;return e&&P.createElement(O2.Provider,{value:t},e)}function M2(){let{matches:t}=P.useContext(ts),e=t[t.length-1];return e?e.params:{}}function pS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(Bi),{matches:s}=P.useContext(ts),{pathname:i}=Pa(),a=JSON.stringify($v(s,r.v7_relativeSplatPath));return P.useMemo(()=>Bv(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function L2(t,e){return V2(t,e)}function V2(t,e,n,r){ol()||wt(!1);let{navigator:s}=P.useContext(Bi),{matches:i}=P.useContext(ts),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let d=Pa(),h;if(e){var f;let b=typeof e=="string"?al(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||wt(!1),h=b}else h=d;let p=h.pathname||"/",g=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let _=c2(t,{pathname:g}),x=z2(_&&_.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Ei([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Ei([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&x?P.createElement(Qf.Provider,{value:{location:qc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:di.Pop}},x):x}function F2(){let t=G2(),e=k2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,null)}const U2=P.createElement(F2,null);class $2 extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(ts.Provider,{value:this.props.routeContext},P.createElement(fS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B2(t){let{routeContext:e,match:n,children:r}=t,s=P.useContext(zv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(ts.Provider,{value:e},r)}function z2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let h=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);h>=0||wt(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:g}=n,_=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,f,p)=>{let g,_=!1,x=null,b=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||U2,l&&(d<0&&p===0?(_=!0,b=null):d===p&&(_=!0,b=f.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,p+1)),v=()=>{let N;return g?N=x:_?N=b:f.route.Component?N=P.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=h,P.createElement(B2,{match:f,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:N})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?P.createElement($2,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):v()},null)}var gS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gS||{}),Hh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hh||{});function q2(t){let e=P.useContext(zv);return e||wt(!1),e}function W2(t){let e=P.useContext(R2);return e||wt(!1),e}function H2(t){let e=P.useContext(ts);return e||wt(!1),e}function yS(t){let e=H2(),n=e.matches[e.matches.length-1];return n.route.id||wt(!1),n.route.id}function G2(){var t;let e=P.useContext(fS),n=W2(Hh.UseRouteError),r=yS(Hh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function K2(){let{router:t}=q2(gS.UseNavigateStable),e=yS(Hh.UseNavigateStable),n=P.useRef(!1);return mS(()=>{n.current=!0}),P.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,qc({fromRouteId:e},i)))},[t,e])}const Ax={};function Q2(t,e){Ax[e]||(Ax[e]=!0,console.warn(e))}const Rx=(t,e,n)=>Q2(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Y2(t,e){t!=null&&t.v7_startTransition||Rx("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Rx("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function za(t){let{to:e,replace:n,state:r,relative:s}=t;ol()||wt(!1);let{future:i,static:a}=P.useContext(Bi),{matches:o}=P.useContext(ts),{pathname:l}=Pa(),d=ns(),h=Bv(e,$v(o,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return P.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function X2(t){return D2(t.context)}function vn(t){wt(!1)}function J2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=di.Pop,navigator:i,static:a=!1,future:o}=t;ol()&&wt(!1);let l=e.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:l,navigator:i,static:a,future:qc({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=al(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:_="default"}=r,x=P.useMemo(()=>{let b=Uv(h,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:g,key:_},navigationType:s}},[l,h,f,p,g,_,s]);return x==null?null:P.createElement(Bi.Provider,{value:d},P.createElement(Qf.Provider,{children:n,value:x}))}function Z2(t){let{children:e,location:n}=t;return L2(Wg(e),n)}new Promise(()=>{});function Wg(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,s)=>{if(!P.isValidElement(r))return;let i=[...e,s];if(r.type===P.Fragment){n.push.apply(n,Wg(r.props.children,i));return}r.type!==vn&&wt(!1),!r.props.index||!r.props.children||wt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Wg(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function ej(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function tj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nj(t,e){return t.button===0&&(!e||e==="_self")&&!tj(t)}const rj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sj="6";try{window.__reactRouterVersion=sj}catch{}const ij="startTransition",Px=wh[ij];function aj(t){let{basename:e,children:n,future:r,window:s}=t,i=P.useRef();i.current==null&&(i.current=a2({window:s,v5Compat:!0}));let a=i.current,[o,l]=P.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},h=P.useCallback(f=>{d&&Px?Px(()=>l(f)):l(f)},[l,d]);return P.useLayoutEffect(()=>a.listen(h),[a,h]),P.useEffect(()=>Y2(r),[r]),P.createElement(J2,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const oj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,or=P.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:d,preventScrollReset:h,viewTransition:f}=e,p=ej(e,rj),{basename:g}=P.useContext(Bi),_,x=!1;if(typeof d=="string"&&lj.test(d)&&(_=d,oj))try{let N=new URL(window.location.href),j=d.startsWith("//")?new URL(N.protocol+d):new URL(d),M=Uv(j.pathname,g);j.origin===N.origin&&M!=null?d=M+j.search+j.hash:x=!0}catch{}let b=P2(d,{relative:s}),T=cj(d,{replace:a,state:o,target:l,preventScrollReset:h,relative:s,viewTransition:f});function v(N){r&&r(N),N.defaultPrevented||T(N)}return P.createElement("a",Hg({},p,{href:_||b,onClick:x||i?r:v,ref:n,target:l}))});var jx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jx||(jx={}));var Ox;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ox||(Ox={}));function cj(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=ns(),d=Pa(),h=pS(t,{relative:a});return P.useCallback(f=>{if(nj(f,n)){f.preventDefault();let p=r!==void 0?r:Wh(d)===Wh(h);l(t,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[d,l,h,r,s,n,t,i,a,o])}var uj=t=>{switch(t){case"success":return fj;case"info":return pj;case"warning":return mj;case"error":return gj;default:return null}},dj=Array(12).fill(0),hj=({visible:t,className:e})=>F.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},F.createElement("div",{className:"sonner-spinner"},dj.map((n,r)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),fj=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mj=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),pj=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gj=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yj=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vj=()=>{let[t,e]=F.useState(document.hidden);return F.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Gg=1,_j=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Gg++,i=this.toasts.find(o=>o.id===s),a=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(o=>o.id===s?(this.publish({...o,...t,id:s,title:n}),{...o,...t,id:s,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,a=r.then(async l=>{if(i=["resolve",l],F.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(xj(l)&&!l.ok){s=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:d,description:h})}else if(e.success!==void 0){s=!1;let d=typeof e.success=="function"?await e.success(l):e.success,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let d=typeof e.error=="function"?await e.error(l):e.error,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,d)=>a.then(()=>i[0]==="reject"?d(i[1]):l(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Gg++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},On=new _j,wj=(t,e)=>{let n=(e==null?void 0:e.id)||Gg++;return On.addToast({title:t,...e,id:n}),n},xj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",bj=wj,Ej=()=>On.toasts,ee=Object.assign(bj,{success:On.success,info:On.info,warning:On.warning,error:On.error,custom:On.custom,message:On.message,promise:On.promise,dismiss:On.dismiss,loading:On.loading},{getHistory:Ej});function Tj(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Tj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Nd(t){return t.label!==void 0}var Sj=3,Ij="32px",Dx=4e3,Cj=356,Nj=14,kj=20,Aj=200;function Rj(...t){return t.filter(Boolean).join(" ")}var Pj=t=>{var e,n,r,s,i,a,o,l,d,h,f;let{invert:p,toast:g,unstyled:_,interacting:x,setHeights:b,visibleToasts:T,heights:v,index:N,toasts:j,expanded:M,removeToast:V,defaultRichColors:S,closeButton:w,style:E,cancelButtonStyle:C,actionButtonStyle:A,className:R="",descriptionClassName:k="",duration:fe,position:he,gap:ve,loadingIcon:Se,expandByDefault:K,classNames:H,icons:se,closeButtonAriaLabel:Ie="Close toast",pauseWhenPageIsHidden:oe,cn:ue}=t,[ke,et]=F.useState(!1),[gt,Ue]=F.useState(!1),[os,Nr]=F.useState(!1),[Kn,Nn]=F.useState(!1),[Hi,ls]=F.useState(!1),[Fs,Us]=F.useState(0),[_l,wl]=F.useState(0),O=F.useRef(g.duration||fe||Dx),L=F.useRef(null),U=F.useRef(null),X=N===0,Q=N+1<=T,z=g.type,ie=g.dismissible!==!1,be=g.className||"",Ae=g.descriptionClassName||"",Ne=F.useMemo(()=>v.findIndex(pe=>pe.toastId===g.id)||0,[v,g.id]),yn=F.useMemo(()=>{var pe;return(pe=g.closeButton)!=null?pe:w},[g.closeButton,w]);F.useMemo(()=>g.duration||fe||Dx,[g.duration,fe]);let $s=F.useRef(0),kn=F.useRef(0),Bs=F.useRef(0),Qn=F.useRef(null),[Gi,La]=he.split("-"),cs=F.useMemo(()=>v.reduce((pe,$e,Ye)=>Ye>=Ne?pe:pe+$e.height,0),[v,Ne]),Ku=vj(),jm=g.invert||p,Ki=z==="loading";kn.current=F.useMemo(()=>Ne*ve+cs,[Ne,cs]),F.useEffect(()=>{et(!0)},[]),F.useEffect(()=>{let pe=U.current;if(pe){let $e=pe.getBoundingClientRect().height;return wl($e),b(Ye=>[{toastId:g.id,height:$e,position:g.position},...Ye]),()=>b(Ye=>Ye.filter(Ct=>Ct.toastId!==g.id))}},[b,g.id]),F.useLayoutEffect(()=>{if(!ke)return;let pe=U.current,$e=pe.style.height;pe.style.height="auto";let Ye=pe.getBoundingClientRect().height;pe.style.height=$e,wl(Ye),b(Ct=>Ct.find(An=>An.toastId===g.id)?Ct.map(An=>An.toastId===g.id?{...An,height:Ye}:An):[{toastId:g.id,height:Ye,position:g.position},...Ct])},[ke,g.title,g.description,b,g.id]);let sr=F.useCallback(()=>{Ue(!0),Us(kn.current),b(pe=>pe.filter($e=>$e.toastId!==g.id)),setTimeout(()=>{V(g)},Aj)},[g,V,b,kn]);F.useEffect(()=>{if(g.promise&&z==="loading"||g.duration===1/0||g.type==="loading")return;let pe;return M||x||oe&&Ku?(()=>{if(Bs.current<$s.current){let $e=new Date().getTime()-$s.current;O.current=O.current-$e}Bs.current=new Date().getTime()})():O.current!==1/0&&($s.current=new Date().getTime(),pe=setTimeout(()=>{var $e;($e=g.onAutoClose)==null||$e.call(g,g),sr()},O.current)),()=>clearTimeout(pe)},[M,x,g,z,oe,Ku,sr]),F.useEffect(()=>{g.delete&&sr()},[sr,g.delete]);function Qu(){var pe,$e,Ye;return se!=null&&se.loading?F.createElement("div",{className:ue(H==null?void 0:H.loader,(pe=g==null?void 0:g.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":z==="loading"},se.loading):Se?F.createElement("div",{className:ue(H==null?void 0:H.loader,($e=g==null?void 0:g.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":z==="loading"},Se):F.createElement(hj,{className:ue(H==null?void 0:H.loader,(Ye=g==null?void 0:g.classNames)==null?void 0:Ye.loader),visible:z==="loading"})}return F.createElement("li",{tabIndex:0,ref:U,className:ue(R,be,H==null?void 0:H.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[z],(n=g==null?void 0:g.classNames)==null?void 0:n[z]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:S,"data-styled":!(g.jsx||g.unstyled||_),"data-mounted":ke,"data-promise":!!g.promise,"data-swiped":Hi,"data-removed":gt,"data-visible":Q,"data-y-position":Gi,"data-x-position":La,"data-index":N,"data-front":X,"data-swiping":os,"data-dismissible":ie,"data-type":z,"data-invert":jm,"data-swipe-out":Kn,"data-expanded":!!(M||K&&ke),style:{"--index":N,"--toasts-before":N,"--z-index":j.length-N,"--offset":`${gt?Fs:kn.current}px`,"--initial-height":K?"auto":`${_l}px`,...E,...g.style},onPointerDown:pe=>{Ki||!ie||(L.current=new Date,Us(kn.current),pe.target.setPointerCapture(pe.pointerId),pe.target.tagName!=="BUTTON"&&(Nr(!0),Qn.current={x:pe.clientX,y:pe.clientY}))},onPointerUp:()=>{var pe,$e,Ye,Ct;if(Kn||!ie)return;Qn.current=null;let An=Number(((pe=U.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),zs=new Date().getTime()-(($e=L.current)==null?void 0:$e.getTime()),Yu=Math.abs(An)/zs;if(Math.abs(An)>=kj||Yu>.11){Us(kn.current),(Ye=g.onDismiss)==null||Ye.call(g,g),sr(),Nn(!0),ls(!1);return}(Ct=U.current)==null||Ct.style.setProperty("--swipe-amount","0px"),Nr(!1)},onPointerMove:pe=>{var $e,Ye,Ct;if(!Qn.current||!ie)return;let An=pe.clientY-Qn.current.y,zs=(($e=window.getSelection())==null?void 0:$e.toString().length)>0;Number(((Ye=U.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount").replace("px",""))||0)>0&&ls(!0),!zs&&((Ct=U.current)==null||Ct.style.setProperty("--swipe-amount",`${Math.max(0,An)}px`))}},yn&&!g.jsx?F.createElement("button",{"aria-label":Ie,"data-disabled":Ki,"data-close-button":!0,onClick:Ki||!ie?()=>{}:()=>{var pe;sr(),(pe=g.onDismiss)==null||pe.call(g,g)},className:ue(H==null?void 0:H.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=se==null?void 0:se.close)!=null?i:yj):null,g.jsx||F.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:F.createElement(F.Fragment,null,z||g.icon||g.promise?F.createElement("div",{"data-icon":"",className:ue(H==null?void 0:H.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Qu():null,g.type!=="loading"?g.icon||(se==null?void 0:se[z])||uj(z):null):null,F.createElement("div",{"data-content":"",className:ue(H==null?void 0:H.content,(o=g==null?void 0:g.classNames)==null?void 0:o.content)},F.createElement("div",{"data-title":"",className:ue(H==null?void 0:H.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},typeof g.title=="function"?g.title():g.title),g.description?F.createElement("div",{"data-description":"",className:ue(k,Ae,H==null?void 0:H.description,(d=g==null?void 0:g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),F.isValidElement(g.cancel)?g.cancel:g.cancel&&Nd(g.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||C,onClick:pe=>{var $e,Ye;Nd(g.cancel)&&ie&&((Ye=($e=g.cancel).onClick)==null||Ye.call($e,pe),sr())},className:ue(H==null?void 0:H.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,F.isValidElement(g.action)?g.action:g.action&&Nd(g.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||A,onClick:pe=>{var $e,Ye;Nd(g.action)&&((Ye=($e=g.action).onClick)==null||Ye.call($e,pe),!pe.defaultPrevented&&sr())},className:ue(H==null?void 0:H.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function Mx(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var jj=P.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:l,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:g=Sj,toastOptions:_,dir:x=Mx(),gap:b=Nj,loadingIcon:T,icons:v,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:j,cn:M=Rj}=t,[V,S]=F.useState([]),w=F.useMemo(()=>Array.from(new Set([r].concat(V.filter(oe=>oe.position).map(oe=>oe.position)))),[V,r]),[E,C]=F.useState([]),[A,R]=F.useState(!1),[k,fe]=F.useState(!1),[he,ve]=F.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Se=F.useRef(null),K=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=F.useRef(null),se=F.useRef(!1),Ie=F.useCallback(oe=>{S(ue=>{var ke;return(ke=ue.find(et=>et.id===oe.id))!=null&&ke.delete||On.dismiss(oe.id),ue.filter(({id:et})=>et!==oe.id)})},[]);return F.useEffect(()=>On.subscribe(oe=>{if(oe.dismiss){S(ue=>ue.map(ke=>ke.id===oe.id?{...ke,delete:!0}:ke));return}setTimeout(()=>{i2.flushSync(()=>{S(ue=>{let ke=ue.findIndex(et=>et.id===oe.id);return ke!==-1?[...ue.slice(0,ke),{...ue[ke],...oe},...ue.slice(ke+1)]:[oe,...ue]})})})}),[]),F.useEffect(()=>{if(d!=="system"){ve(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ve("dark"):ve("light")),typeof window>"u")return;let oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:ue})=>{ve(ue?"dark":"light")})}catch{oe.addListener(({matches:ke})=>{try{ve(ke?"dark":"light")}catch(et){console.error(et)}})}},[d]),F.useEffect(()=>{V.length<=1&&R(!1)},[V]),F.useEffect(()=>{let oe=ue=>{var ke,et;s.every(gt=>ue[gt]||ue.code===gt)&&(R(!0),(ke=Se.current)==null||ke.focus()),ue.code==="Escape"&&(document.activeElement===Se.current||(et=Se.current)!=null&&et.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[s]),F.useEffect(()=>{if(Se.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,se.current=!1)}},[Se.current]),F.createElement("section",{"aria-label":`${N} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},w.map((oe,ue)=>{var ke;let[et,gt]=oe.split("-");return V.length?F.createElement("ol",{key:oe,dir:x==="auto"?Mx():x,tabIndex:-1,ref:Se,className:o,"data-sonner-toaster":!0,"data-theme":he,"data-y-position":et,"data-lifted":A&&V.length>1&&!i,"data-x-position":gt,style:{"--front-toast-height":`${((ke=E[0])==null?void 0:ke.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Ij,"--width":`${Cj}px`,"--gap":`${b}px`,...p},onBlur:Ue=>{se.current&&!Ue.currentTarget.contains(Ue.relatedTarget)&&(se.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:Ue=>{Ue.target instanceof HTMLElement&&Ue.target.dataset.dismissible==="false"||se.current||(se.current=!0,H.current=Ue.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{k||R(!1)},onPointerDown:Ue=>{Ue.target instanceof HTMLElement&&Ue.target.dataset.dismissible==="false"||fe(!0)},onPointerUp:()=>fe(!1)},V.filter(Ue=>!Ue.position&&ue===0||Ue.position===oe).map((Ue,os)=>{var Nr,Kn;return F.createElement(Pj,{key:Ue.id,icons:v,index:os,toast:Ue,defaultRichColors:h,duration:(Nr=_==null?void 0:_.duration)!=null?Nr:f,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:g,closeButton:(Kn=_==null?void 0:_.closeButton)!=null?Kn:a,interacting:k,position:oe,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:Ie,toasts:V.filter(Nn=>Nn.position==Ue.position),heights:E.filter(Nn=>Nn.position==Ue.position),setHeights:C,expandByDefault:i,gap:b,loadingIcon:T,expanded:A,pauseWhenPageIsHidden:j,cn:M})})):null}))});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Pe=(t,e)=>{const n=P.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...d},h)=>P.createElement("svg",{ref:h,...Oj,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Dj(t)}`,o].join(" "),...d},[...e.map(([f,p])=>P.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=Pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Pe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=Pe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=Pe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=Pe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Pe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=Pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=Pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=Pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=Pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=Pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=Pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=Pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=Pe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=Pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=Pe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=Pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=Pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=Pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=Pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Pe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Vx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Jj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],o=t[n++],l=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},ES={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,o=a?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|o>>4;let p=(o&15)<<2|d>>6,g=d&63;l||(g=64,a||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||d==null||f==null)throw new Zj;const p=i<<2|o>>4;if(r.push(p),d!==64){const g=o<<4&240|d>>2;if(r.push(g),f!==64){const _=d<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eO=function(t){const e=bS(t);return ES.encodeByteArray(e,!0)},Gh=function(t){return eO(t).replace(/\./g,"")},TS=function(t){try{return ES.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=()=>tO().__FIREBASE_DEFAULTS__,rO=()=>{if(typeof process>"u"||typeof Vx>"u")return;const t=Vx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TS(t[1]);return e&&JSON.parse(e)},em=()=>{try{return nO()||rO()||sO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SS=t=>{var e,n;return(n=(e=em())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IS=t=>{const e=SS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CS=()=>{var t;return(t=em())===null||t===void 0?void 0:t.config},NS=t=>{var e;return(e=em())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gh(JSON.stringify(n)),Gh(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function oO(){var t;const e=(t=em())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dO(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hO(){return!oO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fO(){try{return typeof indexedDB=="object"}catch{return!1}}function mO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="FirebaseError";class rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pO,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?gO(i,r):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new rs(s,o,r)}}function gO(t,e){return t.replace(yO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yO=/\{\$([^}]+)}/g;function vO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(Fx(i)&&Fx(a)){if(!Kh(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Fx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ql(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Yl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _O(t,e){const n=new wO(t,e);return n.subscribe.bind(n)}class wO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=_p),s.error===void 0&&(s.error=_p),s.complete===void 0&&(s.complete=_p);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TO(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EO(t){return t===ea?void 0:t}function TO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const IO={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},CO=De.INFO,NO={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},kO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=NO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gv{constructor(e){this.name=e,this._logLevel=CO,this._logHandler=kO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const AO=(t,e)=>e.some(n=>t instanceof n);let Ux,$x;function RO(){return Ux||(Ux=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PO(){return $x||($x=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AS=new WeakMap,Qg=new WeakMap,RS=new WeakMap,wp=new WeakMap,Kv=new WeakMap;function jO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Ti(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&AS.set(n,t)}).catch(()=>{}),Kv.set(e,t),e}function OO(t){if(Qg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Qg.set(t,e)}let Yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DO(t){Yg=t(Yg)}function MO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xp(this),e,...n);return RS.set(r,e.sort?e.sort():[e]),Ti(r)}:PO().includes(t)?function(...e){return t.apply(xp(this),e),Ti(AS.get(this))}:function(...e){return Ti(t.apply(xp(this),e))}}function LO(t){return typeof t=="function"?MO(t):(t instanceof IDBTransaction&&OO(t),AO(t,RO())?new Proxy(t,Yg):t)}function Ti(t){if(t instanceof IDBRequest)return jO(t);if(wp.has(t))return wp.get(t);const e=LO(t);return e!==t&&(wp.set(t,e),Kv.set(e,t)),e}const xp=t=>Kv.get(t);function VO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),o=Ti(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ti(a.result),l.oldVersion,l.newVersion,Ti(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}const FO=["get","getKey","getAll","getAllKeys","count"],UO=["put","add","delete","clear"],bp=new Map;function Bx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=UO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||FO.includes(n)))return;const i=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(o.shift())),(await Promise.all([d[n](...o),s&&l.done]))[0]};return bp.set(e,i),i}DO(t=>({...t,get:(e,n,r)=>Bx(e,n)||t.get(e,n,r),has:(e,n)=>!!Bx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xg="@firebase/app",zx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Gv("@firebase/app"),zO="@firebase/app-compat",qO="@firebase/analytics-compat",WO="@firebase/analytics",HO="@firebase/app-check-compat",GO="@firebase/app-check",KO="@firebase/auth",QO="@firebase/auth-compat",YO="@firebase/database",XO="@firebase/data-connect",JO="@firebase/database-compat",ZO="@firebase/functions",eD="@firebase/functions-compat",tD="@firebase/installations",nD="@firebase/installations-compat",rD="@firebase/messaging",sD="@firebase/messaging-compat",iD="@firebase/performance",aD="@firebase/performance-compat",oD="@firebase/remote-config",lD="@firebase/remote-config-compat",cD="@firebase/storage",uD="@firebase/storage-compat",dD="@firebase/firestore",hD="@firebase/vertexai-preview",fD="@firebase/firestore-compat",mD="firebase",pD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="[DEFAULT]",gD={[Xg]:"fire-core",[zO]:"fire-core-compat",[WO]:"fire-analytics",[qO]:"fire-analytics-compat",[GO]:"fire-app-check",[HO]:"fire-app-check-compat",[KO]:"fire-auth",[QO]:"fire-auth-compat",[YO]:"fire-rtdb",[XO]:"fire-data-connect",[JO]:"fire-rtdb-compat",[ZO]:"fire-fn",[eD]:"fire-fn-compat",[tD]:"fire-iid",[nD]:"fire-iid-compat",[rD]:"fire-fcm",[sD]:"fire-fcm-compat",[iD]:"fire-perf",[aD]:"fire-perf-compat",[oD]:"fire-rc",[lD]:"fire-rc-compat",[cD]:"fire-gcs",[uD]:"fire-gcs-compat",[dD]:"fire-fst",[fD]:"fire-fst-compat",[hD]:"fire-vertex","fire-js":"fire-js",[mD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Map,yD=new Map,Zg=new Map;function qx(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wa(t){const e=t.name;if(Zg.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;Zg.set(e,t);for(const n of Qh.values())qx(n,t);for(const n of yD.values())qx(n,t);return!0}function tm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Su("app","Firebase",vD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=pD;function Qv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Si.create("bad-app-name",{appName:String(s)});if(n||(n=CS()),!n)throw Si.create("no-options");const i=Qh.get(s);if(i){if(Kh(n,i.options)&&Kh(r,i.config))return i;throw Si.create("duplicate-app",{appName:s})}const a=new SO(s);for(const l of Zg.values())a.addComponent(l);const o=new _D(n,r,a);return Qh.set(s,o),o}function Yv(t=Jg){const e=Qh.get(t);if(!e&&t===Jg&&CS())return Qv();if(!e)throw Si.create("no-app",{appName:t});return e}function qr(t,e,n){var r;let s=(r=gD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(o.join(" "));return}wa(new ki(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="firebase-heartbeat-database",xD=1,Hc="firebase-heartbeat-store";let Ep=null;function PS(){return Ep||(Ep=VO(wD,xD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Si.create("idb-open",{originalErrorMessage:t.message})})),Ep}async function bD(t){try{const n=(await PS()).transaction(Hc),r=await n.objectStore(Hc).get(jS(t));return await n.done,r}catch(e){if(e instanceof rs)Ps.warn(e.message);else{const n=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ps.warn(n.message)}}}async function Wx(t,e){try{const r=(await PS()).transaction(Hc,"readwrite");await r.objectStore(Hc).put(e,jS(t)),await r.done}catch(n){if(n instanceof rs)Ps.warn(n.message);else{const r=Si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ps.warn(r.message)}}}function jS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=1024,TD=30*24*60*60*1e3;class SD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Hx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=TD}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hx(),{heartbeatsToSend:r,unsentEntries:s}=ID(this._heartbeatsCache.heartbeats),i=Gh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ps.warn(n),""}}}function Hx(){return new Date().toISOString().substring(0,10)}function ID(t,e=ED){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Gx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Gx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fO()?mO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Wx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Wx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Gx(t){return Gh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){wa(new ki("platform-logger",e=>new $O(e),"PRIVATE")),wa(new ki("heartbeat",e=>new SD(e),"PRIVATE")),qr(Xg,zx,t),qr(Xg,zx,"esm2017"),qr("fire-js","")}ND("");var kD="firebase",AD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(kD,AD,"app");function Xv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function OS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RD=OS,DS=new Su("auth","Firebase",OS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Gv("@firebase/auth");function PD(t,...e){Yh.logLevel<=De.WARN&&Yh.warn(`Auth (${ja}): ${t}`,...e)}function rh(t,...e){Yh.logLevel<=De.ERROR&&Yh.error(`Auth (${ja}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,...e){throw Jv(t,...e)}function Wr(t,...e){return Jv(t,...e)}function MS(t,e,n){const r=Object.assign(Object.assign({},RD()),{[e]:n});return new Su("auth","Firebase",r).create(e,{appName:t.name})}function Ss(t){return MS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DS.create(t,...e)}function ge(t,e,...n){if(!t)throw Jv(e,...n)}function xs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function js(t,e){t||xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jD(){return Kx()==="http:"||Kx()==="https:"}function Kx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jD()||cO()||"connection"in navigator)?navigator.onLine:!0}function DD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,js(n>e,"Short delay should be less than long delay!"),this.isMobile=aO()||uO()}get(){return OD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t,e){js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new Cu(3e4,6e4);function Vs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ss(t,e,n,r,s={}){return VS(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const o=Iu(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:l},i);return lO()||(d.referrerPolicy="no-referrer"),LS.fetch()(FS(t,t.config.apiHost,n,o),d)})}async function VS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},MD),e);try{const s=new FD(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw kd(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const o=i.ok?a.errorMessage:a.error.message,[l,d]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kd(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw kd(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw kd(t,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw MS(t,h,d);Er(t,h)}}catch(s){if(s instanceof rs)throw s;Er(t,"network-request-failed",{message:String(s)})}}async function Nu(t,e,n,r,s={}){const i=await ss(t,e,n,r,s);return"mfaPendingCredential"in i&&Er(t,"multi-factor-auth-required",{_serverResponse:i}),i}function FS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Zv(t.config,s):`${t.config.apiScheme}://${s}`}function VD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wr(this.auth,"network-request-failed")),LD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Wr(t,e,r);return s.customData._tokenResponse=n,s}function Qx(t){return t!==void 0&&t.enterprise!==void 0}class UD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function $D(t,e){return ss(t,"GET","/v2/recaptchaConfig",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(t,e){return ss(t,"POST","/v1/accounts:delete",e)}async function US(t,e){return ss(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zD(t,e=!1){const n=It(t),r=await n.getIdToken(e),s=e0(r);ge(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:vc(Tp(s.auth_time)),issuedAtTime:vc(Tp(s.iat)),expirationTime:vc(Tp(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Tp(t){return Number(t)*1e3}function e0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const s=TS(n);return s?JSON.parse(s):(rh("Failed to decode base64 JWT payload"),null)}catch(s){return rh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Yx(t){const e=e0(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rs&&qD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await qo(t,US(n,{idToken:r}));ge(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?$S(i.providerUserInfo):[],o=GD(t.providerData,a),l=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),h=l?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ty(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function HD(t){const e=It(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function $S(t){return t.map(e=>{var{providerId:n}=e,r=Xv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t,e){const n=await VS(t,{},async()=>{const r=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=FS(t,s,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",LS.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QD(t,e){return ss(t,"POST","/v2/accounts:revokeToken",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=Yx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await KD(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Eo;return r&&(ge(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(ge(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(ge(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Xv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ty(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await qo(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zD(this,e)}reload(){return HD(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fr(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await qo(this,BD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,o,l,d,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(a=n.photoURL)!==null&&a!==void 0?a:void 0,x=(o=n.tenantId)!==null&&o!==void 0?o:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:N,emailVerified:j,isAnonymous:M,providerData:V,stsTokenManager:S}=n;ge(N&&S,e,"internal-error");const w=Eo.fromJSON(this.name,S);ge(typeof N=="string",e,"internal-error"),Ks(f,e.name),Ks(p,e.name),ge(typeof j=="boolean",e,"internal-error"),ge(typeof M=="boolean",e,"internal-error"),Ks(g,e.name),Ks(_,e.name),Ks(x,e.name),Ks(b,e.name),Ks(T,e.name),Ks(v,e.name);const E=new bs({uid:N,auth:e,email:p,emailVerified:j,displayName:f,isAnonymous:M,photoURL:_,phoneNumber:g,tenantId:x,stsTokenManager:w,createdAt:T,lastLoginAt:v});return V&&Array.isArray(V)&&(E.providerData=V.map(C=>Object.assign({},C))),b&&(E._redirectEventId=b),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Eo;s.updateFromServerResponse(n);const i=new bs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Xh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ge(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?$S(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),o=new Eo;o.updateFromIdToken(r);const l=new bs({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ty(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new Map;function Es(t){js(t instanceof Function,"Expected a class definition");let e=Xx.get(t);return e?(js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Xx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BS.type="NONE";const Jx=BS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t,e,n){return`firebase:${t}:${e}:${n}`}class To{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=sh(this.userKey,s.apiKey,i),this.fullPersistenceKey=sh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new To(Es(Jx),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Es(Jx);const a=sh(r,e.config.apiKey,e.name);let o=null;for(const d of n)try{const h=await d._get(a);if(h){const f=bs._fromJSON(e,h);d!==i&&(o=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new To(i,e,r):(i=l[0],o&&await i._set(a,o.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new To(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KS(e))return"Blackberry";if(QS(e))return"Webos";if(qS(e))return"Safari";if((e.includes("chrome/")||WS(e))&&!e.includes("edge/"))return"Chrome";if(GS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zS(t=on()){return/firefox\//i.test(t)}function qS(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WS(t=on()){return/crios\//i.test(t)}function HS(t=on()){return/iemobile/i.test(t)}function GS(t=on()){return/android/i.test(t)}function KS(t=on()){return/blackberry/i.test(t)}function QS(t=on()){return/webos/i.test(t)}function t0(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YD(t=on()){var e;return t0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XD(){return dO()&&document.documentMode===10}function YS(t=on()){return t0(t)||GS(t)||QS(t)||KS(t)||/windows phone/i.test(t)||HS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e=[]){let n;switch(t){case"Browser":n=Zx(on());break;case"Worker":n=`${Zx(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ja}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,o)=>{try{const l=e(i);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(t,e={}){return ss(t,"GET","/v2/passwordPolicy",Vs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=6;class tM{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:eM,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eb(this),this.idTokenSubscription=new eb(this),this.beforeStateQueue=new JD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Es(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await US(this,{idToken:e}),r=await bs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fr(this.app))return Promise.reject(Ss(this));const n=e?It(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fr(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fr(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZD(this),n=new tM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Es(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[Es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zi(t){return It(t)}class eb{constructor(e){this.auth=e,this.observer=null,this.addObserver=_O(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rM(t){nm=t}function JS(t){return nm.loadJS(t)}function sM(){return nm.recaptchaEnterpriseScript}function iM(){return nm.gapiScript}function aM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const oM="recaptcha-enterprise",lM="NO_RECAPTCHA";class cM{constructor(e){this.type=oM,this.auth=zi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,o)=>{$D(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const d=new UD(l);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(l=>{o(l)})})}function s(i,a,o){const l=window.grecaptcha;Qx(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(lM)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(o=>{if(!n&&Qx(window.grecaptcha))s(o,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sM();l.length!==0&&(l+=o),JS(l).then(()=>{s(o,i,a)}).catch(d=>{a(d)})}}).catch(o=>{a(o)})})}}async function tb(t,e,n,r=!1){const s=new cM(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Jh(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await tb(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await tb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t,e){const n=tm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Kh(i,e??{}))return s;Er(s,"already-initialized")}return n.initialize({options:e})}function dM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hM(t,e,n){const r=zi(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=ZS(e),{host:a,port:o}=fM(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${i}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),mM()}function ZS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fM(t){const e=ZS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:nb(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:nb(a)}}}function nb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,n){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}async function pM(t,e){return ss(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(t,e){return Nu(t,"POST","/v1/accounts:signInWithPassword",Vs(t,e))}async function yM(t,e){return ss(t,"POST","/v1/accounts:sendOobCode",Vs(t,e))}async function vM(t,e){return yM(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(t,e){return Nu(t,"POST","/v1/accounts:signInWithEmailLink",Vs(t,e))}async function wM(t,e){return Nu(t,"POST","/v1/accounts:signInWithEmailLink",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends n0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Gc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jh(e,n,"signInWithPassword",gM);case"emailLink":return _M(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jh(e,r,"signUpPassword",pM);case"emailLink":return wM(e,{idToken:n,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t,e){return Nu(t,"POST","/v1/accounts:signInWithIdp",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="http://localhost";class xa extends n0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Xv(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new xa(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return So(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,So(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,So(e,n)}buildRequest(){const e={requestUri:xM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EM(t){const e=Ql(Yl(t)).link,n=e?Ql(Yl(e)).deep_link_id:null,r=Ql(Yl(t)).deep_link_id;return(r?Ql(Yl(r)).link:null)||r||n||e||t}class r0{constructor(e){var n,r,s,i,a,o;const l=Ql(Yl(e)),d=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=bM((s=l.mode)!==null&&s!==void 0?s:null);ge(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=EM(e);try{return new r0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(e,n){return Gc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=r0.parseLink(n);return ge(r,"argument-error"),Gc._fromEmailAndCode(e,r.code,r.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends eI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends ku{constructor(){super("facebook.com")}static credential(e){return xa._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xa._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return si.credential(n,r)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends ku{constructor(){super("github.com")}static credential(e){return xa._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.GITHUB_SIGN_IN_METHOD="github.com";ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends ku{constructor(){super("twitter.com")}static credential(e,n){return xa._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.TWITTER_SIGN_IN_METHOD="twitter.com";ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t,e){return Nu(t,"POST","/v1/accounts:signUp",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await bs._fromIdTokenResponse(e,r,s),a=rb(r);return new ba({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=rb(r);return new ba({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function rb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh extends rs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Zh(e,n,r,s)}}function tI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(t,i,e,r):i})}async function SM(t,e,n=!1){const r=await qo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ba._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(t,e,n=!1){const{auth:r}=t;if(Fr(r.app))return Promise.reject(Ss(r));const s="reauthenticate";try{const i=await qo(t,tI(r,s,e,t),n);ge(i.idToken,r,"internal-error");const a=e0(i.idToken);ge(a,r,"internal-error");const{sub:o}=a;return ge(t.uid===o,r,"user-mismatch"),ba._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Er(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(t,e,n=!1){if(Fr(t.app))return Promise.reject(Ss(t));const r="signIn",s=await tI(t,r,e),i=await ba._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function CM(t,e){return nI(zi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(t){const e=zi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NM(t,e,n){const r=zi(t);await Jh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",vM)}async function kM(t,e,n){if(Fr(t.app))return Promise.reject(Ss(t));const r=zi(t),a=await Jh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TM).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&rI(t),l}),o=await ba._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function AM(t,e,n){return Fr(t.app)?Promise.reject(Ss(t)):CM(It(t),cl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(t,e){return ss(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=It(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await qo(r,RM(r.auth,i));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function jM(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function OM(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function DM(t){return It(t).signOut()}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=1e3,LM=10;class iI extends sI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);XD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,LM):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iI.type="LOCAL";const VM=iI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI extends sI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aI.type="SESSION";const oI=aI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new rm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const o=Array.from(a).map(async d=>d(n.origin,i)),l=await FM(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((o,l)=>{const d=s0("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function $M(t){Hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function BM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qM(){return lI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="firebaseLocalStorageDb",WM=1,tf="firebaseLocalStorage",uI="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sm(t,e){return t.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function HM(){const t=indexedDB.deleteDatabase(cI);return new Au(t).toPromise()}function ny(){const t=indexedDB.open(cI,WM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tf,{keyPath:uI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(tf)?e(r):(r.close(),await HM(),e(await ny()))})})}async function sb(t,e,n){const r=sm(t,!0).put({[uI]:e,value:n});return new Au(r).toPromise()}async function GM(t,e){const n=sm(t,!1).get(e),r=await new Au(n).toPromise();return r===void 0?null:r.value}function ib(t,e){const n=sm(t,!0).delete(e);return new Au(n).toPromise()}const KM=800,QM=3;class dI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ny(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rm._getInstance(qM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await BM(),!this.activeServiceWorker)return;this.sender=new UM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ny();return await sb(e,ef,"1"),await ib(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ib(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=sm(s,!1).getAll();return new Au(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dI.type="LOCAL";const YM=dI;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t,e){return e?Es(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends n0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,n){return So(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JM(t){return nI(t.auth,new i0(t),t.bypassAuthState)}function ZM(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),IM(n,new i0(t),t.bypassAuthState)}async function e4(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),SM(n,new i0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JM;case"linkViaPopup":case"linkViaRedirect":return e4;case"reauthViaPopup":case"reauthViaRedirect":return ZM;default:Er(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new Cu(2e3,1e4);class mo extends hI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=s0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t4.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="pendingRedirect",ih=new Map;class r4 extends hI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const r=await s4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s4(t,e){const n=o4(e),r=a4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function i4(t,e){ih.set(t._key(),e)}function a4(t){return Es(t._redirectPersistence)}function o4(t){return sh(n4,t.config.apiKey,t.name)}async function l4(t,e,n=!1){if(Fr(t.app))return Promise.reject(Ss(t));const r=zi(t),s=XM(r,e),a=await new r4(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=10*60*1e3;class u4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c4&&this.cachedEventUids.clear(),this.cachedEventUids.has(ab(e))}saveEventToCache(e){this.cachedEventUids.add(ab(e)),this.lastProcessedEventTime=Date.now()}}function ab(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function d4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(t,e={}){return ss(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m4=/^https?/;async function p4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await h4(t);for(const n of e)try{if(g4(n))return}catch{}Er(t,"unauthorized-domain")}function g4(t){const e=ey(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!m4.test(n))return!1;if(f4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new Cu(3e4,6e4);function ob(){const t=Hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function v4(t){return new Promise((e,n)=>{var r,s,i;function a(){ob(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ob(),n(Wr(t,"network-request-failed"))},timeout:y4.get()})}if(!((s=(r=Hr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Hr().gapi)===null||i===void 0)&&i.load)a();else{const o=aM("iframefcb");return Hr()[o]=()=>{gapi.load?a():n(Wr(t,"network-request-failed"))},JS(`${iM()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw ah=null,e})}let ah=null;function _4(t){return ah=ah||v4(t),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=new Cu(5e3,15e3),x4="__/auth/iframe",b4="emulator/auth/iframe",E4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S4(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zv(e,b4):`https://${t.config.authDomain}/${x4}`,r={apiKey:e.apiKey,appName:t.name,v:ja},s=T4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Iu(r).slice(1)}`}async function I4(t){const e=await _4(t),n=Hr().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:S4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Wr(t,"network-request-failed"),o=Hr().setTimeout(()=>{i(a)},w4.get());function l(){Hr().clearTimeout(o),s(r)}r.ping(l).then(l,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N4=500,k4=600,A4="_blank",R4="http://localhost";class lb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P4(t,e,n,r=N4,s=k4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},C4),{width:r.toString(),height:s.toString(),top:i,left:a}),d=on().toLowerCase();n&&(o=WS(d)?A4:n),zS(d)&&(e=e||R4,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(YD(d)&&o!=="_self")return j4(e||"",o),new lb(null);const f=window.open(e||"",o,h);ge(f,t,"popup-blocked");try{f.focus()}catch{}return new lb(f)}function j4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="__/auth/handler",D4="emulator/auth/handler",M4=encodeURIComponent("fac");async function cb(t,e,n,r,s,i){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ja,eventId:s};if(e instanceof eI){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",vO(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof ku){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),d=l?`#${M4}=${encodeURIComponent(l)}`:"";return`${L4(t)}?${Iu(o).slice(1)}${d}`}function L4({config:t}){return t.emulator?Zv(t,D4):`https://${t.authDomain}/${O4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="webStorageSupport";class V4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oI,this._completeRedirectFn=l4,this._overrideRedirectResult=i4}async _openPopup(e,n,r,s){var i;js((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await cb(e,n,r,ey(),s);return P4(e,a,s0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await cb(e,n,r,ey(),s);return $M(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(js(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I4(e),r=new u4(e);return n.register("authEvent",s=>(ge(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sp,{type:Sp},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Sp];a!==void 0&&n(!!a),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YS()||qS()||t0()}}const F4=V4;var ub="@firebase/auth",db="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B4(t){wa(new ki("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;ge(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XS(t)},d=new nM(r,s,i,l);return dM(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wa(new ki("auth-internal",e=>{const n=zi(e.getProvider("auth").getImmediate());return(r=>new U4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(ub,db,$4(t)),qr(ub,db,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=5*60,q4=NS("authIdTokenMaxAge")||z4;let hb=null;const W4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>q4)return;const s=n==null?void 0:n.token;hb!==s&&(hb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mI(t=Yv()){const e=tm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uM(t,{popupRedirectResolver:F4,persistence:[YM,VM,oI]}),r=NS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=W4(i.toString());OM(n,a,()=>a(n.currentUser)),jM(n,o=>a(o))}}const s=SS("auth");return s&&hM(n,`http://${s}`),n}function H4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Wr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",H4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B4("Browser");var fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ha,pI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function E(){}E.prototype=w.prototype,S.D=w.prototype,S.prototype=new E,S.prototype.constructor=S,S.C=function(C,A,R){for(var k=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)k[fe-2]=arguments[fe];return w.prototype[A].apply(C,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,w,E){E||(E=0);var C=Array(16);if(typeof w=="string")for(var A=0;16>A;++A)C[A]=w.charCodeAt(E++)|w.charCodeAt(E++)<<8|w.charCodeAt(E++)<<16|w.charCodeAt(E++)<<24;else for(A=0;16>A;++A)C[A]=w[E++]|w[E++]<<8|w[E++]<<16|w[E++]<<24;w=S.g[0],E=S.g[1],A=S.g[2];var R=S.g[3],k=w+(R^E&(A^R))+C[0]+3614090360&4294967295;w=E+(k<<7&4294967295|k>>>25),k=R+(A^w&(E^A))+C[1]+3905402710&4294967295,R=w+(k<<12&4294967295|k>>>20),k=A+(E^R&(w^E))+C[2]+606105819&4294967295,A=R+(k<<17&4294967295|k>>>15),k=E+(w^A&(R^w))+C[3]+3250441966&4294967295,E=A+(k<<22&4294967295|k>>>10),k=w+(R^E&(A^R))+C[4]+4118548399&4294967295,w=E+(k<<7&4294967295|k>>>25),k=R+(A^w&(E^A))+C[5]+1200080426&4294967295,R=w+(k<<12&4294967295|k>>>20),k=A+(E^R&(w^E))+C[6]+2821735955&4294967295,A=R+(k<<17&4294967295|k>>>15),k=E+(w^A&(R^w))+C[7]+4249261313&4294967295,E=A+(k<<22&4294967295|k>>>10),k=w+(R^E&(A^R))+C[8]+1770035416&4294967295,w=E+(k<<7&4294967295|k>>>25),k=R+(A^w&(E^A))+C[9]+2336552879&4294967295,R=w+(k<<12&4294967295|k>>>20),k=A+(E^R&(w^E))+C[10]+4294925233&4294967295,A=R+(k<<17&4294967295|k>>>15),k=E+(w^A&(R^w))+C[11]+2304563134&4294967295,E=A+(k<<22&4294967295|k>>>10),k=w+(R^E&(A^R))+C[12]+1804603682&4294967295,w=E+(k<<7&4294967295|k>>>25),k=R+(A^w&(E^A))+C[13]+4254626195&4294967295,R=w+(k<<12&4294967295|k>>>20),k=A+(E^R&(w^E))+C[14]+2792965006&4294967295,A=R+(k<<17&4294967295|k>>>15),k=E+(w^A&(R^w))+C[15]+1236535329&4294967295,E=A+(k<<22&4294967295|k>>>10),k=w+(A^R&(E^A))+C[1]+4129170786&4294967295,w=E+(k<<5&4294967295|k>>>27),k=R+(E^A&(w^E))+C[6]+3225465664&4294967295,R=w+(k<<9&4294967295|k>>>23),k=A+(w^E&(R^w))+C[11]+643717713&4294967295,A=R+(k<<14&4294967295|k>>>18),k=E+(R^w&(A^R))+C[0]+3921069994&4294967295,E=A+(k<<20&4294967295|k>>>12),k=w+(A^R&(E^A))+C[5]+3593408605&4294967295,w=E+(k<<5&4294967295|k>>>27),k=R+(E^A&(w^E))+C[10]+38016083&4294967295,R=w+(k<<9&4294967295|k>>>23),k=A+(w^E&(R^w))+C[15]+3634488961&4294967295,A=R+(k<<14&4294967295|k>>>18),k=E+(R^w&(A^R))+C[4]+3889429448&4294967295,E=A+(k<<20&4294967295|k>>>12),k=w+(A^R&(E^A))+C[9]+568446438&4294967295,w=E+(k<<5&4294967295|k>>>27),k=R+(E^A&(w^E))+C[14]+3275163606&4294967295,R=w+(k<<9&4294967295|k>>>23),k=A+(w^E&(R^w))+C[3]+4107603335&4294967295,A=R+(k<<14&4294967295|k>>>18),k=E+(R^w&(A^R))+C[8]+1163531501&4294967295,E=A+(k<<20&4294967295|k>>>12),k=w+(A^R&(E^A))+C[13]+2850285829&4294967295,w=E+(k<<5&4294967295|k>>>27),k=R+(E^A&(w^E))+C[2]+4243563512&4294967295,R=w+(k<<9&4294967295|k>>>23),k=A+(w^E&(R^w))+C[7]+1735328473&4294967295,A=R+(k<<14&4294967295|k>>>18),k=E+(R^w&(A^R))+C[12]+2368359562&4294967295,E=A+(k<<20&4294967295|k>>>12),k=w+(E^A^R)+C[5]+4294588738&4294967295,w=E+(k<<4&4294967295|k>>>28),k=R+(w^E^A)+C[8]+2272392833&4294967295,R=w+(k<<11&4294967295|k>>>21),k=A+(R^w^E)+C[11]+1839030562&4294967295,A=R+(k<<16&4294967295|k>>>16),k=E+(A^R^w)+C[14]+4259657740&4294967295,E=A+(k<<23&4294967295|k>>>9),k=w+(E^A^R)+C[1]+2763975236&4294967295,w=E+(k<<4&4294967295|k>>>28),k=R+(w^E^A)+C[4]+1272893353&4294967295,R=w+(k<<11&4294967295|k>>>21),k=A+(R^w^E)+C[7]+4139469664&4294967295,A=R+(k<<16&4294967295|k>>>16),k=E+(A^R^w)+C[10]+3200236656&4294967295,E=A+(k<<23&4294967295|k>>>9),k=w+(E^A^R)+C[13]+681279174&4294967295,w=E+(k<<4&4294967295|k>>>28),k=R+(w^E^A)+C[0]+3936430074&4294967295,R=w+(k<<11&4294967295|k>>>21),k=A+(R^w^E)+C[3]+3572445317&4294967295,A=R+(k<<16&4294967295|k>>>16),k=E+(A^R^w)+C[6]+76029189&4294967295,E=A+(k<<23&4294967295|k>>>9),k=w+(E^A^R)+C[9]+3654602809&4294967295,w=E+(k<<4&4294967295|k>>>28),k=R+(w^E^A)+C[12]+3873151461&4294967295,R=w+(k<<11&4294967295|k>>>21),k=A+(R^w^E)+C[15]+530742520&4294967295,A=R+(k<<16&4294967295|k>>>16),k=E+(A^R^w)+C[2]+3299628645&4294967295,E=A+(k<<23&4294967295|k>>>9),k=w+(A^(E|~R))+C[0]+4096336452&4294967295,w=E+(k<<6&4294967295|k>>>26),k=R+(E^(w|~A))+C[7]+1126891415&4294967295,R=w+(k<<10&4294967295|k>>>22),k=A+(w^(R|~E))+C[14]+2878612391&4294967295,A=R+(k<<15&4294967295|k>>>17),k=E+(R^(A|~w))+C[5]+4237533241&4294967295,E=A+(k<<21&4294967295|k>>>11),k=w+(A^(E|~R))+C[12]+1700485571&4294967295,w=E+(k<<6&4294967295|k>>>26),k=R+(E^(w|~A))+C[3]+2399980690&4294967295,R=w+(k<<10&4294967295|k>>>22),k=A+(w^(R|~E))+C[10]+4293915773&4294967295,A=R+(k<<15&4294967295|k>>>17),k=E+(R^(A|~w))+C[1]+2240044497&4294967295,E=A+(k<<21&4294967295|k>>>11),k=w+(A^(E|~R))+C[8]+1873313359&4294967295,w=E+(k<<6&4294967295|k>>>26),k=R+(E^(w|~A))+C[15]+4264355552&4294967295,R=w+(k<<10&4294967295|k>>>22),k=A+(w^(R|~E))+C[6]+2734768916&4294967295,A=R+(k<<15&4294967295|k>>>17),k=E+(R^(A|~w))+C[13]+1309151649&4294967295,E=A+(k<<21&4294967295|k>>>11),k=w+(A^(E|~R))+C[4]+4149444226&4294967295,w=E+(k<<6&4294967295|k>>>26),k=R+(E^(w|~A))+C[11]+3174756917&4294967295,R=w+(k<<10&4294967295|k>>>22),k=A+(w^(R|~E))+C[2]+718787259&4294967295,A=R+(k<<15&4294967295|k>>>17),k=E+(R^(A|~w))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(A+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var E=w-this.blockSize,C=this.B,A=this.h,R=0;R<w;){if(A==0)for(;R<=E;)s(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<w;)if(C[A++]=S.charCodeAt(R++),A==this.blockSize){s(this,C),A=0;break}}else for(;R<w;)if(C[A++]=S[R++],A==this.blockSize){s(this,C),A=0;break}}this.h=A,this.o+=w},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var E=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=E&255,E/=256;for(this.u(S),S=Array(16),w=E=0;4>w;++w)for(var C=0;32>C;C+=8)S[E++]=this.g[w]>>>C&255;return S};function i(S,w){var E=o;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=w(S)}function a(S,w){this.h=w;for(var E=[],C=!0,A=S.length-1;0<=A;A--){var R=S[A]|0;C&&R==w||(E[A]=R,C=!1)}this.g=E}var o={};function l(S){return-128<=S&&128>S?i(S,function(w){return new a([w|0],0>w?-1:0)}):new a([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return b(d(-S));for(var w=[],E=1,C=0;S>=E;C++)w[C]=S/E|0,E*=4294967296;return new a(w,0)}function h(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return b(h(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(w,8)),C=f,A=0;A<S.length;A+=8){var R=Math.min(8,S.length-A),k=parseInt(S.substring(A,A+R),w);8>R?(R=d(Math.pow(w,R)),C=C.j(R).add(d(k))):(C=C.j(E),C=C.add(d(k)))}return C}var f=l(0),p=l(1),g=l(16777216);t=a.prototype,t.m=function(){if(x(this))return-b(this).m();for(var S=0,w=1,E=0;E<this.g.length;E++){var C=this.i(E);S+=(0<=C?C:4294967296+C)*w,w*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_(this))return"0";if(x(this))return"-"+b(this).toString(S);for(var w=d(Math.pow(S,6)),E=this,C="";;){var A=j(E,w).g;E=T(E,A.j(w));var R=((0<E.g.length?E.g[0]:E.h)>>>0).toString(S);if(E=A,_(E))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function _(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function x(S){return S.h==-1}t.l=function(S){return S=T(this,S),x(S)?-1:_(S)?0:1};function b(S){for(var w=S.g.length,E=[],C=0;C<w;C++)E[C]=~S.g[C];return new a(E,~S.h).add(p)}t.abs=function(){return x(this)?b(this):this},t.add=function(S){for(var w=Math.max(this.g.length,S.g.length),E=[],C=0,A=0;A<=w;A++){var R=C+(this.i(A)&65535)+(S.i(A)&65535),k=(R>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);C=k>>>16,R&=65535,k&=65535,E[A]=k<<16|R}return new a(E,E[E.length-1]&-2147483648?-1:0)};function T(S,w){return S.add(b(w))}t.j=function(S){if(_(this)||_(S))return f;if(x(this))return x(S)?b(this).j(b(S)):b(b(this).j(S));if(x(S))return b(this.j(b(S)));if(0>this.l(g)&&0>S.l(g))return d(this.m()*S.m());for(var w=this.g.length+S.g.length,E=[],C=0;C<2*w;C++)E[C]=0;for(C=0;C<this.g.length;C++)for(var A=0;A<S.g.length;A++){var R=this.i(C)>>>16,k=this.i(C)&65535,fe=S.i(A)>>>16,he=S.i(A)&65535;E[2*C+2*A]+=k*he,v(E,2*C+2*A),E[2*C+2*A+1]+=R*he,v(E,2*C+2*A+1),E[2*C+2*A+1]+=k*fe,v(E,2*C+2*A+1),E[2*C+2*A+2]+=R*fe,v(E,2*C+2*A+2)}for(C=0;C<w;C++)E[C]=E[2*C+1]<<16|E[2*C];for(C=w;C<2*w;C++)E[C]=0;return new a(E,0)};function v(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function N(S,w){this.g=S,this.h=w}function j(S,w){if(_(w))throw Error("division by zero");if(_(S))return new N(f,f);if(x(S))return w=j(b(S),w),new N(b(w.g),b(w.h));if(x(w))return w=j(S,b(w)),new N(b(w.g),w.h);if(30<S.g.length){if(x(S)||x(w))throw Error("slowDivide_ only works with positive integers.");for(var E=p,C=w;0>=C.l(S);)E=M(E),C=M(C);var A=V(E,1),R=V(C,1);for(C=V(C,2),E=V(E,2);!_(C);){var k=R.add(C);0>=k.l(S)&&(A=A.add(E),R=k),C=V(C,1),E=V(E,1)}return w=T(S,A.j(w)),new N(A,w)}for(A=f;0<=S.l(w);){for(E=Math.max(1,Math.floor(S.m()/w.m())),C=Math.ceil(Math.log(E)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=d(E),k=R.j(w);x(k)||0<k.l(S);)E-=C,R=d(E),k=R.j(w);_(R)&&(R=p),A=A.add(R),S=T(S,k)}return new N(A,S)}t.A=function(S){return j(this,S).h},t.and=function(S){for(var w=Math.max(this.g.length,S.g.length),E=[],C=0;C<w;C++)E[C]=this.i(C)&S.i(C);return new a(E,this.h&S.h)},t.or=function(S){for(var w=Math.max(this.g.length,S.g.length),E=[],C=0;C<w;C++)E[C]=this.i(C)|S.i(C);return new a(E,this.h|S.h)},t.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),E=[],C=0;C<w;C++)E[C]=this.i(C)^S.i(C);return new a(E,this.h^S.h)};function M(S){for(var w=S.g.length+1,E=[],C=0;C<w;C++)E[C]=S.i(C)<<1|S.i(C-1)>>>31;return new a(E,S.h)}function V(S,w){var E=w>>5;w%=32;for(var C=S.g.length-E,A=[],R=0;R<C;R++)A[R]=0<w?S.i(R+E)>>>w|S.i(R+E+1)<<32-w:S.i(R+E);return new a(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pI=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,ha=a}).apply(typeof fb<"u"?fb:typeof self<"u"?self:typeof window<"u"?window:{});var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gI,Xl,yI,oh,ry,vI,_I,wI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ad=="object"&&Ad];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var y=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var D=u[I];if(!(D in y))break e;y=y[D]}u=u[u.length-1],I=y[u],m=m(I),m!=I&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var y=0,I=!1,D={next:function(){if(!I&&y<u.length){var $=y++;return{value:m($,u[$]),done:!1}}return I=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,y){return u.call.apply(u.bind,arguments)}function f(u,m,y){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,I),u.apply(m,D)}}return function(){return u.apply(m,arguments)}}function p(u,m,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function _(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(I,D,$){for(var Y=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Y[Ze-2]=arguments[Ze];return m.prototype[D].apply(I,Y)}}function x(u){const m=u.length;if(0<m){const y=Array(m);for(let I=0;I<m;I++)y[I]=u[I];return y}return[]}function b(u,m){for(let y=1;y<arguments.length;y++){const I=arguments[y];if(l(I)){const D=u.length||0,$=I.length||0;u.length=D+$;for(let Y=0;Y<$;Y++)u[D+Y]=I[Y]}else u.push(I)}}class T{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(u){return/^[\s\xa0]*$/.test(u)}function N(){var u=o.navigator;return u&&(u=u.userAgent)?u:""}function j(u){return j[" "](u),u}j[" "]=function(){};var M=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function V(u,m,y){for(const I in u)m.call(y,u[I],I,u)}function S(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function w(u){const m={};for(const y in u)m[y]=u[y];return m}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,m){let y,I;for(let D=1;D<arguments.length;D++){I=arguments[D];for(y in I)u[y]=I[y];for(let $=0;$<E.length;$++)y=E[$],Object.prototype.hasOwnProperty.call(I,y)&&(u[y]=I[y])}}function A(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function R(u){o.setTimeout(()=>{throw u},0)}function k(){var u=H;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class fe{constructor(){this.h=this.g=null}add(m,y){const I=he.get();I.set(m,y),this.h?this.h.next=I:this.g=I,this.h=I}}var he=new T(()=>new ve,u=>u.reset());class ve{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,K=!1,H=new fe,se=()=>{const u=o.Promise.resolve(void 0);Se=()=>{u.then(Ie)}};var Ie=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(y){R(y)}var m=he;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}K=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};o.addEventListener("test",y,m),o.removeEventListener("test",y,m)}catch{}return u}();function et(u,m){if(ue.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(M){e:{try{j(m.nodeName);var D=!0;break e}catch{}D=!1}D||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:gt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&et.aa.h.call(this)}}_(et,ue);var gt={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),os=0;function Nr(u,m,y,I,D){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!I,this.ha=D,this.key=++os,this.da=this.fa=!1}function Kn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nn(u){this.src=u,this.g={},this.h=0}Nn.prototype.add=function(u,m,y,I,D){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var Y=ls(u,m,I,D);return-1<Y?(m=u[Y],y||(m.fa=!1)):(m=new Nr(m,this.src,$,!!I,D),m.fa=y,u.push(m)),m};function Hi(u,m){var y=m.type;if(y in u.g){var I=u.g[y],D=Array.prototype.indexOf.call(I,m,void 0),$;($=0<=D)&&Array.prototype.splice.call(I,D,1),$&&(Kn(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ls(u,m,y,I){for(var D=0;D<u.length;++D){var $=u[D];if(!$.da&&$.listener==m&&$.capture==!!y&&$.ha==I)return D}return-1}var Fs="closure_lm_"+(1e6*Math.random()|0),Us={};function _l(u,m,y,I,D){if(Array.isArray(m)){for(var $=0;$<m.length;$++)_l(u,m[$],y,I,D);return null}return y=be(y),u&&u[Ue]?u.K(m,y,d(I)?!!I.capture:!!I,D):wl(u,m,y,!1,I,D)}function wl(u,m,y,I,D,$){if(!m)throw Error("Invalid event type");var Y=d(D)?!!D.capture:!!D,Ze=z(u);if(Ze||(u[Fs]=Ze=new Nn(u)),y=Ze.add(m,y,I,Y,$),y.proxy)return y;if(I=O(),y.proxy=I,I.src=u,I.listener=y,u.addEventListener)ke||(D=Y),D===void 0&&(D=!1),u.addEventListener(m.toString(),I,D);else if(u.attachEvent)u.attachEvent(X(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function O(){function u(y){return m.call(u.src,u.listener,y)}const m=Q;return u}function L(u,m,y,I,D){if(Array.isArray(m))for(var $=0;$<m.length;$++)L(u,m[$],y,I,D);else I=d(I)?!!I.capture:!!I,y=be(y),u&&u[Ue]?(u=u.i,m=String(m).toString(),m in u.g&&($=u.g[m],y=ls($,y,I,D),-1<y&&(Kn($[y]),Array.prototype.splice.call($,y,1),$.length==0&&(delete u.g[m],u.h--)))):u&&(u=z(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ls(m,y,I,D)),(y=-1<u?m[u]:null)&&U(y))}function U(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ue])Hi(m.i,u);else{var y=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(y,I,u.capture):m.detachEvent?m.detachEvent(X(y),I):m.addListener&&m.removeListener&&m.removeListener(I),(y=z(m))?(Hi(y,u),y.h==0&&(y.src=null,m[Fs]=null)):Kn(u)}}}function X(u){return u in Us?Us[u]:Us[u]="on"+u}function Q(u,m){if(u.da)u=!0;else{m=new et(m,this);var y=u.listener,I=u.ha||u.src;u.fa&&U(u),u=y.call(I,m)}return u}function z(u){return u=u[Fs],u instanceof Nn?u:null}var ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(u){return typeof u=="function"?u:(u[ie]||(u[ie]=function(m){return u.handleEvent(m)}),u[ie])}function Ae(){oe.call(this),this.i=new Nn(this),this.M=this,this.F=null}_(Ae,oe),Ae.prototype[Ue]=!0,Ae.prototype.removeEventListener=function(u,m,y,I){L(this,u,m,y,I)};function Ne(u,m){var y,I=u.F;if(I)for(y=[];I;I=I.F)y.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new ue(m,u);else if(m instanceof ue)m.target=m.target||u;else{var D=m;m=new ue(I,u),C(m,D)}if(D=!0,y)for(var $=y.length-1;0<=$;$--){var Y=m.g=y[$];D=yn(Y,I,!0,m)&&D}if(Y=m.g=u,D=yn(Y,I,!0,m)&&D,D=yn(Y,I,!1,m)&&D,y)for($=0;$<y.length;$++)Y=m.g=y[$],D=yn(Y,I,!1,m)&&D}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],I=0;I<y.length;I++)Kn(y[I]);delete u.g[m],u.h--}}this.F=null},Ae.prototype.K=function(u,m,y,I){return this.i.add(String(u),m,!1,y,I)},Ae.prototype.L=function(u,m,y,I){return this.i.add(String(u),m,!0,y,I)};function yn(u,m,y,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var D=!0,$=0;$<m.length;++$){var Y=m[$];if(Y&&!Y.da&&Y.capture==y){var Ze=Y.listener,Vt=Y.ha||Y.src;Y.fa&&Hi(u.i,Y),D=Ze.call(Vt,I)!==!1&&D}}return D&&!I.defaultPrevented}function $s(u,m,y){if(typeof u=="function")y&&(u=p(u,y));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:o.setTimeout(u,m||0)}function kn(u){u.g=$s(()=>{u.g=null,u.i&&(u.i=!1,kn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Bs extends oe{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:kn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qn(u){oe.call(this),this.h=u,this.g={}}_(Qn,oe);var Gi=[];function La(u){V(u.g,function(m,y){this.g.hasOwnProperty(y)&&U(m)},u),u.g={}}Qn.prototype.N=function(){Qn.aa.N.call(this),La(this)},Qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=o.JSON.stringify,Ku=o.JSON.parse,jm=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Ki(){}Ki.prototype.h=null;function sr(u){return u.h||(u.h=u.i())}function Qu(){}var pe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $e(){ue.call(this,"d")}_($e,ue);function Ye(){ue.call(this,"c")}_(Ye,ue);var Ct={},An=null;function zs(){return An=An||new Ae}Ct.La="serverreachability";function Yu(u){ue.call(this,Ct.La,u)}_(Yu,ue);function xl(u){const m=zs();Ne(m,new Yu(m))}Ct.STAT_EVENT="statevent";function k_(u,m){ue.call(this,Ct.STAT_EVENT,u),this.stat=m}_(k_,ue);function cn(u){const m=zs();Ne(m,new k_(m,u))}Ct.Ma="timingevent";function A_(u,m){ue.call(this,Ct.Ma,u),this.size=m}_(A_,ue);function bl(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},m)}function El(){this.g=!0}El.prototype.xa=function(){this.g=!1};function uA(u,m,y,I,D,$){u.info(function(){if(u.g)if($)for(var Y="",Ze=$.split("&"),Vt=0;Vt<Ze.length;Vt++){var Be=Ze[Vt].split("=");if(1<Be.length){var Qt=Be[0];Be=Be[1];var Yt=Qt.split("_");Y=2<=Yt.length&&Yt[1]=="type"?Y+(Qt+"="+Be+"&"):Y+(Qt+"=redacted&")}}else Y=null;else Y=$;return"XMLHTTP REQ ("+I+") [attempt "+D+"]: "+m+`
`+y+`
`+Y})}function dA(u,m,y,I,D,$,Y){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+D+"]: "+m+`
`+y+`
`+$+" "+Y})}function Va(u,m,y,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+fA(u,y)+(I?" "+I:"")})}function hA(u,m){u.info(function(){return"TIMEOUT: "+m})}El.prototype.info=function(){};function fA(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var I=y[u];if(!(2>I.length)){var D=I[1];if(Array.isArray(D)&&!(1>D.length)){var $=D[0];if($!="noop"&&$!="stop"&&$!="close")for(var Y=1;Y<D.length;Y++)D[Y]=""}}}}return cs(y)}catch{return m}}var Xu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},R_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Om;function Ju(){}_(Ju,Ki),Ju.prototype.g=function(){return new XMLHttpRequest},Ju.prototype.i=function(){return{}},Om=new Ju;function qs(u,m,y,I){this.j=u,this.i=m,this.l=y,this.R=I||1,this.U=new Qn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new P_}function P_(){this.i=null,this.g="",this.h=!1}var j_={},Dm={};function Mm(u,m,y){u.L=1,u.v=nd(us(m)),u.m=y,u.P=!0,O_(u,null)}function O_(u,m){u.F=Date.now(),Zu(u),u.A=us(u.v);var y=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),K_(y.i,"t",I),u.C=0,y=u.j.J,u.h=new P_,u.g=hw(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Bs(p(u.Y,u,u.g),u.O)),m=u.U,y=u.g,I=u.ca;var D="readystatechange";Array.isArray(D)||(D&&(Gi[0]=D.toString()),D=Gi);for(var $=0;$<D.length;$++){var Y=_l(y,D[$],I||m.handleEvent,!1,m.h||m);if(!Y)break;m.g[Y.key]=Y}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),xl(),uA(u.i,u.u,u.A,u.l,u.R,u.m)}qs.prototype.ca=function(u){u=u.target;const m=this.M;m&&ds(u)==3?m.j():this.Y(u)},qs.prototype.Y=function(u){try{if(u==this.g)e:{const Yt=ds(this.g);var m=this.g.Ba();const $a=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||tw(this.g)))){this.J||Yt!=4||m==7||(m==8||0>=$a?xl(3):xl(2)),Lm(this);var y=this.g.Z();this.X=y;t:if(D_(this)){var I=tw(this.g);u="";var D=I.length,$=ds(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qi(this),Tl(this);var Y="";break t}this.h.i=new o.TextDecoder}for(m=0;m<D;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!($&&m==D-1)});I.length=0,this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=y==200,dA(this.i,this.u,this.A,this.l,this.R,Yt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Vt=this.g;if((Ze=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ze)){var Be=Ze;break t}}Be=null}if(y=Be)Va(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vm(this,y);else{this.o=!1,this.s=3,cn(12),Qi(this),Tl(this);break e}}if(this.P){y=!0;let ir;for(;!this.J&&this.C<Y.length;)if(ir=mA(this,Y),ir==Dm){Yt==4&&(this.s=4,cn(14),y=!1),Va(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==j_){this.s=4,cn(15),Va(this.i,this.l,Y,"[Invalid Chunk]"),y=!1;break}else Va(this.i,this.l,ir,null),Vm(this,ir);if(D_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||Y.length!=0||this.h.h||(this.s=1,cn(16),y=!1),this.o=this.o&&y,!y)Va(this.i,this.l,Y,"[Invalid Chunked Response]"),Qi(this),Tl(this);else if(0<Y.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),qm(Qt),Qt.M=!0,cn(11))}}else Va(this.i,this.l,Y,null),Vm(this,Y);Yt==4&&Qi(this),this.o&&!this.J&&(Yt==4?lw(this.j,this):(this.o=!1,Zu(this)))}else RA(this.g),y==400&&0<Y.indexOf("Unknown SID")?(this.s=3,cn(12)):(this.s=0,cn(13)),Qi(this),Tl(this)}}}catch{}finally{}};function D_(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function mA(u,m){var y=u.C,I=m.indexOf(`
`,y);return I==-1?Dm:(y=Number(m.substring(y,I)),isNaN(y)?j_:(I+=1,I+y>m.length?Dm:(m=m.slice(I,I+y),u.C=I+y,m)))}qs.prototype.cancel=function(){this.J=!0,Qi(this)};function Zu(u){u.S=Date.now()+u.I,M_(u,u.I)}function M_(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=bl(p(u.ba,u),m)}function Lm(u){u.B&&(o.clearTimeout(u.B),u.B=null)}qs.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(hA(this.i,this.A),this.L!=2&&(xl(),cn(17)),Qi(this),this.s=2,Tl(this)):M_(this,this.S-u)};function Tl(u){u.j.G==0||u.J||lw(u.j,u)}function Qi(u){Lm(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,La(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Vm(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Fm(y.h,u))){if(!u.K&&Fm(y.h,u)&&y.G==3){try{var I=y.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var D=I;if(D[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)ld(y),ad(y);else break e;zm(y),cn(18)}}else y.za=D[1],0<y.za-y.T&&37500>D[2]&&y.F&&y.v==0&&!y.C&&(y.C=bl(p(y.Za,y),6e3));if(1>=F_(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Xi(y,11)}else if((u.K||y.g==u)&&ld(y),!v(m))for(D=y.Da.g.parse(m),m=0;m<D.length;m++){let Be=D[m];if(y.T=Be[0],Be=Be[1],y.G==2)if(Be[0]=="c"){y.K=Be[1],y.ia=Be[2];const Qt=Be[3];Qt!=null&&(y.la=Qt,y.j.info("VER="+y.la));const Yt=Be[4];Yt!=null&&(y.Aa=Yt,y.j.info("SVER="+y.Aa));const $a=Be[5];$a!=null&&typeof $a=="number"&&0<$a&&(I=1.5*$a,y.L=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const ir=u.g;if(ir){const ud=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ud){var $=I.h;$.g||ud.indexOf("spdy")==-1&&ud.indexOf("quic")==-1&&ud.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Um($,$.h),$.h=null))}if(I.D){const Wm=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Wm&&(I.ya=Wm,nt(I.I,I.D,Wm))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),I=y;var Y=u;if(I.qa=dw(I,I.J?I.ia:null,I.W),Y.K){U_(I.h,Y);var Ze=Y,Vt=I.L;Vt&&(Ze.I=Vt),Ze.B&&(Lm(Ze),Zu(Ze)),I.g=Y}else aw(I);0<y.i.length&&od(y)}else Be[0]!="stop"&&Be[0]!="close"||Xi(y,7);else y.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Xi(y,7):Bm(y):Be[0]!="noop"&&y.l&&y.l.ta(Be),y.v=0)}}xl(4)}catch{}}var pA=class{constructor(u,m){this.g=u,this.map=m}};function L_(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function V_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function F_(u){return u.h?1:u.g?u.g.size:0}function Fm(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Um(u,m){u.g?u.g.add(m):u.h=m}function U_(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}L_.prototype.cancel=function(){if(this.i=$_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $_(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return x(u.i)}function gA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],y=u.length,I=0;I<y;I++)m.push(u[I]);return m}m=[],y=0;for(I in u)m[y++]=u[I];return m}function yA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const I in u)m[y++]=I;return m}}}function B_(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=yA(u),I=gA(u),D=I.length,$=0;$<D;$++)m.call(void 0,I[$],y&&y[$],u)}var z_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vA(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var I=u[y].indexOf("="),D=null;if(0<=I){var $=u[y].substring(0,I);D=u[y].substring(I+1)}else $=u[y];m($,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Yi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Yi){this.h=u.h,ed(this,u.j),this.o=u.o,this.g=u.g,td(this,u.s),this.l=u.l;var m=u.i,y=new Cl;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),q_(this,y),this.m=u.m}else u&&(m=String(u).match(z_))?(this.h=!1,ed(this,m[1]||"",!0),this.o=Sl(m[2]||""),this.g=Sl(m[3]||"",!0),td(this,m[4]),this.l=Sl(m[5]||"",!0),q_(this,m[6]||"",!0),this.m=Sl(m[7]||"")):(this.h=!1,this.i=new Cl(null,this.h))}Yi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Il(m,W_,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Il(m,W_,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Il(y,y.charAt(0)=="/"?xA:wA,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Il(y,EA)),u.join("")};function us(u){return new Yi(u)}function ed(u,m,y){u.j=y?Sl(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function td(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function q_(u,m,y){m instanceof Cl?(u.i=m,TA(u.i,u.h)):(y||(m=Il(m,bA)),u.i=new Cl(m,u.h))}function nt(u,m,y){u.i.set(m,y)}function nd(u){return nt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Sl(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Il(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,_A),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _A(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var W_=/[#\/\?@]/g,wA=/[#\?:]/g,xA=/[#\?]/g,bA=/[#\?@]/g,EA=/#/g;function Cl(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ws(u){u.g||(u.g=new Map,u.h=0,u.i&&vA(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=Cl.prototype,t.add=function(u,m){Ws(this),this.i=null,u=Fa(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function H_(u,m){Ws(u),m=Fa(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function G_(u,m){return Ws(u),m=Fa(u,m),u.g.has(m)}t.forEach=function(u,m){Ws(this),this.g.forEach(function(y,I){y.forEach(function(D){u.call(m,D,I,this)},this)},this)},t.na=function(){Ws(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let I=0;I<m.length;I++){const D=u[I];for(let $=0;$<D.length;$++)y.push(m[I])}return y},t.V=function(u){Ws(this);let m=[];if(typeof u=="string")G_(this,u)&&(m=m.concat(this.g.get(Fa(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},t.set=function(u,m){return Ws(this),this.i=null,u=Fa(this,u),G_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function K_(u,m,y){H_(u,m),0<y.length&&(u.i=null,u.g.set(Fa(u,m),x(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var I=m[y];const $=encodeURIComponent(String(I)),Y=this.V(I);for(I=0;I<Y.length;I++){var D=$;Y[I]!==""&&(D+="="+encodeURIComponent(String(Y[I]))),u.push(D)}}return this.i=u.join("&")};function Fa(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function TA(u,m){m&&!u.j&&(Ws(u),u.i=null,u.g.forEach(function(y,I){var D=I.toLowerCase();I!=D&&(H_(this,I),K_(this,D,y))},u)),u.j=m}function SA(u,m){const y=new El;if(o.Image){const I=new Image;I.onload=g(Hs,y,"TestLoadImage: loaded",!0,m,I),I.onerror=g(Hs,y,"TestLoadImage: error",!1,m,I),I.onabort=g(Hs,y,"TestLoadImage: abort",!1,m,I),I.ontimeout=g(Hs,y,"TestLoadImage: timeout",!1,m,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function IA(u,m){const y=new El,I=new AbortController,D=setTimeout(()=>{I.abort(),Hs(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then($=>{clearTimeout(D),$.ok?Hs(y,"TestPingServer: ok",!0,m):Hs(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(D),Hs(y,"TestPingServer: error",!1,m)})}function Hs(u,m,y,I,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),I(y)}catch{}}function CA(){this.g=new jm}function NA(u,m,y){const I=y||"";try{B_(u,function(D,$){let Y=D;d(D)&&(Y=cs(D)),m.push(I+$+"="+encodeURIComponent(Y))})}catch(D){throw m.push(I+"type="+encodeURIComponent("_badmap")),D}}function rd(u){this.l=u.Ub||null,this.j=u.eb||!1}_(rd,Ki),rd.prototype.g=function(){return new sd(this.l,this.j)},rd.prototype.i=function(u){return function(){return u}}({});function sd(u,m){Ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(sd,Ae),t=sd.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,kl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||o).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kl(this)),this.g&&(this.readyState=3,kl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Q_(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Q_(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Nl(this):kl(this),this.readyState==3&&Q_(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Nl(this))},t.Qa=function(u){this.g&&(this.response=u,Nl(this))},t.ga=function(){this.g&&Nl(this)};function Nl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,kl(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function kl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(sd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Y_(u){let m="";return V(u,function(y,I){m+=I,m+=":",m+=y,m+=`\r
`}),m}function $m(u,m,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=Y_(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):nt(u,m,y))}function mt(u){Ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(mt,Ae);var kA=/^https?$/i,AA=["POST","PUT"];t=mt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Om.g(),this.v=this.o?sr(this.o):sr(Om),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch($){X_(this,$);return}if(u=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var D in I)y.set(D,I[D]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const $ of I.keys())y.set($,I.get($));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),D=o.FormData&&u instanceof o.FormData,!(0<=Array.prototype.indexOf.call(AA,m,void 0))||I||D||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,Y]of y)this.g.setRequestHeader($,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ew(this),this.u=!0,this.g.send(u),this.u=!1}catch($){X_(this,$)}};function X_(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,J_(u),id(u)}function J_(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ne(this,"complete"),Ne(this,"abort"),id(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),id(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Z_(this):this.bb())},t.bb=function(){Z_(this)};function Z_(u){if(u.h&&typeof a<"u"&&(!u.v[1]||ds(u)!=4||u.Z()!=2)){if(u.u&&ds(u)==4)$s(u.Ea,0,u);else if(Ne(u,"readystatechange"),ds(u)==4){u.h=!1;try{const Y=u.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var I;if(I=Y===0){var D=String(u.D).match(z_)[1]||null;!D&&o.self&&o.self.location&&(D=o.self.location.protocol.slice(0,-1)),I=!kA.test(D?D.toLowerCase():"")}y=I}if(y)Ne(u,"complete"),Ne(u,"success");else{u.m=6;try{var $=2<ds(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",J_(u)}}finally{id(u)}}}}function id(u,m){if(u.g){ew(u);const y=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ne(u,"ready");try{y.onreadystatechange=I}catch{}}}function ew(u){u.I&&(o.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ds(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ds(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ku(m)}};function tw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function RA(u){const m={};u=(u.g&&2<=ds(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(v(u[I]))continue;var y=A(u[I]);const D=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=m[D]||[];m[D]=$,$.push(y)}S(m,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Al(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function nw(u){this.Aa=0,this.i=[],this.j=new El,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Al("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Al("baseRetryDelayMs",5e3,u),this.cb=Al("retryDelaySeedMs",1e4,u),this.Wa=Al("forwardChannelMaxRetries",2,u),this.wa=Al("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new L_(u&&u.concurrentRequestLimit),this.Da=new CA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nw.prototype,t.la=8,t.G=1,t.connect=function(u,m,y,I){cn(0),this.W=u,this.H=m||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.I=dw(this,null,this.W),od(this)};function Bm(u){if(rw(u),u.G==3){var m=u.U++,y=us(u.I);if(nt(y,"SID",u.K),nt(y,"RID",m),nt(y,"TYPE","terminate"),Rl(u,y),m=new qs(u,u.j,m),m.L=2,m.v=nd(us(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&o.Image&&(new Image().src=m.v,y=!0),y||(m.g=hw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zu(m)}uw(u)}function ad(u){u.g&&(qm(u),u.g.cancel(),u.g=null)}function rw(u){ad(u),u.u&&(o.clearTimeout(u.u),u.u=null),ld(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&o.clearTimeout(u.s),u.s=null)}function od(u){if(!V_(u.h)&&!u.s){u.s=!0;var m=u.Ga;Se||se(),K||(Se(),K=!0),H.add(m,u),u.B=0}}function PA(u,m){return F_(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=bl(p(u.Ga,u,m),cw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const D=new qs(this,this.j,u);let $=this.o;if(this.S&&($?($=w($),C($,this.S)):$=this.S),this.m!==null||this.O||(D.H=$,$=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=iw(this,D,m),y=us(this.I),nt(y,"RID",u),nt(y,"CVER",22),this.D&&nt(y,"X-HTTP-Session-Id",this.D),Rl(this,y),$&&(this.O?m="headers="+encodeURIComponent(String(Y_($)))+"&"+m:this.m&&$m(y,this.m,$)),Um(this.h,D),this.Ua&&nt(y,"TYPE","init"),this.P?(nt(y,"$req",m),nt(y,"SID","null"),D.T=!0,Mm(D,y,null)):Mm(D,y,m),this.G=2}}else this.G==3&&(u?sw(this,u):this.i.length==0||V_(this.h)||sw(this))};function sw(u,m){var y;m?y=m.l:y=u.U++;const I=us(u.I);nt(I,"SID",u.K),nt(I,"RID",y),nt(I,"AID",u.T),Rl(u,I),u.m&&u.o&&$m(I,u.m,u.o),y=new qs(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=iw(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Um(u.h,y),Mm(y,I,m)}function Rl(u,m){u.H&&V(u.H,function(y,I){nt(m,I,y)}),u.l&&B_({},function(y,I){nt(m,I,y)})}function iw(u,m,y){y=Math.min(u.i.length,y);var I=u.l?p(u.l.Na,u.l,u):null;e:{var D=u.i;let $=-1;for(;;){const Y=["count="+y];$==-1?0<y?($=D[0].g,Y.push("ofs="+$)):$=0:Y.push("ofs="+$);let Ze=!0;for(let Vt=0;Vt<y;Vt++){let Be=D[Vt].g;const Qt=D[Vt].map;if(Be-=$,0>Be)$=Math.max(0,D[Vt].g-100),Ze=!1;else try{NA(Qt,Y,"req"+Be+"_")}catch{I&&I(Qt)}}if(Ze){I=Y.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,I}function aw(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Se||se(),K||(Se(),K=!0),H.add(m,u),u.v=0}}function zm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=bl(p(u.Fa,u),cw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,ow(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=bl(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,cn(10),ad(this),ow(this))};function qm(u){u.A!=null&&(o.clearTimeout(u.A),u.A=null)}function ow(u){u.g=new qs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=us(u.qa);nt(m,"RID","rpc"),nt(m,"SID",u.K),nt(m,"AID",u.T),nt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&nt(m,"TO",u.ja),nt(m,"TYPE","xmlhttp"),Rl(u,m),u.m&&u.o&&$m(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=nd(us(m)),y.m=null,y.P=!0,O_(y,u)}t.Za=function(){this.C!=null&&(this.C=null,ad(this),zm(this),cn(19))};function ld(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function lw(u,m){var y=null;if(u.g==m){ld(u),qm(u),u.g=null;var I=2}else if(Fm(u.h,m))y=m.D,U_(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var D=u.B;I=zs(),Ne(I,new A_(I,y)),od(u)}else aw(u);else if(D=m.s,D==3||D==0&&0<m.X||!(I==1&&PA(u,m)||I==2&&zm(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),D){case 1:Xi(u,5);break;case 4:Xi(u,10);break;case 3:Xi(u,6);break;default:Xi(u,2)}}}function cw(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Xi(u,m){if(u.j.info("Error code "+m),m==2){var y=p(u.fb,u),I=u.Xa;const D=!I;I=new Yi(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ed(I,"https"),nd(I),D?SA(I.toString(),y):IA(I.toString(),y)}else cn(2);u.G=0,u.l&&u.l.sa(m),uw(u),rw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function uw(u){if(u.G=0,u.ka=[],u.l){const m=$_(u.h);(m.length!=0||u.i.length!=0)&&(b(u.ka,m),b(u.ka,u.i),u.h.i.length=0,x(u.i),u.i.length=0),u.l.ra()}}function dw(u,m,y){var I=y instanceof Yi?us(y):new Yi(y);if(I.g!="")m&&(I.g=m+"."+I.g),td(I,I.s);else{var D=o.location;I=D.protocol,m=m?m+"."+D.hostname:D.hostname,D=+D.port;var $=new Yi(null);I&&ed($,I),m&&($.g=m),D&&td($,D),y&&($.l=y),I=$}return y=u.D,m=u.ya,y&&m&&nt(I,y,m),nt(I,"VER",u.la),Rl(u,I),I}function hw(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new mt(new rd({eb:y})):new mt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fw(){}t=fw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cd(){}cd.prototype.g=function(u,m){return new Rn(u,m)};function Rn(u,m){Ae.call(this),this.g=new nw(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!v(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ua(this)}_(Rn,Ae),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Bm(this.g)},Rn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=cs(u),u=y);m.i.push(new pA(m.Ya++,u)),m.G==3&&od(m)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Bm(this.g),delete this.g,Rn.aa.N.call(this)};function mw(u){$e.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}_(mw,$e);function pw(){Ye.call(this),this.status=1}_(pw,Ye);function Ua(u){this.g=u}_(Ua,fw),Ua.prototype.ua=function(){Ne(this.g,"a")},Ua.prototype.ta=function(u){Ne(this.g,new mw(u))},Ua.prototype.sa=function(u){Ne(this.g,new pw)},Ua.prototype.ra=function(){Ne(this.g,"b")},cd.prototype.createWebChannel=cd.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,wI=function(){return new cd},_I=function(){return zs()},vI=Ct,ry={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xu.NO_ERROR=0,Xu.TIMEOUT=8,Xu.HTTP_ERROR=6,oh=Xu,R_.COMPLETE="complete",yI=R_,Qu.EventType=pe,pe.OPEN="a",pe.CLOSE="b",pe.ERROR="c",pe.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,Xl=Qu,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,gI=mt}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});const mb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new Gv("@firebase/firestore");function Ul(){return Ea.logLevel}function ae(t,...e){if(Ea.logLevel<=De.DEBUG){const n=e.map(a0);Ea.debug(`Firestore (${ul}): ${t}`,...n)}}function Os(t,...e){if(Ea.logLevel<=De.ERROR){const n=e.map(a0);Ea.error(`Firestore (${ul}): ${t}`,...n)}}function Wo(t,...e){if(Ea.logLevel<=De.WARN){const n=e.map(a0);Ea.warn(`Firestore (${ul}): ${t}`,...n)}}function a0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: `+t;throw Os(e),new Error(e)}function Ke(t,e){t||_e()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class K4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Q4{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Is,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Is)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new xI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new tn(e)}}class Y4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class X4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Y4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ke(this.o===void 0);const r=i=>{i.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,ae("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new J4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=eL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Ho(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new St(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new St(0,0))}static max(){return new we(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends Kc{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new it(n)}static emptyPath(){return new it([])}}const tL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Kc{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return tL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(r+=o,s++):(i(),s++)}if(i(),a)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(it.fromString(e))}static fromName(e){return new de(it.fromString(e).popFirst(5))}static empty(){return new de(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new it(e.slice()))}}function nL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=we.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new Ai(s,de.empty(),e)}function rL(t){return new Ai(t.readTime,t.key,-1)}class Ai{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ai(we.min(),de.empty(),-1)}static max(){return new Ai(we.max(),de.empty(),-1)}}function sL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==iL)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let s=0,i=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++i,a&&i===s&&n()},l=>r(l))}),a=!0,i===s&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(s=>s?q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new q((r,s)=>{const i=e.length,a=new Array(i);let o=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{a[d]=h,++o,o===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function oL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}o0.oe=-1;function im(t){return t==null}function nf(t){return t===0&&1/t==-1/0}function lL(t){return typeof t=="number"&&Number.isInteger(t)&&!nf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rd(this.root,e,this.comparator,!0)}}class Rd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??$t.RED,this.left=s??$t.EMPTY,this.right=i??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new $t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return $t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,s,i){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gb(this.data.getIterator())}getIteratorFrom(e){return new gb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class gb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new Wt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new TI("Invalid base64 string: "+i):i}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const cL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=cL.exec(t);if(Ke(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ta(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function c0(t){const e=t.mapValue.fields.__previous_value__;return l0(e)?c0(e):e}function Qc(t){const e=Ri(t.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,r,s,i,a,o,l,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=d}}class Yc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?l0(t)?4:hL(t)?9007199254740991:dL(t)?10:11:_e()}function Yr(t,e){if(t===e)return!0;const n=Sa(t);if(n!==Sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qc(t).isEqual(Qc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Ri(s.timestampValue),o=Ri(i.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ta(s.bytesValue).isEqual(Ta(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return vt(s.geoPointValue.latitude)===vt(i.geoPointValue.latitude)&&vt(s.geoPointValue.longitude)===vt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return vt(s.integerValue)===vt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=vt(s.doubleValue),o=vt(i.doubleValue);return a===o?nf(a)===nf(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Ho(t.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},o=i.mapValue.fields||{};if(pb(a)!==pb(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Yr(a[l],o[l])))return!1;return!0}(t,e);default:return _e()}}function Xc(t,e){return(t.values||[]).find(n=>Yr(n,e))!==void 0}function Go(t,e){if(t===e)return 0;const n=Sa(t),r=Sa(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(i,a){const o=vt(i.integerValue||i.doubleValue),l=vt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return yb(t.timestampValue,e.timestampValue);case 4:return yb(Qc(t),Qc(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(i,a){const o=Ta(i),l=Ta(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const o=i.split("/"),l=a.split("/");for(let d=0;d<o.length&&d<l.length;d++){const h=ze(o[d],l[d]);if(h!==0)return h}return ze(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const o=ze(vt(i.latitude),vt(a.latitude));return o!==0?o:ze(vt(i.longitude),vt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vb(t.arrayValue,e.arrayValue);case 10:return function(i,a){var o,l,d,h;const f=i.fields||{},p=a.fields||{},g=(o=f.value)===null||o===void 0?void 0:o.arrayValue,_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,x=ze(((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:vb(g,_)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Pd.mapValue&&a===Pd.mapValue)return 0;if(i===Pd.mapValue)return 1;if(a===Pd.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),d=a.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=ze(l[f],h[f]);if(p!==0)return p;const g=Go(o[l[f]],d[h[f]]);if(g!==0)return g}return ze(l.length,h.length)}(t.mapValue,e.mapValue);default:throw _e()}}function yb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Ri(t),r=Ri(e),s=ze(n.seconds,r.seconds);return s!==0?s:ze(n.nanos,r.nanos)}function vb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Go(n[s],r[s]);if(i)return i}return ze(n.length,r.length)}function Ko(t){return sy(t)}function sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ta(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=sy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${sy(n.fields[a])}`;return s+"}"}(t.mapValue):_e()}function _b(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iy(t){return!!t&&"integerValue"in t}function u0(t){return!!t&&"arrayValue"in t}function wb(t){return!!t&&"nullValue"in t}function xb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lh(t){return!!t&&"mapValue"in t}function dL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function _c(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_c(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_c(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(n)}setAll(e){let n=zt.emptyPath(),r={},s=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=o.popLast()}a?r[o.lastSegment()]=_c(a):s.push(o.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];lh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Oa(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new bn(_c(this.value))}}function SI(t){const e=[];return Oa(t.fields,(n,r)=>{const s=new zt([n]);if(lh(r)){const i=SI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r,s,i,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new rn(e,0,we.min(),we.min(),we.min(),bn.empty(),0)}static newFoundDocument(e,n,r,s){return new rn(e,1,n,we.min(),r,s,0)}static newNoDocument(e,n){return new rn(e,2,n,we.min(),we.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,we.min(),we.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.position=e,this.inclusive=n}}function bb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=de.comparator(de.fromName(a.referenceValue),n.key):r=Go(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Eb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function fL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{}class Tt extends II{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pL(e,n,r):n==="array-contains"?new vL(e,r):n==="in"?new _L(e,r):n==="not-in"?new wL(e,r):n==="array-contains-any"?new xL(e,r):new Tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gL(e,r):new yL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Go(n,this.value)):n!==null&&Sa(this.value)===Sa(n)&&this.matchesComparison(Go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends II{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Tr(e,n)}matches(e){return CI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function CI(t){return t.op==="and"}function NI(t){return mL(t)&&CI(t)}function mL(t){for(const e of t.filters)if(e instanceof Tr)return!1;return!0}function ay(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+Ko(t.value);if(NI(t))return t.filters.map(e=>ay(e)).join(",");{const e=t.filters.map(n=>ay(n)).join(",");return`${t.op}(${e})`}}function kI(t,e){return t instanceof Tt?function(r,s){return s instanceof Tt&&r.op===s.op&&r.field.isEqual(s.field)&&Yr(r.value,s.value)}(t,e):t instanceof Tr?function(r,s){return s instanceof Tr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,o)=>i&&kI(a,s.filters[o]),!0):!1}(t,e):void _e()}function AI(t){return t instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`}(t):t instanceof Tr?function(n){return n.op.toString()+" {"+n.getFilters().map(AI).join(" ,")+"}"}(t):"Filter"}class pL extends Tt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class gL extends Tt{constructor(e,n){super(e,"in",n),this.keys=RI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yL extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=RI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class vL extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return u0(n)&&Xc(n.arrayValue,this.value)}}class _L extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class wL extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xc(this.value.arrayValue,n)}}class xL extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!u0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n=null,r=[],s=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.ue=null}}function Tb(t,e=null,n=[],r=[],s=null,i=null,a=null){return new bL(t,e,n,r,s,i,a)}function d0(t){const e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ay(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),im(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ko(r)).join(",")),e.ue=n}return e.ue}function h0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Eb(t.startAt,e.startAt)&&Eb(t.endAt,e.endAt)}function oy(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n=null,r=[],s=[],i=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function EL(t,e,n,r,s,i,a,o){return new dl(t,e,n,r,s,i,a,o)}function am(t){return new dl(t)}function Sb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PI(t){return t.collectionGroup!==null}function wc(t){const e=xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Wt(zt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(o=o.add(d.field))})}),o})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Jc(i,r))}),n.has(zt.keyField().canonicalString())||e.ce.push(new Jc(zt.keyField(),r))}return e.ce}function Gr(t){const e=xe(t);return e.le||(e.le=TL(e,wc(t))),e.le}function TL(t,e){if(t.limitType==="F")return Tb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Jc(s.field,i)});const n=t.endAt?new rf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rf(t.startAt.position,t.startAt.inclusive):null;return Tb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ly(t,e){const n=t.filters.concat([e]);return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cy(t,e,n){return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function om(t,e){return h0(Gr(t),Gr(e))&&t.limitType===e.limitType}function jI(t){return`${d0(Gr(t))}|lt:${t.limitType}`}function Qa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>AI(s)).join(", ")}]`),im(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ko(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ko(s)).join(",")),`Target(${r})`}(Gr(t))}; limitType=${t.limitType})`}function lm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):de.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of wc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,o,l){const d=bb(a,o,l);return a.inclusive?d<=0:d<0}(r.startAt,wc(r),s)||r.endAt&&!function(a,o,l){const d=bb(a,o,l);return a.inclusive?d>=0:d>0}(r.endAt,wc(r),s))}(t,e)}function SL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OI(t){return(e,n)=>{let r=!1;for(const s of wc(t)){const i=IL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function IL(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(i,a,o){const l=a.data.field(i),d=o.data.field(i);return l!==null&&d!==null?Go(l,d):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return EI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new ft(de.comparator);function Ds(){return CL}const DI=new ft(de.comparator);function Jl(...t){let e=DI;for(const n of t)e=e.insert(n.key,n);return e}function MI(t){let e=DI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function aa(){return xc()}function LI(){return xc()}function xc(){return new hl(t=>t.toString(),(t,e)=>t.isEqual(e))}const NL=new ft(de.comparator),kL=new Wt(de.comparator);function Oe(...t){let e=kL;for(const n of t)e=e.add(n);return e}const AL=new Wt(ze);function RL(){return AL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function VI(t){return{integerValue:""+t}}function PL(t,e){return lL(e)?VI(e):f0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this._=void 0}}function jL(t,e,n){return t instanceof Zc?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&l0(i)&&(i=c0(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof eu?UI(t,e):t instanceof tu?$I(t,e):function(s,i){const a=FI(s,i),o=Ib(a)+Ib(s.Pe);return iy(a)&&iy(s.Pe)?VI(o):f0(s.serializer,o)}(t,e)}function OL(t,e,n){return t instanceof eu?UI(t,e):t instanceof tu?$I(t,e):n}function FI(t,e){return t instanceof sf?function(r){return iy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Zc extends cm{}class eu extends cm{constructor(e){super(),this.elements=e}}function UI(t,e){const n=BI(e);for(const r of t.elements)n.some(s=>Yr(s,r))||n.push(r);return{arrayValue:{values:n}}}class tu extends cm{constructor(e){super(),this.elements=e}}function $I(t,e){let n=BI(e);for(const r of t.elements)n=n.filter(s=>!Yr(s,r));return{arrayValue:{values:n}}}class sf extends cm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ib(t){return vt(t.integerValue||t.doubleValue)}function BI(t){return u0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n){this.field=e,this.transform=n}}function ML(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof eu&&s instanceof eu||r instanceof tu&&s instanceof tu?Ho(r.elements,s.elements,Yr):r instanceof sf&&s instanceof sf?Yr(r.Pe,s.Pe):r instanceof Zc&&s instanceof Zc}(t.transform,e.transform)}class LL{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class um{}function zI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new WI(t.key,wr.none()):new ju(t.key,t.data,wr.none());{const n=t.data,r=bn.empty();let s=new Wt(zt.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new qi(t.key,r,new Fn(s.toArray()),wr.none())}}function VL(t,e,n){t instanceof ju?function(s,i,a){const o=s.value.clone(),l=Nb(s.fieldTransforms,i,a.transformResults);o.setAll(l),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof qi?function(s,i,a){if(!ch(s.precondition,i))return void i.convertToUnknownDocument(a.version);const o=Nb(s.fieldTransforms,i,a.transformResults),l=i.data;l.setAll(qI(s)),l.setAll(o),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function bc(t,e,n,r){return t instanceof ju?function(i,a,o,l){if(!ch(i.precondition,a))return o;const d=i.value.clone(),h=kb(i.fieldTransforms,l,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof qi?function(i,a,o,l){if(!ch(i.precondition,a))return o;const d=kb(i.fieldTransforms,l,a),h=a.data;return h.setAll(qI(i)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,o){return ch(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function FL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=FI(r.transform,s||null);i!=null&&(n===null&&(n=bn.empty()),n.set(r.field,i))}return n||null}function Cb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ho(r,s,(i,a)=>ML(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ju extends um{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qi extends um{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function qI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Nb(t,e,n){const r=new Map;Ke(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,o=e.data.field(i.field);r.set(i.field,OL(a,o,n[s]))}return r}function kb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,jL(i,a,e))}return r}class WI extends um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UL extends um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&VL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LI();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=n.has(s.key)?null:o;const l=zI(a,o);l!==null&&r.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(n,r)=>Cb(n,r))&&Ho(this.baseMutations,e.baseMutations,(n,r)=>Cb(n,r))}}class m0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ke(e.mutations.length===r.length);let s=function(){return NL}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new m0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Me;function qL(t){switch(t){default:return _e();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function HI(t){if(t===void 0)return Os("GRPC error has no .code"),B.UNKNOWN;switch(t){case bt.OK:return B.OK;case bt.CANCELLED:return B.CANCELLED;case bt.UNKNOWN:return B.UNKNOWN;case bt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case bt.INTERNAL:return B.INTERNAL;case bt.UNAVAILABLE:return B.UNAVAILABLE;case bt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case bt.NOT_FOUND:return B.NOT_FOUND;case bt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case bt.ABORTED:return B.ABORTED;case bt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case bt.DATA_LOSS:return B.DATA_LOSS;default:return _e()}}(Me=bt||(bt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=new ha([4294967295,4294967295],0);function Ab(t){const e=WL().encode(t),n=new pI;return n.update(e),new Uint8Array(n.digest())}function Rb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ha([n,r],0),new ha([s,i],0)]}class p0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ha.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ha.fromNumber(r)));return s.compare(HL)===1&&(s=new ha([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Ab(e),[r,s]=Rb(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new p0(i,s,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const n=Ab(e),[r,s]=Rb(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dm(we.min(),s,new ft(ze),Ds(),Oe())}}class Ou{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ou(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class GI{constructor(e,n){this.targetId=e,this.me=n}}class KI{constructor(e,n,r=Gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Pb{constructor(){this.fe=0,this.ge=Ob(),this.pe=Gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:_e()}}),new Ou(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Ob()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class GL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ds(),this.qe=jb(),this.Qe=new ft(ze)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(oy(i))if(r===0){const a=new de(i.path);this.Ue(n,a,rn.newNoDocument(a,we.min()))}else Ke(r===1);else{const a=this.Ye(n);if(a!==r){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,o;try{a=Ta(r).toUint8Array()}catch(l){if(l instanceof TI)return Wo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new p0(a,s,i)}catch(l){return Wo(l instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,a)=>{const o=this.Je(a);if(o){if(i.current&&oy(o.target)){const l=new de(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,rn.newNoDocument(l,e))}i.be&&(n.set(a,i.ve()),i.Ce())}});let r=Oe();this.qe.forEach((i,a)=>{let o=!0;a.forEachWhile(l=>{const d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(e));const s=new dm(e,n,this.Qe,this.ke,r);return this.ke=Ds(),this.qe=jb(),this.Qe=new ft(ze),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Pb,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Wt(ze),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Pb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function jb(){return new ft(de.comparator)}function Ob(){return new ft(de.comparator)}const KL={asc:"ASCENDING",desc:"DESCENDING"},QL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YL={and:"AND",or:"OR"};class XL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uy(t,e){return t.useProto3Json||im(e)?e:{value:e}}function af(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JL(t,e){return af(t,e.toTimestamp())}function Kr(t){return Ke(!!t),we.fromTimestamp(function(n){const r=Ri(n);return new St(r.seconds,r.nanos)}(t))}function g0(t,e){return dy(t,e).canonicalString()}function dy(t,e){const n=function(s){return new it(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function YI(t){const e=it.fromString(t);return Ke(tC(e)),e}function hy(t,e){return g0(t.databaseId,e.path)}function Ip(t,e){const n=YI(e);if(n.get(1)!==t.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(JI(n))}function XI(t,e){return g0(t.databaseId,e)}function ZL(t){const e=YI(t);return e.length===4?it.emptyPath():JI(e)}function fy(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JI(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Db(t,e,n){return{name:hy(t,e),fields:n.value.mapValue.fields}}function eV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ke(h===void 0||typeof h=="string"),Gt.fromBase64String(h||"")):(Ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Gt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(d){const h=d.code===void 0?B.UNKNOWN:HI(d.code);return new te(h,d.message||"")}(a);n=new KI(r,s,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ip(t,r.document.name),i=Kr(r.document.updateTime),a=r.document.createTime?Kr(r.document.createTime):we.min(),o=new bn({mapValue:{fields:r.document.fields}}),l=rn.newFoundDocument(s,i,a,o),d=r.targetIds||[],h=r.removedTargetIds||[];n=new uh(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ip(t,r.document),i=r.readTime?Kr(r.readTime):we.min(),a=rn.newNoDocument(s,i),o=r.removedTargetIds||[];n=new uh([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ip(t,r.document),i=r.removedTargetIds||[];n=new uh([],i,s,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new zL(s,i),o=r.targetId;n=new GI(o,a)}}return n}function tV(t,e){let n;if(e instanceof ju)n={update:Db(t,e.key,e.value)};else if(e instanceof WI)n={delete:hy(t,e.key)};else if(e instanceof qi)n={update:Db(t,e.key,e.data),updateMask:uV(e.fieldMask)};else{if(!(e instanceof UL))return _e();n={verify:hy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const o=a.transform;if(o instanceof Zc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof eu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof tu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof sf)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:JL(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:_e()}(t,e.precondition)),n}function nV(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(s,i){let a=s.updateTime?Kr(s.updateTime):Kr(i);return a.isEqual(we.min())&&(a=Kr(i)),new LL(a,s.transformResults||[])}(n,e))):[]}function rV(t,e){return{documents:[XI(t,e.path)]}}function sV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XI(t,s);const i=function(d){if(d.length!==0)return eC(Tr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:Ya(p.field),direction:oV(p.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=uy(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function iV(t){let e=ZL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ke(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=ZI(f);return p instanceof Tr&&NI(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(p=>function(_){return new Jc(Xa(_.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(f){let p;return p=typeof f=="object"?f.value:f,im(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new rf(g,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,g=f.values||[];return new rf(g,p)}(n.endAt)),EL(e,s,a,i,o,"F",l,d)}function aV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xa(n.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xa(n.unaryFilter.field);return Tt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xa(n.unaryFilter.field);return Tt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Xa(n.unaryFilter.field);return Tt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return Tt.create(Xa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tr.create(n.compositeFilter.filters.map(r=>ZI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function oV(t){return KL[t]}function lV(t){return QL[t]}function cV(t){return YL[t]}function Ya(t){return{fieldPath:t.canonicalString()}}function Xa(t){return zt.fromServerFormat(t.fieldPath)}function eC(t){return t instanceof Tt?function(n){if(n.op==="=="){if(xb(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(wb(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xb(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(wb(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:lV(n.op),value:n.value}}}(t):t instanceof Tr?function(n){const r=n.getFilters().map(s=>eC(s));return r.length===1?r[0]:{compositeFilter:{op:cV(n.op),filters:r}}}(t):_e()}function uV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r,s,i=we.min(),a=we.min(),o=Gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.ct=e}}function hV(t){const e=iV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.un=new mV}addToCollectionParentIndex(e,n){return this.un.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Ai.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class mV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Wt(it.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Wt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qo(0)}static kn(){return new Qo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.changes=new hl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&bc(r.mutation,s,Fn.empty(),St.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const s=aa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=Jl();return i.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=aa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,s){let i=Ds();const a=xc(),o=function(){return xc()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof qi)?i=i.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),bc(h.mutation,d,h.mutation.getFieldMask(),St.now())):a.set(d.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>{var f;return o.set(d,new gV(h,(f=a.get(d))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,n){const r=xc();let s=new ft((a,o)=>a-o),i=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||Fn.empty();h=o.applyToLocalView(d,h),r.set(l,h);const f=(s.get(o.batchId)||Oe()).add(l);s=s.insert(o.batchId,f)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),d=l.key,h=l.value,f=LI();h.forEach(p=>{if(!i.has(p)){const g=zI(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,f))}return q.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return de.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):q.resolve(aa());let o=-1,l=i;return a.next(d=>q.forEach(d,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(h)?q.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,Oe())).next(h=>({batchId:o,changes:MI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let s=Jl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Jl();return this.indexManager.getCollectionParents(e,i).next(o=>q.forEach(o,l=>{const d=function(f,p){return new dl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{a=a.insert(f,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((l,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,rn.newInvalidDocument(h)))});let o=Jl();return a.forEach((l,d)=>{const h=i.get(l);h!==void 0&&bc(h.mutation,d,Fn.empty(),St.now()),lm(n,d)&&(o=o.insert(l,d))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Kr(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:hV(s.bundledQuery),readTime:Kr(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.overlays=new ft(de.comparator),this.Ir=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=aa();return q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const s=aa(),i=n.length+1,a=new de(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ft((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=aa(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const o=aa(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>o.set(d,h)),!(o.size()>=s)););return q.resolve(o)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new BL(n,r));let i=this.Ir.get(n);i===void 0&&(i=Oe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.Tr=new Wt(Dt.Er),this.dr=new Wt(Dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Dt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new de(new it([])),r=new Dt(n,e),s=new Dt(n,e+1),i=[];return this.dr.forEachInRange([r,s],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new de(new it([])),r=new Dt(n,e),s=new Dt(n,e+1);let i=Oe();return this.dr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new Dt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return de.comparator(e.key,n.key)||ze(e.wr,n.wr)}static Ar(e,n){return ze(e.wr,n.wr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Wt(Dt.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new $L(i,n,r,s);this.mutationQueue.push(a);for(const o of s)this.br=this.br.add(new Dt(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return q.resolve(a)}lookupMutationBatch(e,n){return q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),s=new Dt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],a=>{const o=this.Dr(a.wr);i.push(o)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(ze);return n.forEach(s=>{const i=new Dt(s,0),a=new Dt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],o=>{r=r.add(o.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;de.isDocumentKey(i)||(i=i.child(""));const a=new Dt(new de(i),0);let o=new Wt(ze);return this.br.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(o=o.add(l.wr)),!0)},a),q.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(n.mutations,s=>{const i=new Dt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Dt(n,0),s=this.br.firstAfterOrEqual(r);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.Mr=e,this.docs=function(){return new ft(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=Ds();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():rn.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ds();const a=n.path,o=new de(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||sL(rL(h),r)<=0||(s.has(h.key)||lm(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){_e()}Or(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new EV(this)}getSize(e){return q.resolve(this.size)}}class EV extends pV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.persistence=e,this.Nr=new hl(n=>d0(n),h0),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Lr=0,this.Br=new y0,this.targetCount=0,this.kr=Qo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Qo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Kn(n),q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),q.waitFor(i).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new o0(0),this.Kr=!1,this.Kr=!0,this.$r=new wV,this.referenceDelegate=e(this),this.Ur=new TV(this),this.indexManager=new fV,this.remoteDocumentCache=function(s){return new bV(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new dV(n),this.Gr=new vV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _V,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new xV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const s=new IV(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class IV extends aL{constructor(e){super(),this.currentSequenceNumber=e}}class v0{constructor(e){this.persistence=e,this.Jr=new y0,this.Yr=null}static Zr(e){return new v0(e)}get Xr(){if(this.Yr)return this.Yr;throw _e()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const s=de.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,we.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return q.or([()=>q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Oe(),s=Oe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new _0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return hO()?8:oL(on())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new CV;return this.Xi(e,n,a).next(o=>{if(i.result=o,this.zi)return this.es(e,n,a,o.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Ul()<=De.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(Ul()<=De.DEBUG&&ae("QueryEngine","Query:",Qa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Ul()<=De.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gr(n))):q.resolve())}Yi(e,n){if(Sb(n))return q.resolve(null);let r=Gr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=cy(n,null,"F"),r=Gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=Oe(...i);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.ts(n,o);return this.ns(n,d,a,l.readTime)?this.Yi(e,cy(n,null,"F")):this.rs(e,d,n,l)}))})))}Zi(e,n,r,s){return Sb(n)||s.isEqual(we.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const a=this.ts(n,i);return this.ns(n,a,r,s)?q.resolve(null):(Ul()<=De.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qa(n)),this.rs(e,a,n,nL(s,-1)).next(o=>o))})}ts(e,n){let r=new Wt(OI(e));return n.forEach((s,i)=>{lm(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Ul()<=De.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ai.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new ft(ze),this._s=new hl(i=>d0(i),h0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function AV(t,e,n,r){return new kV(t,e,n,r)}async function nC(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],o=[];let l=Oe();for(const d of s){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:o}))})})}function RV(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,d,h){const f=d.batch,p=f.keys();let g=q.resolve();return p.forEach(_=>{g=g.next(()=>h.getEntry(l,_)).next(x=>{const b=d.docVersions.get(_);Ke(b!==null),x.version.compareTo(b)<0&&(f.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),h.addEntry(x)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Oe();for(let d=0;d<o.mutationResults.length;++d)o.mutationResults[d].transformResults.length>0&&(l=l.add(o.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function rC(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function PV(t,e){const n=xe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const o=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;o.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Gt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(x,b,T){return x.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,g,h)&&o.push(n.Ur.updateTargetData(i,g))});let l=Ds(),d=Oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),o.push(jV(i,a,e.documentUpdates).next(h=>{l=h.Ps,d=h.Is})),!r.isEqual(we.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));o.push(h)}return q.waitFor(o).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.os=s,i))}function jV(t,e,n){let r=Oe(),s=Oe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Ds();return n.forEach((o,l)=>{const d=i.get(o);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ae("LocalStore","Ignoring outdated watch update for ",o,". Current version:",d.version," Watch version:",l.version)}),{Ps:a,Is:s}})}function OV(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function DV(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,q.resolve(s)):n.Ur.allocateTargetId(r).next(a=>(s=new hi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function my(t,e,n){const r=xe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Pu(a))throw a;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Mb(t,e,n){const r=xe(t);let s=we.min(),i=Oe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,d,h){const f=xe(l),p=f._s.get(h);return p!==void 0?q.resolve(f.os.get(p)):f.Ur.getTargetData(d,h)}(r,a,Gr(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?s:we.min(),n?i:Oe())).next(o=>(MV(r,SL(e),o),{documents:o,Ts:i})))}function MV(t,e,n){let r=t.us.get(e)||we.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Lb{constructor(){this.activeTargetIds=RL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LV{constructor(){this.so=new Lb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Lb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd=null;function Cp(){return jd===null?jd=function(){return 268435456+Math.round(2147483648*Math.random())}():jd++,"0x"+jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class $V extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,a){const o=Cp(),l=this.xo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${o}:`,l,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,a),this.No(n,l,d,s).then(h=>(ae("RestConnection",`Received RPC '${n}' ${o}: `,h),h),h=>{throw Wo("RestConnection",`RPC '${n}' ${o} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,a,o){return this.Mo(n,r,s,i,a)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ul}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),s&&s.headers.forEach((i,a)=>n[a]=i)}xo(n,r){const s=FV[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Cp();return new Promise((a,o)=>{const l=new gI;l.setWithCredentials(!0),l.listenOnce(yI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case oh.NO_ERROR:const h=l.getResponseJson();ae(Zt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),a(h);break;case oh.TIMEOUT:ae(Zt,`RPC '${e}' ${i} timed out`),o(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const f=l.getStatus();if(ae(Zt,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const _=function(b){const T=b.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(T)>=0?T:B.UNKNOWN}(g.status);o(new te(_,g.message))}else o(new te(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new te(B.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ae(Zt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);ae(Zt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=Cp(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=wI(),o=_I(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ae(Zt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=a.createWebChannel(h,l);let p=!1,g=!1;const _=new UV({Io:b=>{g?ae(Zt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(p||(ae(Zt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),ae(Zt,`RPC '${e}' stream ${s} sending:`,b),f.send(b))},To:()=>f.close()}),x=(b,T,v)=>{b.listen(T,N=>{try{v(N)}catch(j){setTimeout(()=>{throw j},0)}})};return x(f,Xl.EventType.OPEN,()=>{g||(ae(Zt,`RPC '${e}' stream ${s} transport opened.`),_.yo())}),x(f,Xl.EventType.CLOSE,()=>{g||(g=!0,ae(Zt,`RPC '${e}' stream ${s} transport closed`),_.So())}),x(f,Xl.EventType.ERROR,b=>{g||(g=!0,Wo(Zt,`RPC '${e}' stream ${s} transport errored:`,b),_.So(new te(B.UNAVAILABLE,"The operation could not be completed")))}),x(f,Xl.EventType.MESSAGE,b=>{var T;if(!g){const v=b.data[0];Ke(!!v);const N=v,j=N.error||((T=N[0])===null||T===void 0?void 0:T.error);if(j){ae(Zt,`RPC '${e}' stream ${s} received error:`,j);const M=j.status;let V=function(E){const C=bt[E];if(C!==void 0)return HI(C)}(M),S=j.message;V===void 0&&(V=B.INTERNAL,S="Unknown error status: "+M+" with message "+j.message),g=!0,_.So(new te(V,S)),f.close()}else ae(Zt,`RPC '${e}' stream ${s} received:`,v),_.bo(v)}}),x(o,vI.STAT_EVENT,b=>{b.stat===ry.PROXY?ae(Zt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===ry.NOPROXY&&ae(Zt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function Np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t){return new XL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r,s,i,a,o,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new sC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Os(n.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new te(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BV extends iC{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=eV(this.serializer,e),r=function(i){if(!("targetChange"in i))return we.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?we.min():a.readTime?Kr(a.readTime):we.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=fy(this.serializer),n.addTarget=function(i,a){let o;const l=a.target;if(o=oy(l)?{documents:rV(i,l)}:{query:sV(i,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=QI(i,a.resumeToken);const d=uy(i,a.expectedCount);d!==null&&(o.expectedCount=d)}else if(a.snapshotVersion.compareTo(we.min())>0){o.readTime=af(i,a.snapshotVersion.toTimestamp());const d=uy(i,a.expectedCount);d!==null&&(o.expectedCount=d)}return o}(this.serializer,e);const r=aV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=fy(this.serializer),n.removeTarget=e,this.a_(n)}}class zV extends iC{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=nV(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=fy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,dy(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(B.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,dy(n,r),s,a,o,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(B.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class WV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Os(n),this.D_=!1):ae("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{r.enqueueAndForget(async()=>{Da(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const d=xe(l);d.L_.add(4),await Du(d),d.q_.set("Unknown"),d.L_.delete(4),await fm(d)}(this))})}),this.q_=new WV(r,s)}}async function fm(t){if(Da(t))for(const e of t.B_)await e(!0)}async function Du(t){for(const e of t.B_)await e(!1)}function aC(t,e){const n=xe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),E0(n)?b0(n):fl(n).r_()&&x0(n,e))}function w0(t,e){const n=xe(t),r=fl(n);n.N_.delete(e),r.r_()&&oC(n,e),n.N_.size===0&&(r.r_()?r.o_():Da(n)&&n.q_.set("Unknown"))}function x0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).A_(e)}function oC(t,e){t.Q_.xe(e),fl(t).R_(e)}function b0(t){t.Q_=new GL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.q_.v_()}function E0(t){return Da(t)&&!fl(t).n_()&&t.N_.size>0}function Da(t){return xe(t).L_.size===0}function lC(t){t.Q_=void 0}async function GV(t){t.q_.set("Online")}async function KV(t){t.N_.forEach((e,n)=>{x0(t,e)})}async function QV(t,e){lC(t),E0(t)?(t.q_.M_(e),b0(t)):t.q_.set("Unknown")}async function YV(t,e,n){if(t.q_.set("Online"),e instanceof KI&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const o of i.targetIds)s.N_.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.N_.delete(o),s.Q_.removeTarget(o))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await of(t,r)}else if(e instanceof uh?t.Q_.Ke(e):e instanceof GI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(we.min()))try{const r=await rC(t.localStore);n.compareTo(r)>=0&&await function(i,a){const o=i.Q_.rt(a);return o.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,d)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(Gt.EMPTY_BYTE_STRING,h.snapshotVersion)),oC(i,l);const f=new hi(h.target,l,d,h.sequenceNumber);x0(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await of(t,r)}}async function of(t,e,n){if(!Pu(e))throw e;t.L_.add(1),await Du(t),t.q_.set("Offline"),n||(n=()=>rC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await fm(t)})}function cC(t,e){return e().catch(n=>of(t,n,e))}async function mm(t){const e=xe(t),n=Pi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;XV(e);)try{const s=await OV(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,JV(e,s)}catch(s){await of(e,s)}uC(e)&&dC(e)}function XV(t){return Da(t)&&t.O_.length<10}function JV(t,e){t.O_.push(e);const n=Pi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function uC(t){return Da(t)&&!Pi(t).n_()&&t.O_.length>0}function dC(t){Pi(t).start()}async function ZV(t){Pi(t).p_()}async function eF(t){const e=Pi(t);for(const n of t.O_)e.m_(n.mutations)}async function tF(t,e,n){const r=t.O_.shift(),s=m0.from(r,e,n);await cC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await mm(t)}async function nF(t,e){e&&Pi(t).V_&&await async function(r,s){if(function(a){return qL(a)&&a!==B.ABORTED}(s.code)){const i=r.O_.shift();Pi(r).s_(),await cC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await mm(r)}}(t,e),uC(t)&&dC(t)}async function Fb(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=Da(n);n.L_.add(3),await Du(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await fm(n)}async function rF(t,e){const n=xe(t);e?(n.L_.delete(2),await fm(n)):e||(n.L_.add(2),await Du(n),n.q_.set("Unknown"))}function fl(t){return t.K_||(t.K_=function(n,r,s){const i=xe(n);return i.w_(),new BV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:GV.bind(null,t),Ro:KV.bind(null,t),mo:QV.bind(null,t),d_:YV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),E0(t)?b0(t):t.q_.set("Unknown")):(await t.K_.stop(),lC(t))})),t.K_}function Pi(t){return t.U_||(t.U_=function(n,r,s){const i=xe(n);return i.w_(),new zV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ZV.bind(null,t),mo:nF.bind(null,t),f_:eF.bind(null,t),g_:tF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await mm(t)):(await t.U_.stop(),t.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,o=new T0(e,n,a,s,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S0(t,e){if(Os("AsyncQueue",`${e}: ${t}`),Pu(t))return new te(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Jl(),this.sortedSet=new ft(this.comparator)}static emptySet(e){return new Io(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.W_=new ft(de.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):_e():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yo{constructor(e,n,r,s,i,a,o,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Yo(e,n,Io.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class iF{constructor(){this.queries=$b(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=xe(n),i=s.queries;s.queries=$b(),i.forEach((a,o)=>{for(const l of o.j_)l.onError(r)})})(this,new te(B.ABORTED,"Firestore shutting down"))}}function $b(){return new hl(t=>jI(t),om)}async function I0(t,e){const n=xe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new sF,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=S0(a,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(o)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&N0(n)}async function C0(t,e){const n=xe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aF(t,e){const n=xe(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const o of a.j_)o.X_(s)&&(r=!0);a.z_=s}}r&&N0(n)}function oF(t,e,n){const r=xe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function N0(t){t.Y_.forEach(e=>{e.next()})}var py,Bb;(Bb=py||(py={})).ea="default",Bb.Cache="cache";class k0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==py.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.key=e}}class fC{constructor(e){this.key=e}}class lF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=OI(e),this.Ra=new Io(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Ub,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=lm(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;p&&g?p.data.isEqual(g.data)?_!==x&&(r.track({type:3,doc:g}),b=!0):this.ga(p,g)||(r.track({type:2,doc:g}),b=!0,(l&&this.Aa(g,l)>0||d&&this.Aa(g,d)<0)&&(o=!0)):!p&&g?(r.track({type:0,doc:g}),b=!0):p&&!g&&(r.track({type:1,doc:p}),b=!0,(l||d)&&(o=!0)),b&&(g?(a=a.add(g),i=x?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:o,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,f)=>function(g,_){const x=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return x(g)-x(_)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const o=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,d=l!==this.Ea;return this.Ea=l,a.length!==0||d?{snapshot:new Yo(this.query,e.Ra,i,a,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ub,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new fC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new hC(r))}),n}ba(e){this.Ta=e.Ts,this.da=Oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Yo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class cF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uF{constructor(e){this.key=e,this.va=!1}}class dF{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new hl(o=>jI(o),om),this.Ma=new Map,this.xa=new Set,this.Oa=new ft(de.comparator),this.Na=new Map,this.La=new y0,this.Ba={},this.ka=new Map,this.qa=Qo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function hF(t,e,n=!0){const r=_C(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await mC(r,e,n,!0),s}async function fF(t,e){const n=_C(t);await mC(n,e,!0,!1)}async function mC(t,e,n,r){const s=await DV(t.localStore,Gr(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await mF(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&aC(t.remoteStore,s),o}async function mF(t,e,n,r,s){t.Ka=(f,p,g)=>async function(x,b,T,v){let N=b.view.ma(T);N.ns&&(N=await Mb(x.localStore,b.query,!1).then(({documents:S})=>b.view.ma(S,N)));const j=v&&v.targetChanges.get(b.targetId),M=v&&v.targetMismatches.get(b.targetId)!=null,V=b.view.applyChanges(N,x.isPrimaryClient,j,M);return qb(x,b.targetId,V.wa),V.snapshot}(t,f,p,g);const i=await Mb(t.localStore,e,!0),a=new lF(e,i.Ts),o=a.ma(i.documents),l=Ou.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(o,t.isPrimaryClient,l);qb(t,n,d.wa);const h=new cF(e,n,a);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function pF(t,e,n){const r=xe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(a=>!om(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await my(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&w0(r.remoteStore,s.targetId),gy(r,s.targetId)}).catch(Ru)):(gy(r,s.targetId),await my(r.localStore,s.targetId,!0))}async function gF(t,e){const n=xe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),w0(n.remoteStore,r.targetId))}async function yF(t,e,n){const r=TF(t);try{const s=await function(a,o){const l=xe(a),d=St.now(),h=o.reduce((g,_)=>g.add(_.key),Oe());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Ds(),x=Oe();return l.cs.getEntries(g,h).next(b=>{_=b,_.forEach((T,v)=>{v.isValidDocument()||(x=x.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(b=>{f=b;const T=[];for(const v of o){const N=FL(v,f.get(v.key).overlayedDocument);N!=null&&T.push(new qi(v.key,N,SI(N.value.mapValue),wr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,d,T,o)}).next(b=>{p=b;const T=b.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(g,b.batchId,T)})}).then(()=>({batchId:p.batchId,changes:MI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let d=a.Ba[a.currentUser.toKey()];d||(d=new ft(ze)),d=d.insert(o,l),a.Ba[a.currentUser.toKey()]=d}(r,s.batchId,n),await Mu(r,s.changes),await mm(r.remoteStore)}catch(s){const i=S0(s,"Failed to persist write");n.reject(i)}}async function pC(t,e){const n=xe(t);try{const r=await PV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Na.get(i);a&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?Ke(a.va):s.removedDocuments.size>0&&(Ke(a.va),a.va=!1))}),await Mu(n,r,e)}catch(r){await Ru(r)}}function zb(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,a)=>{const o=a.view.Z_(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=xe(a);l.onlineState=o;let d=!1;l.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(o)&&(d=!0)}),d&&N0(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vF(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let a=new ft(de.comparator);a=a.insert(i,rn.newNoDocument(i,we.min()));const o=Oe().add(i),l=new dm(we.min(),new Map,new ft(ze),a,o);await pC(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),A0(r)}else await my(r.localStore,e,!1).then(()=>gy(r,e,n)).catch(Ru)}async function _F(t,e){const n=xe(t),r=e.batch.batchId;try{const s=await RV(n.localStore,e);yC(n,r,null),gC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mu(n,s)}catch(s){await Ru(s)}}async function wF(t,e,n){const r=xe(t);try{const s=await function(a,o){const l=xe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,o).next(f=>(Ke(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);yC(r,e,n),gC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mu(r,s)}catch(s){await Ru(s)}}function gC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function yC(t,e,n){const r=xe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function gy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||vC(t,r)})}function vC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(w0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),A0(t))}function qb(t,e,n){for(const r of n)r instanceof hC?(t.La.addReference(r.key,e),xF(t,r)):r instanceof fC?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||vC(t,r.key)):_e()}function xF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.xa.add(r),A0(t))}function A0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new de(it.fromString(e)),r=t.qa.next();t.Na.set(r,new uF(n)),t.Oa=t.Oa.insert(n,r),aC(t.remoteStore,new hi(Gr(am(n.path)),r,"TargetPurposeLimboResolution",o0.oe))}}async function Mu(t,e,n){const r=xe(t),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{a.push(r.Ka(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=_0.Wi(l.targetId,d);i.push(f)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(l,d){const h=xe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(d,p=>q.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>q.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Pu(f))throw f;ae("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const g=h.os.get(p),_=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(_);h.os=h.os.insert(p,x)}}}(r.localStore,i))}async function bF(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await nC(n.localStore,e);n.currentUser=e,function(i,a){i.ka.forEach(o=>{o.forEach(l=>{l.reject(new te(B.CANCELLED,a))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mu(n,r.hs)}}function EF(t,e){const n=xe(t),r=n.Na.get(e);if(r&&r.va)return Oe().add(r.key);{let s=Oe();const i=n.Ma.get(e);if(!i)return s;for(const a of i){const o=n.Fa.get(a);s=s.unionWith(o.view.Va)}return s}}function _C(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vF.bind(null,e),e.Ca.d_=aF.bind(null,e.eventManager),e.Ca.$a=oF.bind(null,e.eventManager),e}function TF(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_F.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wF.bind(null,e),e}class lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return AV(this.persistence,new NV,e.initialUser,this.serializer)}Ga(e){return new SV(v0.Zr,this.serializer)}Wa(e){return new LV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lf.provider={build:()=>new lf};class yy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bF.bind(null,this.syncEngine),await rF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iF}()}createDatastore(e){const n=hm(e.databaseInfo.databaseId),r=function(i){return new $V(i)}(e.databaseInfo);return function(i,a,o,l){return new qV(i,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,o){return new HV(r,s,i,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>zb(this.syncEngine,n,0),function(){return Vb.D()?new Vb:new VV}())}createSyncEngine(e,n){return function(s,i,a,o,l,d,h){const f=new dF(s,i,a,o,l,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=xe(s);ae("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Du(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yy.provider={build:()=>new yy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=tn.UNAUTHENTICATED,this.clientId=bI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{ae("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ae("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=S0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kp(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await nC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Wb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IF(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Fb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Fb(e.remoteStore,s)),t._onlineComponents=e}async function IF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await kp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Wo("Error using user provided cache. Falling back to memory cache: "+n),await kp(t,new lf)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await kp(t,new lf);return t._offlineComponents}async function wC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await Wb(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await Wb(t,new yy))),t._onlineComponents}function CF(t){return wC(t).then(e=>e.syncEngine)}async function cf(t){const e=await wC(t),n=e.eventManager;return n.onListen=hF.bind(null,e.syncEngine),n.onUnlisten=pF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gF.bind(null,e.syncEngine),n}function NF(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,d){const h=new R0({next:p=>{h.Za(),a.enqueueAndForget(()=>C0(i,f));const g=p.docs.has(o);!g&&p.fromCache?d.reject(new te(B.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?d.reject(new te(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new k0(am(o.path),h,{includeMetadataChanges:!0,_a:!0});return I0(i,f)}(await cf(t),t.asyncQueue,e,n,r)),r.promise}function kF(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,d){const h=new R0({next:p=>{h.Za(),a.enqueueAndForget(()=>C0(i,f)),p.fromCache&&l.source==="server"?d.reject(new te(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new k0(o,h,{includeMetadataChanges:!0,_a:!0});return I0(i,f)}(await cf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t,e,n){if(!n)throw new te(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AF(t,e,n,r){if(e===!0&&r===!0)throw new te(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Gb(t){if(!de.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Kb(t){if(de.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pm(t);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new G4;switch(r.type){case"firstParty":return new X4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Hb.get(n);r&&(ae("ComponentProvider","Removing Datastore"),Hb.delete(n),r.terminate())}(this),Promise.resolve()}}function RF(t,e,n,r={}){var s;const i=(t=Bn(t,gm))._getSettings(),a=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=tn.MOCK_USER;else{o=kS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new tn(d)}t._authCredentials=new K4(new xI(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class Ii extends Wi{constructor(e,n,r){super(e,n,am(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new de(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function Xr(t,e,...n){if(t=It(t),bC("collection","path",e),t instanceof gm){const r=it.fromString(e,...n);return Kb(r),new Ii(t,null,r)}{if(!(t instanceof sn||t instanceof Ii))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return Kb(r),new Ii(t.firestore,null,r)}}function qe(t,e,...n){if(t=It(t),arguments.length===1&&(e=bI.newId()),bC("doc","path",e),t instanceof gm){const r=it.fromString(e,...n);return Gb(r),new sn(t,null,new de(r))}{if(!(t instanceof sn||t instanceof Ii))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return Gb(r),new sn(t.firestore,t instanceof Ii?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new sC(this,"async_queue_retry"),this.Vu=()=>{const r=Np();r&&ae("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Np();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Np();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Is;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Pu(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw Os("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=T0.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&_e()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Xb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ji extends gm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Yb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yb(e),this._firestoreClient=void 0,await e}}}function EC(t,e){const n=typeof t=="object"?t:Yv(),r=typeof t=="string"?t:"(default)",s=tm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=IS("firestore");i&&RF(s,...i)}return s}function ym(t){if(t._terminated)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PF(t),t._firestoreClient}function PF(t){var e,n,r;const s=t._freezeSettings(),i=function(o,l,d,h){return new uL(o,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,xC(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new SF(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(Gt.fromBase64String(e))}catch(n){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xo(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=/^__.*__$/;class OF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}class TC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class O0{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new O0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return uf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(SC(this.Cu)&&jF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class DF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hm(e)}Qu(e,n,r,s=!1){return new O0({Cu:e,methodName:n,qu:r,path:zt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wm(t){const e=t._freezeSettings(),n=hm(t._databaseId);return new DF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IC(t,e,n,r,s,i={}){const a=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);M0("Data must be an object, but it was:",a,r);const o=CC(r,a);let l,d;if(i.merge)l=new Fn(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=vy(e,f,n);if(!a.contains(p))throw new te(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);kC(h,p)||h.push(p)}l=new Fn(h),d=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=a.fieldTransforms;return new OF(new bn(o),l,d)}class xm extends _m{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xm}}class D0 extends _m{_toFieldTransform(e){return new DL(e.path,new Zc)}isEqual(e){return e instanceof D0}}function MF(t,e,n,r){const s=t.Qu(1,e,n);M0("Data must be an object, but it was:",s,r);const i=[],a=bn.empty();Oa(r,(l,d)=>{const h=L0(e,l,n);d=It(d);const f=s.Nu(h);if(d instanceof xm)i.push(h);else{const p=Lu(d,f);p!=null&&(i.push(h),a.set(h,p))}});const o=new Fn(i);return new TC(a,o,s.fieldTransforms)}function LF(t,e,n,r,s,i){const a=t.Qu(1,e,n),o=[vy(e,r,n)],l=[s];if(i.length%2!=0)throw new te(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)o.push(vy(e,i[p])),l.push(i[p+1]);const d=[],h=bn.empty();for(let p=o.length-1;p>=0;--p)if(!kC(d,o[p])){const g=o[p];let _=l[p];_=It(_);const x=a.Nu(g);if(_ instanceof xm)d.push(g);else{const b=Lu(_,x);b!=null&&(d.push(g),h.set(g,b))}}const f=new Fn(d);return new TC(h,f,a.fieldTransforms)}function VF(t,e,n,r=!1){return Lu(n,t.Qu(r?4:3,e))}function Lu(t,e){if(NC(t=It(t)))return M0("Unsupported field value:",e,t),CC(t,e);if(t instanceof _m)return function(r,s){if(!SC(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const o of r){let l=Lu(o,s.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=St.fromDate(r);return{timestampValue:af(s.serializer,i)}}if(r instanceof St){const i=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:af(s.serializer,i)}}if(r instanceof P0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xo)return{bytesValue:QI(s.serializer,r._byteString)};if(r instanceof sn){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:g0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof j0)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return f0(o.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${pm(r)}`)}(t,e)}function CC(t,e){const n={};return EI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(t,(r,s)=>{const i=Lu(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function NC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof P0||t instanceof Xo||t instanceof sn||t instanceof _m||t instanceof j0)}function M0(t,e,n){if(!NC(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=pm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function vy(t,e,n){if((e=It(e))instanceof vm)return e._internalPath;if(typeof e=="string")return L0(t,e);throw uf("Field path arguments must be of type string or ",t,!1,void 0,n)}const FF=new RegExp("[~\\*/\\[\\]]");function L0(t,e,n){if(e.search(FF)>=0)throw uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vm(...e.split("."))._internalPath}catch{throw uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uf(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new te(B.INVALID_ARGUMENT,o+t+l)}function kC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UF extends AC{data(){return super.data()}}function bm(t,e){return typeof e=="string"?L0(t,e):e instanceof vm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V0{}class PC extends V0{}function Un(t,e,...n){let r=[];e instanceof V0&&r.push(e),r=r.concat(n),function(i){const a=i.filter(l=>l instanceof F0).length,o=i.filter(l=>l instanceof Em).length;if(a>1||a>0&&o>0)throw new te(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Em extends PC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Em(e,n,r)}_apply(e){const n=this._parse(e);return jC(e._query,n),new Wi(e.firestore,e.converter,ly(e._query,n))}_parse(e){const n=wm(e.firestore);return function(i,a,o,l,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new te(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Zb(f,h);const g=[];for(const _ of f)g.push(Jb(l,i,_));p={arrayValue:{values:g}}}else p=Jb(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Zb(f,h),p=VF(o,a,f,h==="in"||h==="not-in");return Tt.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function er(t,e,n){const r=e,s=bm("where",t);return Em._create(s,r,n)}class F0 extends V0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new F0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const o=i.getFlattenedFilters();for(const l of o)jC(a,l),a=ly(a,l)}(e._query,n),new Wi(e.firestore,e.converter,ly(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class U0 extends PC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new U0(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jc(i,a)}(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new dl(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Ap(t,e="asc"){const n=e,r=bm("orderBy",t);return U0._create(r,n)}function Jb(t,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new te(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PI(e)&&n.indexOf("/")!==-1)throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!de.isDocumentKey(r))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _b(t,new de(r))}if(n instanceof sn)return _b(t,n._key);throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pm(n)}.`)}function Zb(t,e){if(!Array.isArray(t)||t.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jC(t,e){const n=function(s,i){for(const a of s)for(const o of a.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $F{convertValue(e,n="none"){switch(Sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oa(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>vt(a.doubleValue));return new j0(i)}convertGeoPoint(e){return new P0(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=c0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ke(tC(r));const s=new Yc(r.get(1),r.get(3)),i=new de(r.popFirst(5));return s.isEqual(n)||Os(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DC extends AC{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dh extends DC{data(e={}){return super.data(e)}}class MC{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ec(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dh(this._firestore,this._userDataWriter,r.key,r,new ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new dh(s._firestore,s._userDataWriter,o.doc.key,o.doc,new ec(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new dh(s._firestore,s._userDataWriter,o.doc.key,o.doc,new ec(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return o.type!==0&&(d=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:BF(o.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t){t=Bn(t,sn);const e=Bn(t.firestore,ji);return NF(ym(e),t._key).then(n=>LC(e,t,n))}class $0 extends $F{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function fi(t){t=Bn(t,Wi);const e=Bn(t.firestore,ji),n=ym(e),r=new $0(e);return RC(t._query),kF(n,t._query).then(s=>new MC(e,r,t,s))}function Oi(t,e,n){t=Bn(t,sn);const r=Bn(t.firestore,ji),s=OC(t.converter,e,n);return B0(r,[IC(wm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,wr.none())])}function Bt(t,e,n,...r){t=Bn(t,sn);const s=Bn(t.firestore,ji),i=wm(s);let a;return a=typeof(e=It(e))=="string"||e instanceof vm?LF(i,"updateDoc",t._key,e,n,r):MF(i,"updateDoc",t._key,e),B0(s,[a.toMutation(t._key,wr.exists(!0))])}function Co(t,e){const n=Bn(t.firestore,ji),r=qe(t),s=OC(t.converter,e);return B0(n,[IC(wm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,wr.exists(!1))]).then(()=>r)}function zF(t,...e){var n,r,s;t=It(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Xb(e[a])||(i=e[a],a++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Xb(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,d,h;if(t instanceof sn)d=Bn(t.firestore,ji),h=am(t._key.path),l={next:f=>{e[a]&&e[a](LC(d,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Bn(t,Wi);d=Bn(f.firestore,ji),h=f._query;const p=new $0(d);l={next:g=>{e[a]&&e[a](new MC(d,p,f,g))},error:e[a+1],complete:e[a+2]},RC(t._query)}return function(p,g,_,x){const b=new R0(x),T=new k0(g,b,_);return p.asyncQueue.enqueueAndForget(async()=>I0(await cf(p),T)),()=>{b.Za(),p.asyncQueue.enqueueAndForget(async()=>C0(await cf(p),T))}}(ym(d),h,o,l)}function B0(t,e){return function(r,s){const i=new Is;return r.asyncQueue.enqueueAndForget(async()=>yF(await CF(r),s,i)),i.promise}(ym(t),e)}function LC(t,e,n){const r=n.docs.get(e._key),s=new $0(t);return new DC(t,s,e._key,r,new ec(n.hasPendingWrites,n.fromCache),e.converter)}function Ot(){return new D0("serverTimestamp")}(function(e,n=!0){(function(s){ul=s})(ja),wa(new ki("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),o=new ji(new Q4(r.getProvider("auth-internal")),new Z4(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(d.options.projectId,h)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),qr(mb,"4.7.3",e),qr(mb,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="firebasestorage.googleapis.com",qF="storageBucket",WF=2*60*1e3,HF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends rs{constructor(e,n,r=0){super(Rp(e),`Firebase Storage: ${n} (${Rp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,is.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jr||(Jr={}));function Rp(t){return"storage/"+t}function GF(){const t="An unknown error occurred, please check the error payload for server response.";return new is(Jr.UNKNOWN,t)}function KF(){return new is(Jr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QF(){return new is(Jr.CANCELED,"User canceled the upload/download.")}function YF(t){return new is(Jr.INVALID_URL,"Invalid URL '"+t+"'.")}function XF(t){return new is(Jr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eE(t){return new is(Jr.INVALID_ARGUMENT,t)}function FC(){return new is(Jr.APP_DELETED,"The Firebase app was deleted.")}function JF(t){return new is(Jr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=mr.makeFromUrl(e,n)}catch{return new mr(e,"")}if(r.path==="")return r;throw XF(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+s+a,"i"),l={bucket:1,path:3};function d(j){j.path_=decodeURIComponent(j.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),_={bucket:1,path:3},x=n===VC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",T=new RegExp(`^https?://${x}/${s}/${b}`,"i"),N=[{regex:o,indices:l,postModify:i},{regex:g,indices:_,postModify:d},{regex:T,indices:{bucket:1,path:2},postModify:d}];for(let j=0;j<N.length;j++){const M=N[j],V=M.regex.exec(e);if(V){const S=V[M.indices.bucket];let w=V[M.indices.path];w||(w=""),r=new mr(S,w),M.postModify(r);break}}if(r==null)throw YF(e);return r}}class ZF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t,e,n){let r=1,s=null,i=null,a=!1,o=0;function l(){return o===2}let d=!1;function h(...b){d||(d=!0,e.apply(null,b))}function f(b){s=setTimeout(()=>{s=null,t(g,l())},b)}function p(){i&&clearTimeout(i)}function g(b,...T){if(d){p();return}if(b){p(),h.call(null,b,...T);return}if(l()||a){p(),h.call(null,b,...T);return}r<64&&(r*=2);let N;o===1?(o=2,N=0):N=(r+Math.random())*1e3,f(N)}let _=!1;function x(b){_||(_=!0,p(),!d&&(s!==null?(b||(o=2),clearTimeout(s),f(0)):b||(o=1)))}return f(0),i=setTimeout(()=>{a=!0,x(!0)},n),x}function t6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t){return t!==void 0}function tE(t,e,n,r){if(r<e)throw eE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw eE(`Invalid value for '${t}'. Expected ${n} or less.`)}function r6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var df;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(df||(df={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n,r,s,i,a,o,l,d,h,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Od(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=o=>{const l=o.loaded,d=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const o=i.getErrorCode()===df.NO_ERROR,l=i.getStatus();if(!o||s6(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===df.ABORT;r(!1,new Od(!1,null,h));return}const d=this.successCodes_.indexOf(l)!==-1;r(!0,new Od(d,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,o=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());n6(l)?i(l):i()}catch(l){a(l)}else if(o!==null){const l=GF();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(s.canceled){const l=this.appDelete_?FC():QF();a(l)}else{const l=KF();a(l)}};this.canceled_?n(!1,new Od(!1,null,!0)):this.backoffId_=e6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&t6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Od{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function a6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function o6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function l6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function c6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function u6(t,e,n,r,s,i,a=!0){const o=r6(t.urlParams),l=t.url+o,d=Object.assign({},t.headers);return l6(d,e),a6(d,n),o6(d,i),c6(d,r),new i6(l,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function h6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this._service=e,n instanceof mr?this._location=n:this._location=mr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new hf(e,n)}get root(){const e=new mr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h6(this._location.path)}get storage(){return this._service}get parent(){const e=d6(this._location.path);if(e===null)return null;const n=new mr(this._location.bucket,e);return new hf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw JF(e)}}function nE(t,e){const n=e==null?void 0:e[qF];return n==null?null:mr.makeFromBucketSpec(n,t)}function f6(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:kS(s,t.app.options.projectId))}class m6{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=VC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WF,this._maxUploadRetryTime=HF,this._requests=new Set,s!=null?this._bucket=mr.makeFromBucketSpec(s,this._host):this._bucket=nE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mr.makeFromBucketSpec(this._url,e):this._bucket=nE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hf(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new ZF(FC());{const a=u6(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const rE="@firebase/storage",sE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="storage";function $C(t=Yv(),e){t=It(t);const r=tm(t,UC).getImmediate({identifier:e}),s=IS("storage");return s&&p6(r,...s),r}function p6(t,e,n,r={}){f6(t,e,n,r)}function g6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new m6(n,r,s,e,ja)}function y6(){wa(new ki(UC,g6,"PUBLIC").setMultipleInstances(!0)),qr(rE,sE,""),qr(rE,sE,"esm2017")}y6();const v6={apiKey:"AIzaSyBEJt_Z8mggU_ckUCpQjK3-3ArlrBmvPHc",authDomain:"ambiente-python-431822.firebaseapp.com",projectId:"ambiente-python-431822",storageBucket:"ambiente-python-431822.firebasestorage.app",messagingSenderId:"952921538910",appId:"1:952921538910:web:e3080bad1df2dc94e80fcf",measurementId:"G-8TV19DH24E"},z0=Qv(v6),Vu=mI(z0),We=EC(z0);$C(z0);const Fu=t=>{switch(t){case"auth/email-already-in-use":return"Este e-mail já está em uso";case"auth/invalid-credential":return"E-mail ou senha incorretos";case"auth/weak-password":return"A senha deve ter pelo menos 6 caracteres";case"auth/invalid-email":return"E-mail inválido";case"auth/operation-not-allowed":return"O método de autenticação não está habilitado";case"auth/user-disabled":return"Esta conta foi desativada";case"auth/user-not-found":return"Usuário não encontrado";case"auth/wrong-password":return"Senha incorreta";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente mais tarde";default:return"Ocorreu um erro. Tente novamente"}},_6=async(t,e,n)=>{try{const r=await kM(Vu,t,e),{user:s}=r;return await PM(s,{displayName:n.name}),await Oi(qe(We,"users",s.uid),{name:n.name,email:s.email,role:n.role,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),n.role==="caregiver"&&await Oi(qe(We,"cuidadores",s.uid),{name:n.name,email:s.email,userId:s.uid,profileComplete:!1,disponivel:!0,avaliacao:0,numeroAvaliacoes:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),r}catch(r){throw console.error("Error in signUp:",r),{code:r.code,message:Fu(r.code)}}},w6=async(t,e)=>{try{return await AM(Vu,t,e)}catch(n){throw console.error("Error in signIn:",n),{code:n.code,message:Fu(n.code)}}},x6=async()=>{try{await DM(Vu)}catch(t){throw console.error("Error in logout:",t),{code:t.code,message:Fu(t.code)}}},b6=async t=>{try{await NM(Vu,t)}catch(e){throw console.error("Error in resetPassword:",e),{code:e.code,message:Fu(e.code)}}};function E6(){const[t,e]=P.useState(null),[n,r]=P.useState(!0);P.useEffect(()=>Vu.onAuthStateChanged(a=>{e(a),r(!1)}),[]);const s=async(i,a)=>{try{switch(r(!0),i){case"signin":a!=null&&a.email&&a.password&&(await w6(a.email,a.password),ee.success("Login realizado com sucesso!"));break;case"signup":a!=null&&a.email&&a.password&&a.userData&&(await _6(a.email,a.password,a.userData),ee.success("Conta criada com sucesso!"));break;case"logout":await x6(),ee.success("Logout realizado com sucesso!");break;case"reset":a!=null&&a.email&&(await b6(a.email),ee.success("Email de recuperação enviado!"));break}}catch(o){const l=o instanceof Error?o.message:Fu(o.code);throw ee.error(l),o}finally{r(!1)}};return{user:t,loading:n,signIn:(i,a)=>s("signin",{email:i,password:a}),signUp:(i,a,o)=>s("signup",{email:i,password:a,userData:o}),logout:()=>s("logout"),resetPassword:i=>s("reset",{email:i})}}const BC=P.createContext(void 0),T6=({children:t})=>{const e=E6();return c.jsx(BC.Provider,{value:e,children:e.loading?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):t})},Gn=()=>{const t=P.useContext(BC);if(t===void 0)throw new Error("useAuthContext must be used within an AuthProvider");return t};class Pp{static async getUserNotifications(e){try{const n=Xr(We,"notifications"),r=Un(n,er("userId","==",e),er("read","==",!1));return(await fi(r)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){return console.error("Error fetching notifications:",n),[]}}static async markAsRead(e){try{const n=qe(We,"notifications",e);await Bt(n,{read:!0})}catch(n){throw console.error("Error marking notification as read:",n),n}}static showToast(e){ee(e.title,{description:e.message,duration:5e3})}static async sendEmailNotification(e,n){try{return console.log(`Email notification sent to ${e}`,n),await new Promise(r=>setTimeout(r,1e3)),!0}catch(r){return console.error("Error sending email notification:",r),!1}}static async sendPushNotification(e,n,r){try{return console.log(`Push notification sent to ${e}:`,{title:n,message:r}),ee(n,{description:r,duration:5e3}),!0}catch(s){return console.error("Error sending push notification:",s),!1}}static async notifyNewRequest(e,n){const r="Nova Solicitação de Atendimento",s=`
      Você recebeu uma nova solicitação de atendimento para ${new Date(e.date).toLocaleDateString()} às ${e.startTime}.
      Duração: ${e.duration}h
      Especialidade: ${e.specialtyRequired}
    `;await Promise.all([this.sendEmailNotification(n.email,e),this.sendPushNotification(n.userId,r,s)])}static async notifyRequestAccepted(e,n){const r="Solicitação Aceita",s=`
      Sua solicitação de atendimento para ${new Date(e.date).toLocaleDateString()} às ${e.startTime} foi aceita.
      Duração: ${e.duration}h
      Valor Total: R$ ${e.totalAmount.toFixed(2)}
    `;await Promise.all([this.sendEmailNotification(n.email,e),this.sendPushNotification(n.userId,r,s)])}static async notifyRequestRejected(e,n){const r="Solicitação Recusada",s=`
      Infelizmente, sua solicitação de atendimento para ${new Date(e.date).toLocaleDateString()} às ${e.startTime} foi recusada.
      Por favor, tente outro cuidador disponível.
    `;await Promise.all([this.sendEmailNotification(n.email,e),this.sendPushNotification(n.userId,r,s)])}static async notifyServiceCompleted(e,n){const r="Atendimento Concluído",s=`
      O atendimento do dia ${new Date(e.date).toLocaleDateString()} às ${e.startTime} foi concluído.
      Por favor, avalie o serviço prestado.
    `;await Promise.all([this.sendEmailNotification(n.email,e),this.sendPushNotification(n.userId,r,s)])}static async notifyPaymentConfirmed(e,n){const r="Pagamento Confirmado",s=`
      O pagamento do atendimento do dia ${new Date(e.date).toLocaleDateString()} foi confirmado.
      Valor: R$ ${e.totalAmount.toFixed(2)}
    `;await Promise.all([this.sendEmailNotification(n.email,e),this.sendPushNotification(n.userId,r,s)])}}function S6(){const{user:t}=Gn(),[e,n]=F.useState([]),[r,s]=F.useState(!1);F.useEffect(()=>{if(!t)return;(async()=>{try{const h=await Pp.getUserNotifications(t.uid);n(h)}catch(h){console.error("Error loading notifications:",h)}})();const o=Xr(We,"notifications"),l=Un(o,er("userId","==",t.uid),er("read","==",!1)),d=zF(l,h=>{const f=h.docs.map(p=>({id:p.id,...p.data()}));n(f),h.docChanges().forEach(p=>{p.type==="added"&&Pp.showToast({id:p.doc.id,...p.doc.data()})})});return()=>d()},[t]);const i=async a=>{try{await Pp.markAsRead(a),n(o=>o.filter(l=>l.id!==a))}catch(o){console.error("Error marking notification as read:",o)}};return c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>s(!r),className:"relative p-2 rounded-full text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx(vS,{className:"h-6 w-6"}),e.length>0&&c.jsx("span",{className:"absolute -top-1 -right-1 block h-4 w-4 rounded-full bg-red-500 text-xs text-white flex items-center justify-center",children:e.length})]}),r&&c.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg py-1 z-50",children:[c.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:c.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notificações"})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.length===0?c.jsx("div",{className:"px-4 py-6 text-center text-gray-500",children:"Nenhuma notificação"}):e.map(a=>c.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.title}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.message}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(a.createdAt).toLocaleString()})]}),c.jsx("button",{onClick:()=>a.id&&i(a.id),className:"text-xs text-indigo-600 hover:text-indigo-900",children:"Marcar como lida"})]})},a.id))})]})]})}function I6(){const t=ns();Pa();const{user:e,logout:n}=Gn(),[r,s]=F.useState(!1),i=async()=>{try{await n(),t("/"),ee.success("Logout realizado com sucesso!")}catch{ee.error("Erro ao fazer logout")}};return c.jsxs("nav",{className:"bg-white shadow-lg relative",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsxs(or,{to:"/",className:"flex items-center",children:[c.jsx(Eu,{className:"h-8 w-8 text-indigo-600"}),c.jsx("span",{className:"ml-2 text-2xl font-bold text-indigo-600",children:"CareConnect"})]})}),c.jsxs("div",{className:"hidden md:flex md:items-center md:space-x-8",children:[c.jsx(or,{to:"/search",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Buscar Cuidadores"}),c.jsx(or,{to:"/how-it-works",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Como Funciona"}),c.jsx(or,{to:"/pricing",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Preços"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[e?c.jsxs(c.Fragment,{children:[c.jsx(S6,{}),c.jsx("div",{className:"relative",children:c.jsx("button",{onClick:()=>t("/dashboard"),className:"p-2 rounded-full text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:e.photoURL?c.jsx("img",{src:e.photoURL,alt:"Profile",className:"h-8 w-8 rounded-full"}):c.jsx(Jf,{className:"h-6 w-6"})})}),c.jsx("button",{onClick:i,className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Sair"})]}):c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(or,{to:"/login",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Entrar"}),c.jsx(or,{to:"/register",className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700",children:"Cadastrar"})]}),c.jsx("button",{onClick:()=>s(!r),className:"md:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:r?c.jsx(Tu,{className:"h-6 w-6"}):c.jsx(Gj,{className:"h-6 w-6"})})]})]})}),r&&c.jsx("div",{className:"md:hidden",children:c.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[c.jsx(or,{to:"/search",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50",children:"Buscar Cuidadores"}),c.jsx(or,{to:"/how-it-works",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50",children:"Como Funciona"}),c.jsx(or,{to:"/pricing",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50",children:"Preços"})]})})]})}function C6({openAssistant:t}){const e=ns(),n=()=>{e("/register")};return c.jsxs("div",{className:"w-full",children:[c.jsx("section",{className:"relative h-screen bg-cover bg-center flex items-center",style:{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url("https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?auto=format&fit=crop&w=1920&q=80")'},children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[c.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:"Cuidado e Atenção para Quem Você Ama"}),c.jsx("p",{className:"text-xl md:text-2xl mb-12 opacity-90",children:"Encontre cuidadores profissionais qualificados para proporcionar o melhor atendimento"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs("button",{onClick:n,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-full text-lg font-semibold transition-all transform hover:scale-105 flex items-center justify-center gap-2",children:["Começar Agora",c.jsx(Mj,{className:"w-5 h-5"})]}),c.jsx("button",{onClick:t,className:"bg-white hover:bg-gray-100 text-gray-900 px-8 py-4 rounded-full text-lg font-semibold transition-all transform hover:scale-105",children:"Falar com Assistente"})]})]})})}),c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsx("h2",{className:"text-4xl font-bold text-center mb-16 text-gray-900",children:"Por que escolher nossa plataforma?"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:c.jsx(wS,{className:"w-12 h-12 text-blue-600"}),title:"Profissionais Verificados",description:"Todos os cuidadores passam por uma rigorosa verificação de antecedentes e qualificações."},{icon:c.jsx(Wc,{className:"w-12 h-12 text-blue-600"}),title:"Agendamento Flexível",description:"Escolha os horários que melhor se adequam às suas necessidades, com disponibilidade 24/7."},{icon:c.jsx(Yf,{className:"w-12 h-12 text-blue-600"}),title:"Qualidade Garantida",description:"Sistema de avaliação e feedback para garantir sempre o melhor atendimento."}].map((r,s)=>c.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"mb-6",children:r.icon}),c.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-900",children:r.title}),c.jsx("p",{className:"text-gray-600",children:r.description})]},s))})]})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsx("h2",{className:"text-4xl font-bold text-center mb-16 text-gray-900",children:"Como Funciona"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{icon:c.jsx(Zf,{className:"w-10 h-10 text-blue-600"}),title:"Cadastre-se",description:"Crie sua conta gratuitamente em poucos minutos"},{icon:c.jsx(Eu,{className:"w-10 h-10 text-blue-600"}),title:"Escolha o Cuidador",description:"Encontre o profissional ideal para suas necessidades"},{icon:c.jsx(Wc,{className:"w-10 h-10 text-blue-600"}),title:"Agende",description:"Marque os horários de atendimento desejados"},{icon:c.jsx(Hv,{className:"w-10 h-10 text-blue-600"}),title:"Receba o Cuidado",description:"Aproveite um atendimento profissional e seguro"}].map((r,s)=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:r.icon}),c.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900",children:r.title}),c.jsx("p",{className:"text-gray-600",children:r.description})]},s))})]})}),c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsx("h2",{className:"text-4xl font-bold text-center mb-16 text-gray-900",children:"Depoimentos"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Maria Silva",role:"Familiar de Paciente",content:"Excelente plataforma! Encontrei uma cuidadora maravilhosa para minha mãe. O processo foi muito simples e seguro."},{name:"João Santos",role:"Paciente",content:"Os profissionais são muito bem preparados e atenciosos. Recomendo a todos que precisam de cuidados especializados."},{name:"Ana Oliveira",role:"Familiar de Paciente",content:"A facilidade de encontrar e agendar cuidadores qualificados fez toda diferença no cuidado do meu pai."}].map((r,s)=>c.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:[c.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((i,a)=>c.jsx(ll,{className:"w-5 h-5 text-yellow-400 fill-current"},a))}),c.jsx("p",{className:"text-gray-600 mb-6",children:r.content}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:r.name}),c.jsx("p",{className:"text-gray-500 text-sm",children:r.role})]})]},s))})]})}),c.jsx("section",{className:"py-20 bg-blue-600",children:c.jsxs("div",{className:"container mx-auto px-4 text-center",children:[c.jsx("h2",{className:"text-4xl font-bold text-white mb-8",children:"Comece Agora Mesmo"}),c.jsx("p",{className:"text-xl text-white opacity-90 mb-12 max-w-2xl mx-auto",children:"Junte-se a milhares de famílias que já encontraram o cuidador ideal para seus entes queridos"}),c.jsx("button",{onClick:n,className:"bg-white hover:bg-gray-100 text-blue-600 px-8 py-4 rounded-full text-lg font-semibold transition-all transform hover:scale-105",children:"Encontrar Cuidador"})]})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Entre em Contato"}),c.jsx("p",{className:"text-xl text-gray-600 mb-12",children:"Estamos aqui para ajudar. Entre em contato conosco para mais informações."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 justify-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[c.jsx(_S,{className:"w-6 h-6 text-blue-600"}),c.jsx("span",{className:"text-gray-900",children:"(11) 99999-9999"})]}),c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[c.jsx(zo,{className:"w-6 h-6 text-blue-600"}),c.jsx("span",{className:"text-gray-900",children:"contato@cuidadores.com"})]})]})]})})})]})}class N6{constructor(){this.requestsRef=Xr(We,"hireRequests"),this.evaluationsRef=Xr(We,"avaliacoes"),this.RATE_LIMIT={maxRequests:50,interval:60*1e3,requestCount:0,lastReset:Date.now()},this.checkRateLimit=()=>{const e=Date.now();if(e-this.RATE_LIMIT.lastReset>=this.RATE_LIMIT.interval&&(this.RATE_LIMIT.requestCount=0,this.RATE_LIMIT.lastReset=e),this.RATE_LIMIT.requestCount>=this.RATE_LIMIT.maxRequests)throw new Error("rate_limit_exceeded");this.RATE_LIMIT.requestCount++},this.retryWithBackoff=async(e,n=3)=>{for(let r=0;r<n;r++)try{return await e()}catch(s){if(s.message==="rate_limit_exceeded"&&r<n-1){const i=Math.min(1e3*Math.pow(2,r),6e4);await new Promise(a=>setTimeout(a,i));continue}throw s}}}async createRequest(e){return this.retryWithBackoff(async()=>{try{return this.checkRateLimit(),(await Co(this.requestsRef,{...e,status:"pending",createdAt:Ot(),updatedAt:Ot()})).id}catch(n){throw console.error("Error creating request:",n),n}})}async getClientRequests(e){return this.retryWithBackoff(async()=>{try{this.checkRateLimit();const n=Un(this.requestsRef,er("clientId","==",e),Ap("createdAt","desc"));return(await fi(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Error getting client requests:",n),n}})}async getCaregiverRequests(e){return this.retryWithBackoff(async()=>{try{this.checkRateLimit(),console.log("Fetching requests for caregiver:",e);const n=Un(this.requestsRef,er("caregiverId","==",e),Ap("createdAt","desc")),r=await fi(n);console.log("Found documents:",r.size);const s=r.docs.map(i=>({id:i.id,...i.data()}));return console.log("Parsed requests:",s),s}catch(n){throw console.error("Error getting caregiver requests:",n),n}})}async updateRequestStatus(e,n){return this.retryWithBackoff(async()=>{try{this.checkRateLimit();const r=qe(this.requestsRef,e);await Bt(r,{status:n,updatedAt:Ot()})}catch(r){throw console.error("Error updating request status:",r),r}})}async confirmPayment(e,n){return this.retryWithBackoff(async()=>{try{this.checkRateLimit();const r=qe(this.requestsRef,e);await Bt(r,{payment:n,updatedAt:Ot()})}catch(r){throw console.error("Error confirming payment:",r),r}})}async completeService(e){return this.retryWithBackoff(async()=>{try{this.checkRateLimit();const n=qe(this.requestsRef,e);await Bt(n,{status:"completed",updatedAt:Ot()})}catch(n){throw console.error("Error completing service:",n),n}})}async submitEvaluation(e){return this.retryWithBackoff(async()=>{try{this.checkRateLimit(),await Co(this.evaluationsRef,{...e,createdAt:Ot()});const n=qe(this.requestsRef,e.requestId);await Bt(n,{evaluation:{rating:e.rating,comment:e.comment,createdAt:e.createdAt},updatedAt:Ot()}),await this.updateCaregiverRating(e.caregiverId)}catch(n){throw console.error("Error submitting evaluation:",n),n}})}async getCaregiverEvaluations(e){return this.retryWithBackoff(async()=>{try{this.checkRateLimit();const n=Un(this.evaluationsRef,er("caregiverId","==",e),Ap("createdAt","desc"));return(await fi(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Error getting caregiver evaluations:",n),n}})}async createEvaluation(e){return this.retryWithBackoff(async()=>{try{this.checkRateLimit(),console.log("Criando avaliação:",e);const n=await Co(this.evaluationsRef,{requestId:e.requestId,caregiverId:e.caregiverId,clientId:e.clientId,rating:e.rating,comment:e.comment,createdAt:Ot()});console.log("Avaliação criada com ID:",n.id);const r=qe(this.requestsRef,e.requestId);return await Bt(r,{evaluation:{rating:e.rating,comment:e.comment,createdAt:Ot()},updatedAt:Ot()}),await this.updateCaregiverRating(e.caregiverId),n.id}catch(n){throw console.error("Error creating evaluation:",n),n}})}async updateCaregiverRating(e){return this.retryWithBackoff(async()=>{try{this.checkRateLimit();const n=Un(this.evaluationsRef,er("caregiverId","==",e)),r=await fi(n);let s=0;r.docs.forEach(o=>{s+=o.data().rating});const i=s/r.size,a=qe(We,"cuidadores",e);await Bt(a,{rating:i,updatedAt:Ot()})}catch(n){throw console.error("Error updating caregiver rating:",n),n}})}}const oa=new N6,k6={apiKey:"AIzaSyBEJt_Z8mggU_ckUCpQjK3-3ArlrBmvPHc",authDomain:"ambiente-python-431822.firebaseapp.com",projectId:"ambiente-python-431822",storageBucket:"ambiente-python-431822.firebasestorage.app",messagingSenderId:"952921538910",appId:"1:952921538910:web:e3080bad1df2dc94e80fcf",measurementId:"G-8TV19DH24E"},q0=Qv(k6),Dd=EC(q0);mI(q0);$C(q0);const A6={async getCaregiverById(t){try{const e=qe(Dd,"cuidadores",t),n=await Sr(e);return n.exists()?n.data():null}catch(e){throw console.error("Error fetching caregiver:",e),e}},async updateCaregiver(t,e){try{const n=qe(Dd,"cuidadores",t),r={...e,updatedAt:new Date().toISOString()};await Bt(n,r)}catch(n){throw console.error("Error updating caregiver:",n),n}},async createCaregiver(t,e){try{const n=qe(Dd,"cuidadores",t);await Oi(n,{...e,createdAt:new Date,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Error creating caregiver:",n),n}},async searchCaregivers(t){try{let e=Un(Xr(Dd,"cuidadores"));return t.city&&(e=Un(e,er("city","==",t.city))),t.specialty&&(e=Un(e,er("specialties","array-contains",t.specialty))),(await fi(e)).docs.map(s=>({id:s.id,...s.data()})).filter(s=>t.name?s.name.toLowerCase().includes(t.name.toLowerCase()):!0)}catch(e){throw console.error("Error searching caregivers:",e),e}}};function R6({onSelect:t}){const[e,n]=P.useState([]),[r,s]=P.useState(!0),[i,a]=P.useState({specialty:"",minRating:0,maxPrice:"",searchTerm:""}),o=["Cuidador(a) de Idosos","Enfermagem","Fisioterapia","Acompanhante","Cuidados Especiais","Técnico(a) de Enfermagem"],[l,d]=P.useState(o);P.useEffect(()=>{(async()=>{try{const g=await A6.searchCaregivers({});n(g)}catch(g){console.error("Error loading caregivers:",g),ee.error("Erro ao carregar cuidadores")}finally{s(!1)}})()},[]),P.useEffect(()=>{if(e.length>0){const p=new Set;o.forEach(g=>p.add(g)),e.forEach(g=>{g.specialties&&g.specialties.forEach(_=>p.add(_))}),d(Array.from(p).sort())}},[e]);const h=p=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(p),f=e.filter(p=>{console.log("Filtrando cuidador:",p);const g=!i.specialty||p.specialties&&p.specialties.includes(i.specialty),_=!i.minRating||p.rating&&p.rating>=i.minRating,x=!i.maxPrice||p.hourlyRate&&p.hourlyRate<=parseFloat(i.maxPrice),b=!i.searchTerm||p.name.toLowerCase().includes(i.searchTerm.toLowerCase())||p.specialties&&p.specialties.some(T=>T.toLowerCase().includes(i.searchTerm.toLowerCase()));return g&&_&&x&&b});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),c.jsxs("div",{className:"relative",children:[c.jsx(Wv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),c.jsx("input",{type:"text",value:i.searchTerm,onChange:p=>a(g=>({...g,searchTerm:p.target.value})),className:"pl-10 w-full border rounded-lg p-2",placeholder:"Nome ou especialidade..."})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Especialidade"}),c.jsxs("select",{value:i.specialty,onChange:p=>a(g=>({...g,specialty:p.target.value})),className:"w-full border rounded-lg p-2",children:[c.jsx("option",{value:"",children:"Todas"}),l.map(p=>c.jsx("option",{value:p,children:p},p))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avaliação Mínima"}),c.jsxs("select",{value:i.minRating,onChange:p=>a(g=>({...g,minRating:Number(p.target.value)})),className:"w-full border rounded-lg p-2",children:[c.jsx("option",{value:"0",children:"Qualquer"}),c.jsx("option",{value:"3",children:"3+ estrelas"}),c.jsx("option",{value:"4",children:"4+ estrelas"}),c.jsx("option",{value:"4.5",children:"4.5+ estrelas"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Máximo/hora"}),c.jsxs("div",{className:"relative",children:[c.jsx(Xf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),c.jsx("input",{type:"number",value:i.maxPrice,onChange:p=>a(g=>({...g,maxPrice:p.target.value})),className:"pl-10 w-full border rounded-lg p-2",placeholder:"R$ Máximo",min:"0",step:"10"})]})]})]}),r?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):f.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-500",children:"Nenhum cuidador encontrado com os filtros selecionados."})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(p=>{var g;return c.jsxs("div",{className:"border rounded-lg p-4 hover:border-indigo-500 transition-colors cursor-pointer",onClick:()=>t(p),children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-200 flex items-center justify-center",children:p.photoURL?c.jsx("img",{src:p.photoURL,alt:p.name,className:"h-16 w-16 rounded-full object-cover"}):c.jsx("span",{className:"text-2xl font-medium text-gray-600",children:p.name.charAt(0)})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:p.name}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(ll,{className:"h-4 w-4 text-yellow-400 mr-1"}),(p.rating||0).toFixed(1)," (",p.totalReviews||0," avaliações)"]}),c.jsxs("p",{className:"text-indigo-600 font-medium",children:[h(p.hourlyRate||0),"/hora"]})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Especialidades:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:(g=p.specialties)==null?void 0:g.map(_=>c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:_},_))})]})]},p.id)})})]})}function zC({caregiver:t,onClose:e}){var f;const{user:n}=Gn(),[r,s]=P.useState(!1),[i,a]=P.useState({patientName:"",patientAge:"",specialNeeds:"",date:"",startTime:"",duration:"4",specialtyRequired:t.specialty||"Enfermagem em Gerontologia e Geriatria",location:{address:"",complement:"",city:"",state:"",zipCode:"",instructions:""},notes:""}),o=p=>{const{name:g,value:_}=p.target;if(g.startsWith("location.")){const x=g.split(".")[1];a(b=>({...b,location:{...b.location,[x]:_}}))}else a(x=>({...x,[g]:_}))},l=async p=>{if(p.preventDefault(),!n){ee.error("Você precisa estar logado para fazer uma solicitação");return}try{s(!0);const g={...i,clientId:n.uid,caregiverId:t.id,status:"pending",createdAt:new Date().toISOString(),hourlyRate:t.hourlyRate};await oa.createRequest(g),ee.success("Solicitação enviada com sucesso!"),e()}catch(g){console.error("Error creating request:",g),ee.error("Erro ao enviar solicitação. Tente novamente.")}finally{s(!1)}},d=Number(i.duration)*(t.hourlyRate||0),h=new Date().toISOString().split("T")[0];return c.jsxs("form",{onSubmit:l,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Informações do Paciente"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Paciente"}),c.jsx("input",{type:"text",name:"patientName",required:!0,className:"w-full border rounded-lg p-2",placeholder:"Nome completo do paciente",value:i.patientName,onChange:o})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Idade"}),c.jsx("input",{type:"number",name:"patientAge",required:!0,min:"0",max:"150",className:"w-full border rounded-lg p-2",value:i.patientAge,onChange:o})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Necessidades Especiais"}),c.jsx("textarea",{name:"specialNeeds",rows:3,className:"w-full border rounded-lg p-2",placeholder:"Descreva qualquer necessidade especial ou condição médica relevante...",value:i.specialNeeds,onChange:o})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data do Atendimento"}),c.jsxs("div",{className:"relative",children:[c.jsx(Wc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),c.jsx("input",{type:"date",name:"date",required:!0,min:h,className:"pl-10 w-full border rounded-lg p-2",value:i.date,onChange:o})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horário de Início"}),c.jsxs("div",{className:"relative",children:[c.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),c.jsx("input",{type:"time",name:"startTime",required:!0,className:"pl-10 w-full border rounded-lg p-2",value:i.startTime,onChange:o})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duração (horas)"}),c.jsxs("select",{name:"duration",required:!0,className:"w-full border rounded-lg p-2",value:i.duration,onChange:o,children:[c.jsx("option",{value:"4",children:"4 horas"}),c.jsx("option",{value:"6",children:"6 horas"}),c.jsx("option",{value:"8",children:"8 horas"}),c.jsx("option",{value:"12",children:"12 horas"}),c.jsx("option",{value:"24",children:"24 horas"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Especialidade Requerida"}),c.jsx("select",{name:"specialtyRequired",required:!0,className:"w-full border rounded-lg p-2",value:i.specialtyRequired,onChange:o,children:c.jsx("option",{value:"Enfermagem em Gerontologia e Geriatria",children:"Enfermagem em Gerontologia e Geriatria"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Localização do Atendimento"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço"}),c.jsx("input",{type:"text",name:"location.address",required:!0,className:"w-full border rounded-lg p-2",placeholder:"Rua, número",value:i.location.address,onChange:o})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complemento"}),c.jsx("input",{type:"text",name:"location.complement",className:"w-full border rounded-lg p-2",placeholder:"Apartamento, bloco, etc.",value:i.location.complement,onChange:o})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),c.jsx("input",{type:"text",name:"location.city",required:!0,className:"w-full border rounded-lg p-2",value:i.location.city,onChange:o})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),c.jsx("input",{type:"text",name:"location.state",required:!0,className:"w-full border rounded-lg p-2",value:i.location.state,onChange:o})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),c.jsx("input",{type:"text",name:"location.zipCode",required:!0,className:"w-full border rounded-lg p-2",placeholder:"00000-000",value:i.location.zipCode,onChange:o})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instruções de Acesso"}),c.jsx("textarea",{name:"location.instructions",rows:2,className:"w-full border rounded-lg p-2",placeholder:"Instruções para chegar ao local...",value:i.location.instructions,onChange:o})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),c.jsx("textarea",{name:"notes",rows:4,className:"w-full border rounded-lg p-2",placeholder:"Descreva necessidades específicas ou informações importantes...",value:i.notes,onChange:o})]}),c.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Valor por hora:"}),c.jsxs("p",{className:"text-lg font-medium",children:["R$ ",(f=t.hourlyRate)==null?void 0:f.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Duração:"}),c.jsxs("p",{className:"text-lg font-medium",children:[i.duration,"h"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total:"}),c.jsxs("p",{className:"text-lg font-semibold text-indigo-600",children:["R$ ",d.toFixed(2)]})]})]})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:r,className:`
            w-full py-3 px-4 rounded-lg text-white font-medium
            ${r?"bg-indigo-400":"bg-indigo-600 hover:bg-indigo-700"}
          `,children:r?"Enviando...":"Enviar Solicitação"})})]})}function P6({request:t,onSubmit:e}){const{user:n}=Gn(),[r,s]=P.useState(!1),[i,a]=P.useState(5),[o,l]=P.useState(""),[d,h]=P.useState(null),f=async p=>{if(p.preventDefault(),!n){ee.error("Você precisa estar logado para enviar uma avaliação");return}if(!i||!o.trim()){ee.error("Por favor, preencha todos os campos");return}try{s(!0),console.log("Enviando avaliação...",{requestId:t.id,caregiverId:t.caregiverId,clientId:n.uid,rating:i,comment:o}),await oa.createEvaluation({requestId:t.id,caregiverId:t.caregiverId,clientId:n.uid,rating:i,comment:o.trim(),createdAt:new Date().toISOString()}),ee.success("Avaliação enviada com sucesso!"),e()}catch(g){console.error("Error submitting evaluation:",g),ee.error("Erro ao enviar avaliação")}finally{s(!1)}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-6",children:[c.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Avaliar Atendimento"}),c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("p",{className:"text-gray-600",children:"Como foi seu atendimento com"}),c.jsxs("p",{className:"font-medium text-lg",children:[t.caregiverName,"?"]})]}),c.jsx("div",{className:"flex justify-center space-x-2",children:[1,2,3,4,5].map(p=>c.jsx("button",{type:"button",onClick:()=>a(p),onMouseEnter:()=>h(p),onMouseLeave:()=>h(null),className:"focus:outline-none",children:c.jsx(ll,{className:`h-8 w-8 ${(d!==null?p<=d:p<=i)?"text-yellow-400 fill-current":"text-gray-300"}`})},p))}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comentário"}),c.jsx("textarea",{value:o,onChange:p=>l(p.target.value),rows:4,className:"w-full border rounded-lg p-2",placeholder:"Conte como foi sua experiência...",required:!0})]}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("button",{type:"button",onClick:e,className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:r,className:`
                flex-1 py-2 px-4 rounded-lg text-white font-medium
                ${r?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}
              `,children:r?"Enviando...":"Enviar Avaliação"})]})]})]})})}function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function Ia(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function gn(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function as(t){gn(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||ff(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function j6(t,e){gn(2,arguments);var n=as(t).getTime(),r=Ia(e);return new Date(n+r)}var O6={};function Tm(){return O6}function D6(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function M6(t){return gn(1,arguments),t instanceof Date||ff(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function L6(t){if(gn(1,arguments),!M6(t)&&typeof t!="number")return!1;var e=as(t);return!isNaN(Number(e))}function V6(t,e){gn(2,arguments);var n=Ia(e);return j6(t,-n)}var F6=864e5;function U6(t){gn(1,arguments);var e=as(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/F6)+1}function mf(t){gn(1,arguments);var e=1,n=as(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function qC(t){gn(1,arguments);var e=as(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=mf(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=mf(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function $6(t){gn(1,arguments);var e=qC(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=mf(n);return r}var B6=6048e5;function z6(t){gn(1,arguments);var e=as(t),n=mf(e).getTime()-$6(e).getTime();return Math.round(n/B6)+1}function pf(t,e){var n,r,s,i,a,o,l,d;gn(1,arguments);var h=Tm(),f=Ia((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=as(t),g=p.getUTCDay(),_=(g<f?7:0)+g-f;return p.setUTCDate(p.getUTCDate()-_),p.setUTCHours(0,0,0,0),p}function WC(t,e){var n,r,s,i,a,o,l,d;gn(1,arguments);var h=as(t),f=h.getUTCFullYear(),p=Tm(),g=Ia((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=new Date(0);_.setUTCFullYear(f+1,0,g),_.setUTCHours(0,0,0,0);var x=pf(_,e),b=new Date(0);b.setUTCFullYear(f,0,g),b.setUTCHours(0,0,0,0);var T=pf(b,e);return h.getTime()>=x.getTime()?f+1:h.getTime()>=T.getTime()?f:f-1}function q6(t,e){var n,r,s,i,a,o,l,d;gn(1,arguments);var h=Tm(),f=Ia((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=WC(t,e),g=new Date(0);g.setUTCFullYear(p,0,f),g.setUTCHours(0,0,0,0);var _=pf(g,e);return _}var W6=6048e5;function H6(t,e){gn(1,arguments);var n=as(t),r=pf(n,e).getTime()-q6(n,e).getTime();return Math.round(r/W6)+1}function He(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Qs={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return He(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):He(r+1,2)},d:function(e,n){return He(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return He(e.getUTCHours()%12||12,n.length)},H:function(e,n){return He(e.getUTCHours(),n.length)},m:function(e,n){return He(e.getUTCMinutes(),n.length)},s:function(e,n){return He(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return He(i,n.length)}},qa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},G6={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Qs.y(e,n)},Y:function(e,n,r,s){var i=WC(e,s),a=i>0?i:1-i;if(n==="YY"){var o=a%100;return He(o,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):He(a,n.length)},R:function(e,n){var r=qC(e);return He(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return He(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return He(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return He(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return Qs.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return He(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=H6(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):He(i,n.length)},I:function(e,n,r){var s=z6(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):He(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Qs.d(e,n)},D:function(e,n,r){var s=U6(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):He(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return He(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return He(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return He(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=qa.noon:s===0?i=qa.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=qa.evening:s>=12?i=qa.afternoon:s>=4?i=qa.morning:i=qa.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Qs.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Qs.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):He(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):He(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Qs.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Qs.s(e,n)},S:function(e,n){return Qs.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return aE(a);case"XXXX":case"XX":return ta(a);case"XXXXX":case"XXX":default:return ta(a,":")}},x:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"x":return aE(a);case"xxxx":case"xx":return ta(a);case"xxxxx":case"xxx":default:return ta(a,":")}},O:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+iE(a,":");case"OOOO":default:return"GMT"+ta(a,":")}},z:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+iE(a,":");case"zzzz":default:return"GMT"+ta(a,":")}},t:function(e,n,r,s){var i=s._originalDate||e,a=Math.floor(i.getTime()/1e3);return He(a,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,a=i.getTime();return He(a,n.length)}};function iE(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var a=e;return n+String(s)+a+He(i,2)}function aE(t,e){if(t%60===0){var n=t>0?"-":"+";return n+He(Math.abs(t)/60,2)}return ta(t,e)}function ta(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=He(Math.floor(s/60),2),a=He(s%60,2);return r+i+n+a}var oE=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},HC=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},K6=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return oE(e,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",oE(s,n)).replace("{{time}}",HC(i,n))},Q6={p:HC,P:K6},Y6=["D","DD"],X6=["YY","YYYY"];function J6(t){return Y6.indexOf(t)!==-1}function Z6(t){return X6.indexOf(t)!==-1}function lE(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var eU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tU=function(e,n,r){var s,i=eU[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function No(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var nU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iU={date:No({formats:nU,defaultWidth:"full"}),time:No({formats:rU,defaultWidth:"full"}),dateTime:No({formats:sU,defaultWidth:"full"})},aU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oU=function(e,n,r,s){return aU[e]};function Mr(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=t.formattingValues[a]||t.formattingValues[i]}else{var o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[o]}var d=t.argumentCallback?t.argumentCallback(e):e;return s[d]}}var lU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mU=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},pU={ordinalNumber:mU,era:Mr({values:lU,defaultWidth:"wide"}),quarter:Mr({values:cU,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Mr({values:uU,defaultWidth:"wide"}),day:Mr({values:dU,defaultWidth:"wide"}),dayPeriod:Mr({values:hU,defaultWidth:"wide",formattingValues:fU,defaultFormattingWidth:"wide"})};function Lr(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var a=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?yU(o,function(f){return f.test(a)}):gU(o,function(f){return f.test(a)}),d;d=t.valueCallback?t.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;var h=e.slice(a.length);return{value:d,rest:h}}}function gU(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function yU(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function GC(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var o=e.slice(s.length);return{value:a,rest:o}}}var vU=/^(\d+)(th|st|nd|rd)?/i,_U=/\d+/i,wU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xU={any:[/^b/i,/^(a|c)/i]},bU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},EU={any:[/1/i,/2/i,/3/i,/4/i]},TU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},IU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},AU={ordinalNumber:GC({matchPattern:vU,parsePattern:_U,valueCallback:function(e){return parseInt(e,10)}}),era:Lr({matchPatterns:wU,defaultMatchWidth:"wide",parsePatterns:xU,defaultParseWidth:"any"}),quarter:Lr({matchPatterns:bU,defaultMatchWidth:"wide",parsePatterns:EU,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Lr({matchPatterns:TU,defaultMatchWidth:"wide",parsePatterns:SU,defaultParseWidth:"any"}),day:Lr({matchPatterns:IU,defaultMatchWidth:"wide",parsePatterns:CU,defaultParseWidth:"any"}),dayPeriod:Lr({matchPatterns:NU,defaultMatchWidth:"any",parsePatterns:kU,defaultParseWidth:"any"})},RU={code:"en-US",formatDistance:tU,formatLong:iU,formatRelative:oU,localize:pU,match:AU,options:{weekStartsOn:0,firstWeekContainsDate:1}},PU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OU=/^'([^]*?)'?$/,DU=/''/g,MU=/[a-zA-Z]/;function gf(t,e,n){var r,s,i,a,o,l,d,h,f,p,g,_,x,b,T,v,N,j;gn(2,arguments);var M=String(e),V=Tm(),S=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:V.locale)!==null&&r!==void 0?r:RU,w=Ia((i=(a=(o=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(d=n.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:V.firstWeekContainsDate)!==null&&a!==void 0?a:(f=V.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=Ia((g=(_=(x=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(T=n.locale)===null||T===void 0||(v=T.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&x!==void 0?x:V.weekStartsOn)!==null&&_!==void 0?_:(N=V.locale)===null||N===void 0||(j=N.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&g!==void 0?g:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var C=as(t);if(!L6(C))throw new RangeError("Invalid time value");var A=D6(C),R=V6(C,A),k={firstWeekContainsDate:w,weekStartsOn:E,locale:S,_originalDate:C},fe=M.match(jU).map(function(he){var ve=he[0];if(ve==="p"||ve==="P"){var Se=Q6[ve];return Se(he,S.formatLong)}return he}).join("").match(PU).map(function(he){if(he==="''")return"'";var ve=he[0];if(ve==="'")return LU(he);var Se=G6[ve];if(Se)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Z6(he)&&lE(he,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&J6(he)&&lE(he,e,String(t)),Se(R,he,S.localize,k);if(ve.match(MU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ve+"`");return he}).join("");return fe}function LU(t){var e=t.match(OU);return e?e[1].replace(DU,"'"):t}var VU={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},FU=function(e,n,r){var s,i=VU[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",String(n)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+s:"há "+s:s},UU={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},$U={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},BU={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zU={date:No({formats:UU,defaultWidth:"full"}),time:No({formats:$U,defaultWidth:"full"}),dateTime:No({formats:BU,defaultWidth:"full"})},qU={lastWeek:function(e){var n=e.getUTCDay(),r=n===0||n===6?"último":"última";return"'"+r+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},WU=function(e,n,r,s){var i=qU[e];return typeof i=="function"?i(n):i},HU={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},GU={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},KU={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},QU={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},YU={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},XU={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},JU=function(e,n){var r=Number(e);return(n==null?void 0:n.unit)==="week"?r+"ª":r+"º"},ZU={ordinalNumber:JU,era:Mr({values:HU,defaultWidth:"wide"}),quarter:Mr({values:GU,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Mr({values:KU,defaultWidth:"wide"}),day:Mr({values:QU,defaultWidth:"wide"}),dayPeriod:Mr({values:YU,defaultWidth:"wide",formattingValues:XU,defaultFormattingWidth:"wide"})},e5=/^(\d+)[ºªo]?/i,t5=/\d+/i,n5={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},r5={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},s5={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},i5={any:[/1/i,/2/i,/3/i,/4/i]},a5={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},o5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},l5={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},c5={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},u5={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},d5={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},h5={ordinalNumber:GC({matchPattern:e5,parsePattern:t5,valueCallback:function(e){return parseInt(e,10)}}),era:Lr({matchPatterns:n5,defaultMatchWidth:"wide",parsePatterns:r5,defaultParseWidth:"any"}),quarter:Lr({matchPatterns:s5,defaultMatchWidth:"wide",parsePatterns:i5,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Lr({matchPatterns:a5,defaultMatchWidth:"wide",parsePatterns:o5,defaultParseWidth:"any"}),day:Lr({matchPatterns:l5,defaultMatchWidth:"wide",parsePatterns:c5,defaultParseWidth:"any"}),dayPeriod:Lr({matchPatterns:u5,defaultMatchWidth:"any",parsePatterns:d5,defaultParseWidth:"any"})},KC={code:"pt-BR",formatDistance:FU,formatLong:zU,formatRelative:WU,localize:ZU,match:h5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function f5({request:t,onEvaluate:e}){const r=(()=>{switch(t.status){case"pending":return{icon:c.jsx(_a,{className:"h-6 w-6 text-yellow-500"}),title:"Aguardando Resposta",description:"O cuidador ainda não respondeu sua solicitação.",color:"text-yellow-500"};case"accepted":return{icon:c.jsx(Lx,{className:"h-6 w-6 text-green-500"}),title:"Solicitação Aceita",description:"O cuidador aceitou sua solicitação. Aguarde o contato.",color:"text-green-500"};case"rejected":return{icon:c.jsx(xS,{className:"h-6 w-6 text-red-500"}),title:"Solicitação Recusada",description:"Infelizmente o cuidador não está disponível. Tente outro profissional.",color:"text-red-500"};case"completed":return{icon:c.jsx(Lx,{className:"h-6 w-6 text-blue-500"}),title:"Atendimento Concluído",description:t.evaluation?"Obrigado pela sua avaliação!":"Por favor, avalie o serviço prestado.",color:"text-blue-500"};default:return{icon:c.jsx(Ln,{className:"h-6 w-6 text-gray-500"}),title:"Status Desconhecido",description:"Não foi possível determinar o status da solicitação.",color:"text-gray-500"}}})();return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[r.icon,c.jsxs("div",{children:[c.jsx("h3",{className:`font-medium ${r.color}`,children:r.title}),c.jsx("p",{className:"text-sm text-gray-600",children:r.description})]})]}),c.jsxs("div",{className:"mt-4 space-y-2",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Data: "}),gf(new Date(t.date),"dd 'de' MMMM 'de' yyyy",{locale:KC})]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Horário: "}),t.startTime," (",t.duration,"h)"]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Valor Total: "}),"R$ ",t.totalAmount?t.totalAmount.toFixed(2):"0.00"]})]}),t.status==="completed"&&!t.evaluation&&c.jsx("button",{className:"mt-4 w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors",onClick:()=>e==null?void 0:e(t),children:"Avaliar Serviço"})]})}function Cs(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function m5(t,e=[]){let n=[];function r(i,a){const o=P.createContext(a),l=n.length;n=[...n,a];const d=f=>{var T;const{scope:p,children:g,..._}=f,x=((T=p==null?void 0:p[t])==null?void 0:T[l])||o,b=P.useMemo(()=>_,Object.values(_));return c.jsx(x.Provider,{value:b,children:g})};d.displayName=i+"Provider";function h(f,p){var x;const g=((x=p==null?void 0:p[t])==null?void 0:x[l])||o,_=P.useContext(g);if(_)return _;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(a=>P.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return P.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return s.scopeName=t,[r,p5(s,...e)]}function p5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...o,...f}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function g5(t,e=[]){let n=[];function r(i,a){const o=P.createContext(a),l=n.length;n=[...n,a];function d(f){const{scope:p,children:g,..._}=f,x=(p==null?void 0:p[t][l])||o,b=P.useMemo(()=>_,Object.values(_));return c.jsx(x.Provider,{value:b,children:g})}function h(f,p){const g=(p==null?void 0:p[t][l])||o,_=P.useContext(g);if(_)return _;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(a=>P.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return P.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return s.scopeName=t,[r,y5(s,...e)]}function y5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...o,...f}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function v5(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function QC(...t){return e=>t.forEach(n=>v5(n,e))}function yf(...t){return P.useCallback(QC(...t),t)}var vf=P.forwardRef((t,e)=>{const{children:n,...r}=t,s=P.Children.toArray(n),i=s.find(w5);if(i){const a=i.props.children,o=s.map(l=>l===i?P.Children.count(a)>1?P.Children.only(null):P.isValidElement(a)?a.props.children:null:l);return c.jsx(_y,{...r,ref:e,children:P.isValidElement(a)?P.cloneElement(a,void 0,o):null})}return c.jsx(_y,{...r,ref:e,children:n})});vf.displayName="Slot";var _y=P.forwardRef((t,e)=>{const{children:n,...r}=t;if(P.isValidElement(n)){const s=b5(n);return P.cloneElement(n,{...x5(r,n.props),ref:e?QC(e,s):s})}return P.Children.count(n)>1?P.Children.only(null):null});_y.displayName="SlotClone";var _5=({children:t})=>c.jsx(c.Fragment,{children:t});function w5(t){return P.isValidElement(t)&&t.type===_5}function x5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{i(...o),s(...o)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function b5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function E5(t){const e=t+"CollectionProvider",[n,r]=g5(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:_,children:x}=g,b=F.useRef(null),T=F.useRef(new Map).current;return c.jsx(s,{scope:_,itemMap:T,collectionRef:b,children:x})};a.displayName=e;const o=t+"CollectionSlot",l=F.forwardRef((g,_)=>{const{scope:x,children:b}=g,T=i(o,x),v=yf(_,T.collectionRef);return c.jsx(vf,{ref:v,children:b})});l.displayName=o;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=F.forwardRef((g,_)=>{const{scope:x,children:b,...T}=g,v=F.useRef(null),N=yf(_,v),j=i(d,x);return F.useEffect(()=>(j.itemMap.set(v,{ref:v,...T}),()=>void j.itemMap.delete(v))),c.jsx(vf,{[h]:"",ref:N,children:b})});f.displayName=d;function p(g){const _=i(t+"CollectionConsumer",g);return F.useCallback(()=>{const b=_.collectionRef.current;if(!b)return[];const T=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((j,M)=>T.indexOf(j.ref.current)-T.indexOf(M.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:l,ItemSlot:f},p,r]}function T5(t,e=[]){let n=[];function r(i,a){const o=P.createContext(a),l=n.length;n=[...n,a];function d(f){const{scope:p,children:g,..._}=f,x=(p==null?void 0:p[t][l])||o,b=P.useMemo(()=>_,Object.values(_));return c.jsx(x.Provider,{value:b,children:g})}function h(f,p){const g=(p==null?void 0:p[t][l])||o,_=P.useContext(g);if(_)return _;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(a=>P.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return P.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return s.scopeName=t,[r,S5(s,...e)]}function S5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...o,...f}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var wy=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},I5=wh.useId||(()=>{}),C5=0;function YC(t){const[e,n]=P.useState(I5());return wy(()=>{t||n(r=>r??String(C5++))},[t]),t||(e?`radix-${e}`:"")}var N5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ml=N5.reduce((t,e)=>{const n=P.forwardRef((r,s)=>{const{asChild:i,...a}=r,o=i?vf:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(o,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function W0(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function XC({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=k5({defaultProp:e,onChange:n}),i=t!==void 0,a=i?t:r,o=W0(n),l=P.useCallback(d=>{if(i){const f=typeof d=="function"?d(t):d;f!==t&&o(f)}else s(d)},[i,t,s,o]);return[a,l]}function k5({defaultProp:t,onChange:e}){const n=P.useState(t),[r]=n,s=P.useRef(r),i=W0(e);return P.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var A5=P.createContext(void 0);function JC(t){const e=P.useContext(A5);return t||e||"ltr"}var jp="rovingFocusGroup.onEntryFocus",R5={bubbles:!1,cancelable:!0},Sm="RovingFocusGroup",[xy,ZC,P5]=E5(Sm),[j5,eN]=T5(Sm,[P5]),[O5,D5]=j5(Sm),tN=P.forwardRef((t,e)=>c.jsx(xy.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(xy.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(M5,{...t,ref:e})})}));tN.displayName=Sm;var M5=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=P.useRef(null),g=yf(e,p),_=JC(i),[x=null,b]=XC({prop:a,defaultProp:o,onChange:l}),[T,v]=P.useState(!1),N=W0(d),j=ZC(n),M=P.useRef(!1),[V,S]=P.useState(0);return P.useEffect(()=>{const w=p.current;if(w)return w.addEventListener(jp,N),()=>w.removeEventListener(jp,N)},[N]),c.jsx(O5,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:x,onItemFocus:P.useCallback(w=>b(w),[b]),onItemShiftTab:P.useCallback(()=>v(!0),[]),onFocusableItemAdd:P.useCallback(()=>S(w=>w+1),[]),onFocusableItemRemove:P.useCallback(()=>S(w=>w-1),[]),children:c.jsx(ml.div,{tabIndex:T||V===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:Cs(t.onMouseDown,()=>{M.current=!0}),onFocus:Cs(t.onFocus,w=>{const E=!M.current;if(w.target===w.currentTarget&&E&&!T){const C=new CustomEvent(jp,R5);if(w.currentTarget.dispatchEvent(C),!C.defaultPrevented){const A=j().filter(ve=>ve.focusable),R=A.find(ve=>ve.active),k=A.find(ve=>ve.id===x),he=[R,k,...A].filter(Boolean).map(ve=>ve.ref.current);sN(he,h)}}M.current=!1}),onBlur:Cs(t.onBlur,()=>v(!1))})})}),nN="RovingFocusGroupItem",rN=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=t,o=YC(),l=i||o,d=D5(nN,n),h=d.currentTabStopId===l,f=ZC(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=d;return P.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),c.jsx(xy.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:c.jsx(ml.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:Cs(t.onMouseDown,_=>{r?d.onItemFocus(l):_.preventDefault()}),onFocus:Cs(t.onFocus,()=>d.onItemFocus(l)),onKeyDown:Cs(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const x=F5(_,d.orientation,d.dir);if(x!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let T=f().filter(v=>v.focusable).map(v=>v.ref.current);if(x==="last")T.reverse();else if(x==="prev"||x==="next"){x==="prev"&&T.reverse();const v=T.indexOf(_.currentTarget);T=d.loop?U5(T,v+1):T.slice(v+1)}setTimeout(()=>sN(T))}})})})});rN.displayName=nN;var L5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function V5(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function F5(t,e,n){const r=V5(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return L5[r]}function sN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function U5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var $5=tN,B5=rN;function z5(t,e){return P.useReducer((n,r)=>e[n][r]??n,t)}var iN=t=>{const{present:e,children:n}=t,r=q5(e),s=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),i=yf(r.ref,W5(s));return typeof n=="function"||r.isPresent?P.cloneElement(s,{ref:i}):null};iN.displayName="Presence";function q5(t){const[e,n]=P.useState(),r=P.useRef({}),s=P.useRef(t),i=P.useRef("none"),a=t?"mounted":"unmounted",[o,l]=z5(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const d=Md(r.current);i.current=o==="mounted"?d:"none"},[o]),wy(()=>{const d=r.current,h=s.current;if(h!==t){const p=i.current,g=Md(d);t?l("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),wy(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=g=>{const x=Md(r.current).includes(g.animationName);if(g.target===e&&x&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},p=g=>{g.target===e&&(i.current=Md(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:P.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Md(t){return(t==null?void 0:t.animationName)||"none"}function W5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var H0="Tabs",[H5,fz]=m5(H0,[eN]),aN=eN(),[G5,G0]=H5(H0),oN=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:l="automatic",...d}=t,h=JC(o),[f,p]=XC({prop:r,onChange:s,defaultProp:i});return c.jsx(G5,{scope:n,baseId:YC(),value:f,onValueChange:p,orientation:a,dir:h,activationMode:l,children:c.jsx(ml.div,{dir:h,"data-orientation":a,...d,ref:e})})});oN.displayName=H0;var lN="TabsList",cN=P.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=G0(lN,n),a=aN(n);return c.jsx($5,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:c.jsx(ml.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});cN.displayName=lN;var uN="TabsTrigger",dN=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=G0(uN,n),o=aN(n),l=mN(a.baseId,r),d=pN(a.baseId,r),h=r===a.value;return c.jsx(B5,{asChild:!0,...o,focusable:!s,active:h,children:c.jsx(ml.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Cs(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:Cs(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:Cs(t.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(r)})})})});dN.displayName=uN;var hN="TabsContent",fN=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,o=G0(hN,n),l=mN(o.baseId,r),d=pN(o.baseId,r),h=r===o.value,f=P.useRef(h);return P.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(iN,{present:s||h,children:({present:p})=>c.jsx(ml.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:d,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});fN.displayName=hN;function mN(t,e){return`${t}-trigger-${e}`}function pN(t,e){return`${t}-content-${e}`}var K5=oN,gN=cN,yN=dN,vN=fN;function _N(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=_N(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Q5(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=_N(t))&&(r&&(r+=" "),r+=e);return r}const K0="-",Y5=t=>{const e=J5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(K0);return o[0]===""&&o.length!==1&&o.shift(),wN(o,e)||X5(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},wN=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?wN(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(K0);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},cE=/^\[(.+)\]$/,X5=t=>{if(cE.test(t)){const e=cE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},J5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return e3(Object.entries(t.classGroups),n).forEach(([i,a])=>{by(a,r,i,e)}),r},by=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:uE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Z5(s)){by(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{by(a,uE(e,i),n,r)})})},uE=(t,e)=>{let n=t;return e.split(K0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Z5=t=>t.isThemeGetter,e3=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[n,s]}):t,t3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},xN="!",n3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=o=>{const l=[];let d=0,h=0,f;for(let b=0;b<o.length;b++){let T=o[b];if(d===0){if(T===s&&(r||o.slice(b,b+i)===e)){l.push(o.slice(h,b)),h=b+i;continue}if(T==="/"){f=b;continue}}T==="["?d++:T==="]"&&d--}const p=l.length===0?o:o.substring(h),g=p.startsWith(xN),_=g?p.substring(1):p,x=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:x}};return n?o=>n({className:o,parseClassName:a}):a},r3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},s3=t=>({cache:t3(t.cacheSize),parseClassName:n3(t),...Y5(t)}),i3=/\s+/,a3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(i3);let o="";for(let l=a.length-1;l>=0;l-=1){const d=a[l],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(d);let _=!!g,x=r(_?p.substring(0,g):p);if(!x){if(!_){o=d+(o.length>0?" "+o:o);continue}if(x=r(p),!x){o=d+(o.length>0?" "+o:o);continue}_=!1}const b=r3(h).join(":"),T=f?b+xN:b,v=T+x;if(i.includes(v))continue;i.push(v);const N=s(x,_);for(let j=0;j<N.length;++j){const M=N[j];i.push(T+M)}o=d+(o.length>0?" "+o:o)}return o};function o3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=bN(e))&&(r&&(r+=" "),r+=n);return r}const bN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=bN(t[r]))&&(n&&(n+=" "),n+=e);return n};function l3(t,...e){let n,r,s,i=a;function a(l){const d=e.reduce((h,f)=>f(h),t());return n=s3(d),r=n.cache.get,s=n.cache.set,i=o,o(l)}function o(l){const d=r(l);if(d)return d;const h=a3(l,n);return s(l,h),h}return function(){return i(o3.apply(null,arguments))}}const rt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},EN=/^\[(?:([a-z-]+):)?(.+)\]$/i,c3=/^\d+\/\d+$/,u3=new Set(["px","full","screen"]),d3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,h3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,m3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,p3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hs=t=>ko(t)||u3.has(t)||c3.test(t),Ys=t=>pl(t,"length",E3),ko=t=>!!t&&!Number.isNaN(Number(t)),Op=t=>pl(t,"number",ko),$l=t=>!!t&&Number.isInteger(Number(t)),g3=t=>t.endsWith("%")&&ko(t.slice(0,-1)),Te=t=>EN.test(t),Xs=t=>d3.test(t),y3=new Set(["length","size","percentage"]),v3=t=>pl(t,y3,TN),_3=t=>pl(t,"position",TN),w3=new Set(["image","url"]),x3=t=>pl(t,w3,S3),b3=t=>pl(t,"",T3),Bl=()=>!0,pl=(t,e,n)=>{const r=EN.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},E3=t=>h3.test(t)&&!f3.test(t),TN=()=>!1,T3=t=>m3.test(t),S3=t=>p3.test(t),I3=()=>{const t=rt("colors"),e=rt("spacing"),n=rt("blur"),r=rt("brightness"),s=rt("borderColor"),i=rt("borderRadius"),a=rt("borderSpacing"),o=rt("borderWidth"),l=rt("contrast"),d=rt("grayscale"),h=rt("hueRotate"),f=rt("invert"),p=rt("gap"),g=rt("gradientColorStops"),_=rt("gradientColorStopPositions"),x=rt("inset"),b=rt("margin"),T=rt("opacity"),v=rt("padding"),N=rt("saturate"),j=rt("scale"),M=rt("sepia"),V=rt("skew"),S=rt("space"),w=rt("translate"),E=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Te,e],R=()=>[Te,e],k=()=>["",hs,Ys],fe=()=>["auto",ko,Te],he=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ve=()=>["solid","dashed","dotted","double","none"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Te],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ie=()=>[ko,Te];return{cacheSize:500,separator:":",theme:{colors:[Bl],spacing:[hs,Ys],blur:["none","",Xs,Te],brightness:Ie(),borderColor:[t],borderRadius:["none","","full",Xs,Te],borderSpacing:R(),borderWidth:k(),contrast:Ie(),grayscale:H(),hueRotate:Ie(),invert:H(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[g3,Ys],inset:A(),margin:A(),opacity:Ie(),padding:R(),saturate:Ie(),scale:Ie(),sepia:H(),skew:Ie(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[Xs]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...he(),Te]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$l,Te]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",$l,Te]}],"grid-cols":[{"grid-cols":[Bl]}],"col-start-end":[{col:["auto",{span:["full",$l,Te]},Te]}],"col-start":[{"col-start":fe()}],"col-end":[{"col-end":fe()}],"grid-rows":[{"grid-rows":[Bl]}],"row-start-end":[{row:["auto",{span:[$l,Te]},Te]}],"row-start":[{"row-start":fe()}],"row-end":[{"row-end":fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,e]}],"min-w":[{"min-w":[Te,e,"min","max","fit"]}],"max-w":[{"max-w":[Te,e,"none","full","min","max","fit","prose",{screen:[Xs]},Xs]}],h:[{h:[Te,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xs,Ys]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Op]}],"font-family":[{font:[Bl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",ko,Op]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hs,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hs,Ys]}],"underline-offset":[{"underline-offset":["auto",hs,Te]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...he(),_3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",v3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},x3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...ve(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:ve()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ve()]}],"outline-offset":[{"outline-offset":[hs,Te]}],"outline-w":[{outline:[hs,Ys]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[hs,Ys]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xs,b3]}],"shadow-color":[{shadow:[Bl]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...Se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xs,Te]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[N]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:Ie()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:Ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[$l,Te]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hs,Ys,Op]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},C3=l3(I3);function Q0(...t){return C3(Q5(t))}const N3=K5,SN=P.forwardRef(({className:t,...e},n)=>c.jsx(gN,{ref:n,className:Q0("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500",t),...e}));SN.displayName=gN.displayName;const Ey=P.forwardRef(({className:t,...e},n)=>c.jsx(yN,{ref:n,className:Q0("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-gray-950 data-[state=active]:shadow-sm",t),...e}));Ey.displayName=yN.displayName;const Ty=P.forwardRef(({className:t,...e},n)=>c.jsx(vN,{ref:n,className:Q0("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",t),...e}));Ty.displayName=vN.displayName;function k3(){const{user:t}=Gn(),e=Pa(),[n,r]=P.useState([]),[s,i]=P.useState(null),[a,o]=P.useState(!1),[l,d]=P.useState(null),[h,f]=P.useState(!0);P.useEffect(()=>{t&&p()},[t]);const p=async()=>{try{const b=await oa.getClientRequests(t.uid);r(b)}catch(b){console.error("Error loading requests:",b),ee.error("Erro ao carregar solicitações")}finally{f(!1)}},g=b=>{i(b),o(!0)},_=()=>{o(!1),i(null),p(),ee.success("Solicitação criada com sucesso!")},x=async()=>{await p(),ee.success("Avaliação enviada com sucesso!")};return n.filter(b=>b.status==="pending"),n.filter(b=>b.status==="accepted"),n.filter(b=>b.status==="completed"),n.filter(b=>["rejected","cancelled"].includes(b.status)),e.pathname==="/dashboard/client/search"?null:h?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs(N3,{defaultValue:"requests",className:"w-full",children:[c.jsxs(SN,{className:"mb-4",children:[c.jsx(Ey,{value:"requests",children:"Minhas Solicitações"}),c.jsx(Ey,{value:"search",children:"Buscar Cuidador"})]}),c.jsx(Ty,{value:"requests",children:h?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):n.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-gray-500",children:"Você ainda não tem solicitações."}),c.jsx("button",{onClick:()=>{const b=document.querySelector('[value="search"]');b instanceof HTMLElement&&b.click()},className:"mt-4 text-indigo-600 hover:text-indigo-700",children:"Buscar Cuidador"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(b=>c.jsx(f5,{request:b,onEvaluate:d},b.id))})}),c.jsx(Ty,{value:"search",children:c.jsx(R6,{onSelect:g})})]}),s&&a&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Nova Solicitação"}),c.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),c.jsx(zC,{caregiver:s,onRequestCreated:_})]})})}),l&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Avaliar Atendimento"}),c.jsx("button",{onClick:()=>d(null),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),c.jsx(P6,{request:l,onSubmit:()=>{x(),d(null)}})]})})})]})}var A3=Object.defineProperty,R3=(t,e,n)=>e in t?A3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dp=(t,e,n)=>(R3(t,typeof e!="symbol"?e+"":e,n),n);let P3=class{constructor(){Dp(this,"current",this.detect()),Dp(this,"handoffState","pending"),Dp(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ao=new P3,Jo=(t,e)=>{Ao.isServer?P.useEffect(t,e):P.useLayoutEffect(t,e)};function j3(t){let e=P.useRef(t);return Jo(()=>{e.current=t},[t]),e}let mi=function(t){let e=j3(t);return F.useCallback((...n)=>e.current(...n),[e])};function O3(t,e,n){let[r,s]=P.useState(n),i=t!==void 0,a=P.useRef(i),o=P.useRef(!1),l=P.useRef(!1);return i&&!a.current&&!o.current?(o.current=!0,a.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&a.current&&!l.current&&(l.current=!0,a.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?t:r,mi(d=>(i||s(d),e==null?void 0:e(d)))]}function D3(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function IN(){let t=[],e={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),e.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return D3(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=IN();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let s of t.splice(r,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}function M3(){let[t]=P.useState(IN);return P.useEffect(()=>()=>t.dispose(),[t]),t}function L3(){let t=typeof document>"u";return"useSyncExternalStore"in wh?(e=>e.useSyncExternalStore)(wh)(()=>()=>{},()=>!1,()=>!t):!1}function V3(){let t=L3(),[e,n]=P.useState(Ao.isHandoffComplete);return e&&Ao.isHandoffComplete===!1&&n(!1),P.useEffect(()=>{e!==!0&&n(!0)},[e]),P.useEffect(()=>Ao.handoff(),[]),t?!1:e}var dE;let Y0=(dE=F.useId)!=null?dE:function(){let t=V3(),[e,n]=F.useState(t?()=>Ao.nextId():null);return Jo(()=>{e===null&&n(Ao.nextId())},[e]),e!=null?""+e:void 0};function CN(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,CN),r}function hE(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function F3(t,e){let[n,r]=P.useState(()=>hE(t));return Jo(()=>{r(hE(t))},[t.type,t.as]),Jo(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let U3=Symbol();function X0(...t){let e=P.useRef(t);P.useEffect(()=>{e.current=t},[t]);let n=mi(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return t.every(r=>r==null||(r==null?void 0:r[U3]))?void 0:n}function fE(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var $3=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))($3||{}),B3=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(B3||{});function Uu({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:s,visible:i=!0,name:a,mergeRefs:o}){o=o??z3;let l=NN(e,t);if(i)return Ld(l,n,r,a,o);let d=s??0;if(d&2){let{static:h=!1,...f}=l;if(h)return Ld(f,n,r,a,o)}if(d&1){let{unmount:h=!0,...f}=l;return CN(h?0:1,{0(){return null},1(){return Ld({...f,hidden:!0,style:{display:"none"}},n,r,a,o)}})}return Ld(l,n,r,a,o)}function Ld(t,e={},n,r,s){let{as:i=n,children:a,refName:o="ref",...l}=Mp(t,["unmount","static"]),d=t.ref!==void 0?{[o]:t.ref}:{},h=typeof a=="function"?a(e):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let f={};if(e){let p=!1,g=[];for(let[_,x]of Object.entries(e))typeof x=="boolean"&&(p=!0),x===!0&&g.push(_);p&&(f["data-headlessui-state"]=g.join(" "))}if(i===P.Fragment&&Object.keys(Sy(l)).length>0){if(!P.isValidElement(h)||Array.isArray(h)&&h.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let p=h.props,g=typeof(p==null?void 0:p.className)=="function"?(...x)=>fE(p==null?void 0:p.className(...x),l.className):fE(p==null?void 0:p.className,l.className),_=g?{className:g}:{};return P.cloneElement(h,Object.assign({},NN(h.props,Sy(Mp(l,["ref"]))),f,d,{ref:s(h.ref,d.ref)},_))}return P.createElement(i,Object.assign({},Mp(l,["ref"]),i!==P.Fragment&&d,i!==P.Fragment&&f),h)}function z3(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function NN(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](s,...i){let a=n[r];for(let o of a){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;o(s,...i)}}});return e}function Im(t){var e;return Object.assign(P.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Sy(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Mp(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let q3="div";var kN=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(kN||{});function W3(t,e){var n;let{features:r=1,...s}=t,i={ref:e,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Uu({ourProps:i,theirProps:s,slot:{},defaultTag:q3,name:"Hidden"})}let H3=Im(W3);function G3(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&K3(n)?!1:r}function K3(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function Q3(t){var e,n;let r=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(r){for(let s of r.elements)if(s!==t&&(s.tagName==="INPUT"&&s.type==="submit"||s.tagName==="BUTTON"&&s.type==="submit"||s.nodeName==="INPUT"&&s.type==="image")){s.click();return}(n=r.requestSubmit)==null||n.call(r)}}var Iy=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Iy||{});let AN=P.createContext(null);function RN(){let t=P.useContext(AN);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,RN),e}return t}function Y3(){let[t,e]=P.useState([]);return[t.length>0?t.join(" "):void 0,P.useMemo(()=>function(n){let r=mi(i=>(e(a=>[...a,i]),()=>e(a=>{let o=a.slice(),l=o.indexOf(i);return l!==-1&&o.splice(l,1),o}))),s=P.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return F.createElement(AN.Provider,{value:s},n.children)},[e])]}let X3="p";function J3(t,e){let n=Y0(),{id:r=`headlessui-description-${n}`,...s}=t,i=RN(),a=X0(e);Jo(()=>i.register(r),[r,i.register]);let o={ref:a,...i.props,id:r};return Uu({ourProps:o,theirProps:s,slot:i.slot||{},defaultTag:X3,name:i.name||"Description"})}let Z3=Im(J3),e$=Object.assign(Z3,{}),PN=P.createContext(null);function jN(){let t=P.useContext(PN);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,jN),e}return t}function t$(){let[t,e]=P.useState([]);return[t.length>0?t.join(" "):void 0,P.useMemo(()=>function(n){let r=mi(i=>(e(a=>[...a,i]),()=>e(a=>{let o=a.slice(),l=o.indexOf(i);return l!==-1&&o.splice(l,1),o}))),s=P.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return F.createElement(PN.Provider,{value:s},n.children)},[e])]}let n$="label";function r$(t,e){let n=Y0(),{id:r=`headlessui-label-${n}`,passive:s=!1,...i}=t,a=jN(),o=X0(e);Jo(()=>a.register(r),[r,a.register]);let l={ref:o,...a.props,id:r};return s&&("onClick"in l&&(delete l.htmlFor,delete l.onClick),"onClick"in i&&delete i.onClick),Uu({ourProps:l,theirProps:i,slot:a.slot||{},defaultTag:n$,name:a.name||"Label"})}let s$=Im(r$),i$=Object.assign(s$,{}),J0=P.createContext(null);J0.displayName="GroupContext";let a$=P.Fragment;function o$(t){var e;let[n,r]=P.useState(null),[s,i]=t$(),[a,o]=Y3(),l=P.useMemo(()=>({switch:n,setSwitch:r,labelledby:s,describedby:a}),[n,r,s,a]),d={},h=t;return F.createElement(o,{name:"Switch.Description"},F.createElement(i,{name:"Switch.Label",props:{htmlFor:(e=l.switch)==null?void 0:e.id,onClick(f){n&&(f.currentTarget.tagName==="LABEL"&&f.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},F.createElement(J0.Provider,{value:l},Uu({ourProps:d,theirProps:h,defaultTag:a$,name:"Switch.Group"}))))}let l$="button";function c$(t,e){var n;let r=Y0(),{id:s=`headlessui-switch-${r}`,checked:i,defaultChecked:a=!1,onChange:o,disabled:l=!1,name:d,value:h,form:f,...p}=t,g=P.useContext(J0),_=P.useRef(null),x=X0(_,e,g===null?null:g.setSwitch),[b,T]=O3(i,o,a),v=mi(()=>T==null?void 0:T(!b)),N=mi(E=>{if(G3(E.currentTarget))return E.preventDefault();E.preventDefault(),v()}),j=mi(E=>{E.key===Iy.Space?(E.preventDefault(),v()):E.key===Iy.Enter&&Q3(E.currentTarget)}),M=mi(E=>E.preventDefault()),V=P.useMemo(()=>({checked:b}),[b]),S={id:s,ref:x,role:"switch",type:F3(t,_),tabIndex:t.tabIndex===-1?0:(n=t.tabIndex)!=null?n:0,"aria-checked":b,"aria-labelledby":g==null?void 0:g.labelledby,"aria-describedby":g==null?void 0:g.describedby,disabled:l,onClick:N,onKeyUp:j,onKeyPress:M},w=M3();return P.useEffect(()=>{var E;let C=(E=_.current)==null?void 0:E.closest("form");C&&a!==void 0&&w.addEventListener(C,"reset",()=>{T(a)})},[_,T]),F.createElement(F.Fragment,null,d!=null&&b&&F.createElement(H3,{features:kN.Hidden,...Sy({as:"input",type:"checkbox",hidden:!0,readOnly:!0,disabled:l,form:f,checked:b,name:d,value:h})}),Uu({ourProps:S,theirProps:p,slot:V,defaultTag:l$,name:"Switch"}))}let u$=Im(c$),d$=o$,Lp=Object.assign(u$,{Group:d$,Label:i$,Description:e$});function h$({caregiverId:t}){const[e,n]=P.useState(!0),[r,s]=P.useState(!0);P.useEffect(()=>{(async()=>{if(!t){console.error("caregiverId is required"),s(!1);return}try{const o=qe(We,"caregivers",t),l=await Sr(o);if(l.exists()){const d=l.data();n(d.available??!0)}else await Bt(o,{available:!0,updatedAt:new Date().toISOString()}),n(!0)}catch(o){console.error("Error fetching availability:",o),ee.error("Erro ao carregar status de disponibilidade")}finally{s(!1)}})()},[t]);const i=async()=>{if(!t){ee.error("Erro ao atualizar status");return}s(!0);try{const a=!e,o=qe(We,"caregivers",t);await Bt(o,{available:a,updatedAt:new Date().toISOString()}),n(a),ee.success(`Status atualizado para ${a?"Disponível":"Indisponível"}`)}catch(a){console.error("Error updating availability:",a),ee.error("Erro ao atualizar status de disponibilidade"),n(!e)}finally{s(!1)}};return c.jsx(Lp.Group,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Lp.Label,{className:"mr-4",children:c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Status: ",r?"Carregando...":e?"Disponível":"Indisponível"]})}),c.jsx(Lp,{checked:e,onChange:i,disabled:r,className:`${e?"bg-indigo-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50`,children:c.jsx("span",{className:`${e?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]})})}function f$({caregiverId:t}){const[e,n]=F.useState(!1),[r,s]=F.useState(0),[i,a]=F.useState(!1);F.useEffect(()=>{(async()=>{if(!t){console.error("caregiverId is required");return}try{const d=qe(We,"cuidadores",t),h=await Sr(d);if(h.exists()){const p=h.data().hourlyRate;console.log("Valor por hora carregado:",p),s(p??0)}else await Oi(d,{hourlyRate:0,updatedAt:new Date().toISOString()})}catch(d){console.error("Erro ao carregar valor por hora:",d),ee.error("Erro ao carregar valor por hora")}})()},[t]);const o=async l=>{if(l.preventDefault(),r<0){ee.error("O valor por hora não pode ser negativo");return}a(!0);try{const d=qe(We,"cuidadores",t);(await Sr(d)).exists()?await Bt(d,{hourlyRate:Number(r),updatedAt:new Date().toISOString()}):await Oi(d,{hourlyRate:Number(r),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),ee.success("Valor por hora atualizado com sucesso!"),n(!1)}catch(d){console.error("Erro ao atualizar valor por hora:",d),ee.error("Erro ao atualizar valor por hora. Tente novamente.")}finally{a(!1)}};return c.jsxs("div",{children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Xf,{className:"h-5 w-5 text-gray-500"}),c.jsx("h3",{className:"text-lg font-medium",children:"Valor por Hora"})]})}),e?c.jsxs("form",{onSubmit:o,className:"space-y-4",children:[c.jsx("div",{children:c.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx("span",{className:"text-gray-500 sm:text-sm",children:"R$"})}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:r,onChange:l=>s(Number(l.target.value)),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00",disabled:i}),c.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:c.jsx("span",{className:"text-gray-500 sm:text-sm",children:"/hora"})})]})}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{type:"submit",disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:i?"Salvando...":"Salvar"}),c.jsx("button",{type:"button",onClick:()=>n(!1),disabled:i,className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:"Cancelar"})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",r.toFixed(2),c.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"/hora"})]}),c.jsx("button",{onClick:()=>n(!0),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Editar"})]})]})}function Vd({appointments:t,onStatusChange:e,type:n="pending"}){const[r,s]=F.useState(null),i=async d=>{try{await Co(Xr(We,"notifications"),{...d,createdAt:Ot()})}catch(h){console.error("Erro ao criar notificação:",h)}},a=async(d,h)=>{if(!r){s(d);try{const f=qe(We,"hireRequests",d),p=t.find(_=>_.id===d);if(!p)throw new Error("Agendamento não encontrado");await Bt(f,{status:h,updatedAt:Ot()});let g={userId:p.clientId,title:"",message:"",type:"info",read:!1,link:`/dashboard/appointments/${d}`};switch(h){case"accepted":g.title="Solicitação Aceita",g.message="Seu agendamento foi confirmado! Confira os detalhes.",g.type="success";break;case"rejected":g.title="Solicitação Recusada",g.message="Infelizmente sua solicitação foi recusada.",g.type="error";break;case"completed":g.title="Atendimento Concluído",g.message="O atendimento foi marcado como concluído. Por favor, avalie o serviço.",g.type="success",await Bt(f,{paymentStatus:"pending",reviewStatus:"pending"});break}await i(g),ee.success("Status atualizado com sucesso!"),e()}catch(f){console.error("Erro ao atualizar status:",f),ee.error("Erro ao atualizar status. Tente novamente.")}finally{s(null)}}},o=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d),l=d=>d?[d.address,d.complement,`${d.city}, ${d.state}`,`CEP: ${d.zipCode}`].filter(Boolean).join(" - "):"Localização não especificada";return t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx(_a,{className:"h-12 w-12 text-gray-400"})}),c.jsxs("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:["Nenhum agendamento ",n==="pending"?"pendente":n==="accepted"?"confirmado":"concluído"]}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n==="pending"?"Você não tem novas solicitações de atendimento.":n==="accepted"?"Você não possui atendimentos confirmados no momento.":"Você não possui atendimentos concluídos."})]}):c.jsx("div",{className:"space-y-4",children:t.map(d=>c.jsx("div",{className:`bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200 ${n==="pending"?"border-l-4 border-yellow-500":n==="accepted"?"border-l-4 border-green-500":"border-l-4 border-blue-500"}`,children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d.clientName}),c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(_a,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[gf(new Date(d.date),"dd 'de' MMMM",{locale:KC})," às ",d.startTime]}),c.jsx("span",{className:"mx-2",children:"•"}),c.jsxs("span",{children:[d.duration,"h de duração"]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(qv,{className:"h-4 w-4 mr-2"}),c.jsx("span",{children:l(d.location)})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Xf,{className:"h-4 w-4 mr-2"}),c.jsx("span",{children:o(d.totalAmount)})]})]}),d.description&&c.jsx("p",{className:"mt-3 text-sm text-gray-600",children:d.description})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[n==="pending"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>a(d.id,"accepted"),disabled:r===d.id,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r===d.id?"Processando...":"Aceitar"}),c.jsx("button",{onClick:()=>a(d.id,"rejected"),disabled:r===d.id,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r===d.id?"Processando...":"Recusar"})]}),n==="accepted"&&c.jsx("button",{onClick:()=>a(d.id,"completed"),disabled:r===d.id,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r===d.id?"Processando...":"Concluir Atendimento"}),n==="completed"&&c.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Concluído"}),d.paymentStatus==="completed"&&c.jsx("span",{className:"text-sm text-gray-500",children:"Pagamento Recebido"}),d.reviewStatus==="completed"&&c.jsx("span",{className:"text-sm text-gray-500",children:"Avaliado pelo Cliente"})]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex space-x-4 text-sm text-gray-500",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Email:"})," ",d.clientEmail]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Telefone:"})," ",d.clientPhone]})]})})]})},d.id))})}const m$=[{id:"medico",label:"Médico(a)",icon:"👨‍⚕️"},{id:"enfermeiro",label:"Enfermeiro(a)",icon:"👨‍⚕️"},{id:"fisioterapeuta",label:"Fisioterapeuta",icon:"🏥"},{id:"cuidador",label:"Cuidador(a)",icon:"🤝"}],p$={medico:["Geriatria","Clínica Geral","Cardiologia","Neurologia","Psiquiatria","Ortopedia"],enfermeiro:["Enfermagem Geriátrica","Cuidados Intensivos","Administração de Medicamentos","Curativos Complexos","Cuidados com Sonda","Cuidados Paliativos"],fisioterapeuta:["Fisioterapia Geriátrica","Reabilitação Motora","Fisioterapia Respiratória","Fisioterapia Neurológica","Hidroterapia","Pilates"],cuidador:["Cuidados Básicos","Primeiros Socorros","Administração de Medicamentos","Mobilidade Reduzida","Alzheimer","Parkinson","Demência","Acamados","Pós-operatório","Diabetes","Hipertensão","AVC","Cuidados Paliativos"]};function g$({caregiverId:t}){const[e,n]=P.useState(""),[r,s]=P.useState([]),[i,a]=P.useState(!0),[o,l]=P.useState(null),{user:d}=Gn(),h=t||(d==null?void 0:d.uid);P.useEffect(()=>{(async()=>{if(!h){l("Não foi possível identificar o cuidador. Por favor, faça login novamente."),a(!1);return}try{const _=qe(We,"caregivers",h),x=await Sr(_);if(x.exists()){const b=x.data();s(b.specialties||[]),n(b.profession||"")}else l("Dados do cuidador não encontrados")}catch(_){console.error("Error fetching caregiver data:",_),l("Erro ao carregar dados do profissional")}finally{a(!1)}})()},[h]);const f=async g=>{if(!h){ee.error("ID do cuidador não disponível");return}try{const _=qe(We,"caregivers",h);await Bt(_,{profession:g,specialties:[]}),n(g),s([]),ee.success("Profissão atualizada com sucesso!")}catch(_){console.error("Error updating profession:",_),ee.error("Erro ao atualizar profissão")}},p=async g=>{if(!h){ee.error("ID do cuidador não disponível");return}try{const _=r.includes(g)?r.filter(b=>b!==g):[...r,g],x=qe(We,"caregivers",h);await Bt(x,{specialties:_}),s(_),ee.success("Especializações atualizadas com sucesso!")}catch(_){console.error("Error updating specialties:",_),ee.error("Erro ao atualizar especializações")}};return i?c.jsx("div",{className:"flex justify-center items-center p-4",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):o?c.jsxs("div",{className:"text-red-600 p-4 flex items-center",children:[c.jsx(Ln,{className:"w-5 h-5 mr-2"}),o]}):c.jsxs("div",{className:"p-4 bg-white rounded-lg shadow",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profissão e Especializações"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione sua profissão"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:m$.map(({id:g,label:_,icon:x})=>c.jsxs("button",{onClick:()=>f(g),className:`p-3 rounded-lg border ${e===g?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-300 hover:border-indigo-300"} flex items-center justify-center transition-colors`,children:[c.jsx("span",{className:"mr-2",children:x}),_]},g))})]}),e&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione suas especializações"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:p$[e].map(g=>c.jsxs("button",{onClick:()=>p(g),className:`p-2 rounded-lg border ${r.includes(g)?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-300 hover:border-indigo-300"} flex items-center justify-between transition-colors`,children:[c.jsx("span",{children:g}),r.includes(g)?c.jsx(Tu,{className:"w-4 h-4"}):c.jsx(Kj,{className:"w-4 h-4"})]},g))})]})]})}const y$=[{key:"sunday",label:"Domingo"},{key:"monday",label:"Segunda"},{key:"tuesday",label:"Terça"},{key:"wednesday",label:"Quarta"},{key:"thursday",label:"Quinta"},{key:"friday",label:"Sexta"},{key:"saturday",label:"Sábado"}],mE={sunday:[],monday:[],tuesday:[],wednesday:[],thursday:[],friday:[],saturday:[]};function v$({caregiverId:t}){const[e,n]=P.useState(mE),[r,s]=P.useState(!0),[i,a]=P.useState(!1);P.useEffect(()=>{(async()=>{try{const p=qe(We,"caregivers",t),g=await Sr(p);if(g.exists()){const _=g.data();n(_.workSchedule||mE)}s(!1)}catch(p){console.error("Error fetching work schedule:",p),ee.error("Erro ao carregar horários de trabalho"),s(!1)}})()},[t]);const o=f=>{n(p=>({...p,[f]:[...p[f],{start:"09:00",end:"17:00"}]}))},l=(f,p)=>{n(g=>({...g,[f]:g[f].filter((_,x)=>x!==p)}))},d=(f,p,g,_)=>{n(x=>({...x,[f]:x[f].map((b,T)=>T===p?{...b,[g]:_}:b)}))},h=async()=>{a(!0);try{const f=qe(We,"caregivers",t);await Bt(f,{workSchedule:e}),ee.success("Horários salvos com sucesso!")}catch(f){console.error("Error saving work schedule:",f),ee.error("Erro ao salvar horários")}finally{a(!1)}};return r?c.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(_a,{className:"h-5 w-5 text-gray-500"}),c.jsx("h3",{className:"text-lg font-medium",children:"Horários de Trabalho"})]}),c.jsx("button",{onClick:h,disabled:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Qj,{className:"h-4 w-4 mr-2"}),"Salvar Alterações"]})})]}),c.jsx("div",{className:"space-y-4",children:y$.map(({key:f,label:p})=>c.jsxs("div",{className:"bg-white shadow rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900",children:p}),c.jsx("button",{onClick:()=>o(f),className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Adicionar Horário"})]}),e[f].length===0?c.jsxs("p",{className:"text-sm text-gray-500",children:["Nenhum horário definido para ",p.toLowerCase()]}):c.jsx("div",{className:"space-y-2",children:e[f].map((g,_)=>c.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 p-2 rounded-md",children:[c.jsx("input",{type:"time",value:g.start,onChange:x=>d(f,_,"start",x.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),c.jsx("span",{className:"text-gray-500",children:"até"}),c.jsx("input",{type:"time",value:g.end,onChange:x=>d(f,_,"end",x.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),c.jsx("button",{onClick:()=>l(f,_),className:"text-red-500 hover:text-red-700 focus:outline-none",children:"Remover"})]},_))})]},f))})]})}function _$({hourlyRate:t,completedAppointments:e,totalHours:n}){const r=t*n;return c.jsxs("div",{children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Vj,{className:"h-5 w-5 text-gray-500"}),c.jsx("h3",{className:"text-lg font-medium",children:"Ganhos do Mês"})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg p-4",children:[c.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Atendimentos Concluídos"}),c.jsx("div",{className:"mt-1 text-2xl font-semibold text-gray-900",children:e})]}),c.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg p-4",children:[c.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total de Horas"}),c.jsxs("div",{className:"mt-1 text-2xl font-semibold text-gray-900",children:[n,"h"]})]}),c.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg p-4",children:[c.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total de Ganhos"}),c.jsxs("div",{className:"mt-1 text-2xl font-semibold text-gray-900",children:["R$ ",r.toFixed(2)]})]})]}),c.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["* Baseado no valor hora de R$ ",t.toFixed(2)]})]})}function w$(){var M,V;const[t,e]=P.useState("overview"),[n,r]=P.useState([]),[s,i]=P.useState(null),[a,o]=P.useState(!0),{user:l}=Gn(),[d,h]=P.useState({address:"",city:"",state:"",zipCode:"",complement:""}),[f,p]=P.useState("");P.useEffect(()=>{const S=async()=>{if(!(l!=null&&l.uid)){o(!1);return}try{const E=qe(We,"cuidadores",l.uid),C=await Sr(E);if(C.exists()){const A=C.data();console.log("Dados do cuidador:",A);const R={...A,createdAt:A.createdAt instanceof St?A.createdAt.toDate():new Date,updatedAt:A.updatedAt||new Date().toISOString(),available:A.available??!0,hourlyRate:A.hourlyRate??0,rating:A.rating??0,certifications:A.certifications??[],specialties:A.specialties??[],workSchedule:A.workSchedule??{domingo:{enabled:!1,timeSlots:[]},segunda:{enabled:!1,timeSlots:[]},terca:{enabled:!1,timeSlots:[]},quarta:{enabled:!1,timeSlots:[]},quinta:{enabled:!1,timeSlots:[]},sexta:{enabled:!1,timeSlots:[]},sabado:{enabled:!1,timeSlots:[]}}};i(R)}else{const A={name:l.displayName||"",email:l.email||"",hourlyRate:0,rating:0,available:!0,role:"caregiver",experience:"",certifications:[],specialties:["Cuidador(a) de Idosos"],workSchedule:{domingo:{enabled:!1,timeSlots:[]},segunda:{enabled:!1,timeSlots:[]},terca:{enabled:!1,timeSlots:[]},quarta:{enabled:!1,timeSlots:[]},quinta:{enabled:!1,timeSlots:[]},sexta:{enabled:!1,timeSlots:[]},sabado:{enabled:!1,timeSlots:[]}},createdAt:new Date,updatedAt:new Date().toISOString(),serviceLocations:[],allowedDurations:[4,6,8,12]};await Oi(E,A),i(A)}}catch(E){console.error("Error fetching caregiver data:",E),ee.error("Erro ao carregar dados do perfil")}finally{o(!1)}},w=async()=>{if(l!=null&&l.uid)try{console.log("Fetching appointments for caregiver:",l.uid);const E=await oa.getCaregiverRequests(l.uid);console.log("Raw appointments data:",E),console.log("Pending appointments:",E.filter(C=>C.status==="pending")),r(E)}catch(E){console.error("Error loading appointments:",E),ee.error("Erro ao carregar agendamentos")}};S(),w()},[l]);const g=async(S,w)=>{if(l!=null&&l.uid)try{const E=qe(We,"cuidadores",l.uid),C={[S]:w,updatedAt:new Date().toISOString()};await Bt(E,C),i(A=>A?{...A,[S]:w,updatedAt:new Date().toISOString()}:null),ee.success("Perfil atualizado com sucesso!")}catch(E){console.error("Error updating profile:",E),ee.error("Erro ao atualizar perfil")}},_=async()=>{if(!(!s||!(l!=null&&l.uid)))try{const S=[...s.serviceLocations||[],d];await g("serviceLocations",S),h({address:"",city:"",state:"",zipCode:"",complement:""}),ee.success("Local de atendimento adicionado com sucesso!")}catch(S){console.error("Error adding location:",S),ee.error("Erro ao adicionar local de atendimento")}},x=async S=>{if(!(!s||!(l!=null&&l.uid)))try{const w=s.serviceLocations.filter((E,C)=>C!==S);await g("serviceLocations",w),ee.success("Local de atendimento removido com sucesso!")}catch(w){console.error("Error removing location:",w),ee.error("Erro ao remover local de atendimento")}},b=async()=>{if(!(!s||!(l!=null&&l.uid)||!f.trim()))try{const S=[...s.certifications||[],f.trim()];await g("certifications",S),p(""),ee.success("Certificação adicionada com sucesso!")}catch(S){console.error("Error adding certification:",S),ee.error("Erro ao adicionar certificação")}},T=async S=>{if(!(!s||!(l!=null&&l.uid)))try{const w=s.certifications.filter((E,C)=>C!==S);await g("certifications",w),ee.success("Certificação removida com sucesso!")}catch(w){console.error("Error removing certification:",w),ee.error("Erro ao remover certificação")}};if(a)return c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})});const v=()=>{var S;return c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[c.jsx("div",{className:"h-16 w-16 rounded-full bg-indigo-100 flex items-center justify-center",children:c.jsx(Zf,{className:"h-8 w-8 text-indigo-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold",children:s==null?void 0:s.name}),c.jsx("p",{className:"text-gray-600",children:(s==null?void 0:s.profession)||"Profissão não definida"})]})]}),c.jsx("div",{className:"border-t pt-4",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Avaliação"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(ll,{className:"h-4 w-4 text-yellow-400 mr-1"}),c.jsx("span",{className:"font-medium",children:((S=s==null?void 0:s.rating)==null?void 0:S.toFixed(1))||"N/A"})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Valor/Hora"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xf,{className:"h-4 w-4 text-green-500 mr-1"}),c.jsxs("span",{className:"font-medium",children:["R$ ",(s==null?void 0:s.hourlyRate)||"0"]})]})]})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[c.jsx(_a,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Disponibilidade"]}),(l==null?void 0:l.uid)&&c.jsx(h$,{caregiverId:l.uid})]})]}),c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Agendamentos Pendentes"}),c.jsx(Vd,{appointments:n.filter(w=>w.status==="pending"),onStatusChange:()=>{l!=null&&l.uid&&oa.getCaregiverRequests(l.uid).then(r).catch(w=>{console.error("Error reloading appointments:",w),ee.error("Erro ao recarregar agendamentos")})},type:"pending"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Agendamentos Aceitos"}),c.jsx(Vd,{appointments:n.filter(w=>w.status==="accepted"),onStatusChange:()=>{l!=null&&l.uid&&oa.getCaregiverRequests(l.uid).then(r).catch(w=>{console.error("Error reloading appointments:",w),ee.error("Erro ao recarregar agendamentos")})},type:"accepted"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Agendamentos Concluídos"}),c.jsx(Vd,{appointments:n.filter(w=>w.status==="completed"),onStatusChange:()=>{l!=null&&l.uid&&oa.getCaregiverRequests(l.uid).then(r).catch(w=>{console.error("Error reloading appointments:",w),ee.error("Erro ao recarregar agendamentos")})},type:"completed"})]})]})]})},N=()=>c.jsxs("div",{className:"space-y-6",children:[(l==null?void 0:l.uid)&&c.jsx(v$,{caregiverId:l.uid}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[c.jsx(Wc,{className:"h-5 w-5 mr-2"}),"Agendamentos"]}),c.jsx(Vd,{appointments:n})]})]}),j=()=>{var S,w;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Informações Profissionais"}),(l==null?void 0:l.uid)&&c.jsx(g$,{caregiverId:l.uid})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[c.jsx(Yf,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Certificações"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"space-y-2",children:(S=s==null?void 0:s.certifications)==null?void 0:S.map((E,C)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(zj,{className:"h-4 w-4 text-gray-400 mr-2"}),c.jsx("span",{children:E})]}),c.jsx("button",{onClick:()=>T(C),className:"text-red-600 hover:text-red-800",children:"Remover"})]},C))}),c.jsxs("div",{className:"mt-4 flex gap-2",children:[c.jsx("input",{type:"text",value:f,onChange:E=>p(E.target.value),placeholder:"Digite o nome da certificação",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",onKeyPress:E=>{E.key==="Enter"&&b()}}),c.jsx("button",{onClick:b,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Adicionar"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[c.jsx(qv,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Locais de Atendimento"]}),c.jsx("div",{className:"space-y-4 mb-6",children:(w=s==null?void 0:s.serviceLocations)==null?void 0:w.map((E,C)=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Wj,{className:"h-4 w-4 text-gray-400 mr-2"}),c.jsx("p",{className:"font-medium",children:E.address})]}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[E.city,", ",E.state," - ",E.zipCode]}),E.complement&&c.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Complemento: ",E.complement]})]}),c.jsx("button",{onClick:()=>x(C),className:"text-red-600 hover:text-red-800 ml-4",children:"Remover"})]},C))}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h3",{className:"text-md font-medium mb-4",children:"Adicionar Novo Local"}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço"}),c.jsx("input",{type:"text",value:d.address,onChange:E=>h(C=>({...C,address:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),c.jsx("input",{type:"text",value:d.city,onChange:E=>h(C=>({...C,city:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),c.jsx("input",{type:"text",value:d.state,onChange:E=>h(C=>({...C,state:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),c.jsx("input",{type:"text",value:d.zipCode,onChange:E=>h(C=>({...C,zipCode:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]}),c.jsxs("div",{className:"sm:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complemento (opcional)"}),c.jsx("input",{type:"text",value:d.complement,onChange:E=>h(C=>({...C,complement:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]})]}),c.jsx("button",{onClick:_,className:"mt-4 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Adicionar Local"})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Configurações de Pagamento"}),(l==null?void 0:l.uid)&&c.jsx(f$,{caregiverId:l.uid})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calculadora de Ganhos"}),c.jsx(_$,{hourlyRate:(s==null?void 0:s.hourlyRate)||0})]})]})};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[(!(s!=null&&s.experience)||!((M=s==null?void 0:s.certifications)!=null&&M.length)||!((V=s==null?void 0:s.specialties)!=null&&V.length))&&c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ln,{className:"h-5 w-5 text-yellow-400"}),c.jsx("p",{className:"ml-3 text-sm text-yellow-700",children:"Complete seu perfil para aumentar suas chances de contratação."})]})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Painel do Cuidador"}),c.jsxs("p",{className:"text-gray-600",children:["Bem-vindo(a), ",s==null?void 0:s.name]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-500",children:c.jsx(vS,{className:"h-6 w-6"})}),c.jsx(or,{to:"/profile/settings",className:"p-2 text-gray-400 hover:text-gray-500",children:c.jsx(Xj,{className:"h-6 w-6"})})]})]}),c.jsx("div",{className:"border-b border-gray-200 mb-6",children:c.jsxs("nav",{className:"-mb-px flex space-x-8",children:[c.jsx("button",{onClick:()=>e("overview"),className:`pb-4 px-1 border-b-2 font-medium text-sm ${t==="overview"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Visão Geral"}),c.jsx("button",{onClick:()=>e("schedule"),className:`pb-4 px-1 border-b-2 font-medium text-sm ${t==="schedule"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Agendamentos"}),c.jsx("button",{onClick:()=>e("settings"),className:`pb-4 px-1 border-b-2 font-medium text-sm ${t==="settings"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Configurações"})]})}),c.jsxs("div",{className:"py-4",children:[t==="overview"&&v(),t==="schedule"&&N(),t==="settings"&&j()]})]})]})}function x$(){const{user:t}=Gn(),[e,n]=F.useState(null),[r,s]=F.useState(!0),i=ns();return F.useEffect(()=>{let a=!0;return(async()=>{if(!t){a&&s(!1);return}try{const l=qe(We,"clients",t.uid),d=await Sr(l);if(!a)return;if(d.exists()){n("client"),s(!1);return}const h=qe(We,"caregivers",t.uid),f=await Sr(h);if(!a)return;if(f.exists()){n("caregiver");const p=f.data();p.createdAt||await Oi(h,{...p,createdAt:new Date,updatedAt:new Date().toISOString(),available:p.available??!0,hourlyRate:p.hourlyRate??0,rating:p.rating??0,certifications:p.certifications??[],specialties:p.specialties??[],workSchedule:p.workSchedule??{domingo:{enabled:!1,timeSlots:[]},segunda:{enabled:!1,timeSlots:[]},terca:{enabled:!1,timeSlots:[]},quarta:{enabled:!1,timeSlots:[]},quinta:{enabled:!1,timeSlots:[]},sexta:{enabled:!1,timeSlots:[]},sabado:{enabled:!1,timeSlots:[]}}},{merge:!0})}else{ee.error("Perfil não encontrado. Por favor, complete seu cadastro."),i("/complete-profile");return}}catch(l){console.error("Error loading user role:",l),a&&ee.error("Erro ao carregar perfil. Tente novamente mais tarde.")}finally{a&&s(!1)}})(),()=>{a=!1}},[t,i]),t?r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e?c.jsx("div",{className:"min-h-screen bg-gray-100",children:c.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e==="client"?c.jsxs(c.Fragment,{children:[c.jsx(k3,{userId:t.uid}),c.jsx(X2,{})]}):e==="caregiver"?c.jsx(w$,{userId:t.uid}):null})}):null:c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Acesso Negado"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Você precisa estar logado para acessar esta página."})]})})}function b$({caregiver:t}){var s,i;const[e,n]=P.useState(!1),r=t.name?t.name.charAt(0).toUpperCase():"C";return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"border rounded-lg p-4 hover:border-indigo-500 transition-colors cursor-pointer",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-200 flex items-center justify-center",children:c.jsx("span",{className:"text-2xl font-medium text-gray-600",children:r})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:t.name}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(ll,{className:"h-4 w-4 text-yellow-400 mr-1"}),(s=t.rating)==null?void 0:s.toFixed(1)," (",t.reviews," avaliações)"]}),c.jsxs("p",{className:"text-indigo-600 font-medium",children:["R$ ",(i=t.hourlyRate)==null?void 0:i.toFixed(2),"/hora"]})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Especialidades:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:(t.specialties||[]).map((a,o)=>c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:a},o))})]})]}),e&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Nova Solicitação"}),c.jsx("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),c.jsx(zC,{caregiver:t,onClose:()=>n(!1)})]})})})]})}function pE(){const t=ns(),[e,n]=F.useState(""),[r,s]=F.useState(""),[i,a]=F.useState(""),[o,l]=F.useState([]),[d,h]=F.useState(!0),f=["Cuidados com Idosos","Primeiros Socorros","Cuidados Especiais","Fisioterapia","Enfermagem"],p=["São Paulo, SP","Rio de Janeiro, RJ","Belo Horizonte, MG","Salvador, BA","Recife, PE"];F.useEffect(()=>{(async()=>{try{const b=Un(Xr(We,"cuidadores")),v=(await fi(b)).docs.map(N=>({id:N.id,...N.data()}));l(v)}catch(b){console.error("Error fetching caregivers:",b)}finally{h(!1)}})()},[]);const g=async()=>{h(!0);try{let x=Un(Xr(We,"cuidadores"));i&&(x=Un(x,er("city","==",i))),r&&(x=Un(x,er("specialties","array-contains",r)));const T=(await fi(x)).docs.map(v=>({id:v.id,...v.data()})).filter(v=>e?v.name.toLowerCase().includes(e.toLowerCase()):!0);l(T)}catch(x){console.error("Error searching caregivers:",x)}finally{h(!1)}},_=x=>{t(`/caregiver/${x}`)};return d?c.jsx("div",{className:"flex justify-center items-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"bg-white shadow-lg rounded-lg p-6 mb-8",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:e,onChange:x=>n(x.target.value),placeholder:"Buscar cuidador...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),c.jsx(Wv,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),c.jsx("div",{children:c.jsxs("select",{value:r,onChange:x=>s(x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Todas as especialidades"}),f.map(x=>c.jsx("option",{value:x,children:x},x))]})}),c.jsx("div",{children:c.jsxs("select",{value:i,onChange:x=>a(x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Todas as cidades"}),p.map(x=>c.jsx("option",{value:x,children:x},x))]})}),c.jsxs("button",{onClick:g,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center justify-center space-x-2",children:[c.jsx(qj,{className:"h-5 w-5"}),c.jsx("span",{children:"Filtrar"})]})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(x=>c.jsx(b$,{caregiver:x,onSelect:_},x.id))}),o.length===0&&c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-500",children:"Nenhum cuidador encontrado."})})]})}function E$({caregiverId:t,onSubmit:e}){const[n,r]=P.useState({patientName:"",patientAge:"",specialNeeds:"",date:"",startTime:"",duration:"",specialtyRequired:"",location:{address:"",city:"",state:"",zipCode:"",complement:""}}),[s,i]=P.useState(null),[a,o]=P.useState(!0);P.useEffect(()=>{(async()=>{try{const p=await Sr(qe(We,"caregivers",t));if(p.exists()){const g=p.data(),_=g.specializations||g.specialties||[];console.log("Especialidades encontradas:",_),i({specialties:_,serviceLocations:g.serviceLocations||[],allowedDurations:g.allowedDurations||[4,6,8,12],workSchedule:g.workSchedule||{}})}else ee.error("Cuidador não encontrado")}catch(p){console.error("Error fetching caregiver data:",p),ee.error("Erro ao carregar dados do cuidador")}finally{o(!1)}})()},[t]);const l=f=>{const{name:p,value:g}=f.target;if(p.startsWith("location.")){const _=p.split(".")[1];r(x=>({...x,location:{...x.location,[_]:g}}))}else r(_=>({..._,[p]:g}))},d=f=>{r(p=>({...p,location:{address:f.address,city:f.city,state:f.state,zipCode:f.zipCode,complement:f.complement||""}}))},h=f=>{f.preventDefault(),e(n)};return a?c.jsx("div",{children:"Carregando..."}):c.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Informações do Paciente"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome do Paciente"}),c.jsx("input",{type:"text",name:"patientName",value:n.patientName,onChange:l,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Idade"}),c.jsx("input",{type:"number",name:"patientAge",value:n.patientAge,onChange:l,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Necessidades Especiais"}),c.jsx("textarea",{name:"specialNeeds",value:n.specialNeeds,onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Detalhes do Atendimento"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data"}),c.jsx("input",{type:"date",name:"date",value:n.date,onChange:l,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Horário de Início"}),c.jsx("input",{type:"time",name:"startTime",value:n.startTime,onChange:l,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Duração"}),c.jsxs("select",{name:"duration",value:n.duration,onChange:l,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",children:[c.jsx("option",{value:"",children:"Selecione a duração"}),s==null?void 0:s.allowedDurations.map(f=>c.jsxs("option",{value:f,children:[f," horas"]},f))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Especialidade Requerida"}),c.jsxs("select",{name:"specialtyRequired",value:n.specialtyRequired,onChange:l,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",children:[c.jsx("option",{value:"",children:"Selecione a especialidade"}),s==null?void 0:s.specialties.map(f=>c.jsx("option",{value:f,children:f},f))]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Local do Atendimento"}),(s==null?void 0:s.serviceLocations)&&s.serviceLocations.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione um local salvo"}),c.jsx("div",{className:"space-y-2",children:s.serviceLocations.map((f,p)=>c.jsxs("button",{type:"button",onClick:()=>d(f),className:"w-full text-left p-3 border rounded-md hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:f.address}),c.jsxs("p",{className:"text-sm text-gray-600",children:[f.city,", ",f.state," - ",f.zipCode]}),f.complement&&c.jsxs("p",{className:"text-sm text-gray-500",children:["Complemento: ",f.complement]})]},p))}),c.jsx("div",{className:"mt-4",children:c.jsx("p",{className:"text-sm text-gray-600",children:"Ou preencha um novo endereço:"})})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Endereço"}),c.jsx("input",{type:"text",name:"location.address",value:n.location.address,onChange:l,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cidade"}),c.jsx("input",{type:"text",name:"location.city",value:n.location.city,onChange:l,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estado"}),c.jsx("input",{type:"text",name:"location.state",value:n.location.state,onChange:l,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CEP"}),c.jsx("input",{type:"text",name:"location.zipCode",value:n.location.zipCode,onChange:l,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),c.jsxs("div",{className:"sm:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Complemento"}),c.jsx("input",{type:"text",name:"location.complement",value:n.location.complement,onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Enviar Solicitação"})})]})}function T$(){var g,_;const{id:t}=M2(),e=ns(),{user:n}=Gn(),[r,s]=F.useState(null),[i,a]=F.useState(!1),[o,l]=F.useState(!1),[d,h]=F.useState();F.useEffect(()=>{(async()=>{if(t)try{const b=qe(We,"cuidadores",t),T=await Sr(b);if(T.exists()){const v=T.data(),N={id:T.id,name:v.name||"Nome não informado",email:v.email,phone:v.phone,address:v.address,bio:v.bio,specialties:v.specialties||[],certifications:v.certifications||[],experience:v.experience,hourlyRate:Number(v.hourlyRate)||0,rating:v.rating||0,reviewCount:v.reviewCount||0,profileImage:v.profileImage,available:v.available??!0};s(N)}else ee.error("Cuidador não encontrado"),e("/")}catch(b){console.error("Error fetching caregiver:",b),ee.error("Erro ao carregar dados do cuidador"),e("/")}})()},[t,e]);const f=async x=>{try{await Co(Xr(We,"notifications"),{...x,createdAt:Ot()})}catch(b){console.error("Erro ao criar notificação:",b)}},p=async x=>{if(!(!n||!r)){a(!0),h(void 0);try{const b={caregiverId:r.id,caregiverName:r.name,caregiverEmail:r.email||"Email não informado",caregiverPhone:r.phone||"Telefone não informado",caregiverProfileImage:r.profileImage||"",caregiverHourlyRate:r.hourlyRate,duration:x.duration,totalAmount:r.hourlyRate*x.duration,clientId:n.uid,clientName:n.displayName||"Cliente",clientEmail:n.email||"Email não informado",clientPhone:(n==null?void 0:n.phoneNumber)||"Telefone não informado",date:gf(x.date,"yyyy-MM-dd"),time:x.time,description:x.description,status:"pending",createdAt:Ot(),updatedAt:Ot(),lastMessageAt:Ot(),hasUnreadMessages:!0,paymentStatus:"pending",reviewStatus:"pending",messages:[{senderId:n.uid,senderName:n.displayName||"Cliente",content:x.description,timestamp:Ot(),isRead:!1}]},T=await Co(Xr(We,"hireRequests"),b);await f({userId:r.id,title:"Nova solicitação de atendimento",message:`${n.displayName||"Cliente"} solicitou seus serviços para ${gf(x.date,"d/MM/yyyy")} às ${x.time}`,type:"info",read:!1,link:`/dashboard/requests/${T.id}`}),ee.success("Solicitação enviada com sucesso!"),l(!1),e("/dashboard",{state:{message:"Solicitação enviada! Aguarde a resposta do cuidador.",requestId:T.id}})}catch(b){console.error("Erro ao enviar solicitação:",b),h("Erro ao enviar solicitação. Tente novamente.")}finally{a(!1)}}};return r?c.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg rounded-lg overflow-hidden my-8",children:[c.jsx("div",{className:"relative h-48 bg-gradient-to-r from-indigo-500 to-purple-600",children:c.jsx("div",{className:"absolute -bottom-16 left-8",children:c.jsx("img",{src:(r==null?void 0:r.profileImage)||"/default-avatar.png",alt:r==null?void 0:r.name,className:"w-32 h-32 rounded-full border-4 border-white object-cover"})})}),c.jsxs("div",{className:"pt-20 px-8 pb-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.name}),c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(qv,{className:"h-5 w-5 text-indigo-600"}),c.jsx("span",{className:"ml-2",children:r.address||"Endereço não informado"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(ll,{className:"h-5 w-5 text-yellow-400 fill-current"}),c.jsx("span",{className:"ml-1 font-semibold",children:((g=r.rating)==null?void 0:g.toFixed(1))||"0.0"}),c.jsxs("span",{className:"text-gray-500 ml-1",children:["(",r.reviewCount||0," avaliações)"]})]}),c.jsx("div",{className:"flex items-center",children:r.available?c.jsxs("div",{className:"flex items-center text-green-600 bg-green-50 px-3 py-1 rounded-full",children:[c.jsx(Fj,{className:"h-5 w-5"}),c.jsx("span",{className:"ml-1 font-medium",children:"Disponível"})]}):c.jsxs("div",{className:"flex items-center text-red-600 bg-red-50 px-3 py-1 rounded-full",children:[c.jsx(xS,{className:"h-5 w-5"}),c.jsx("span",{className:"ml-1 font-medium",children:"Indisponível"})]})})]})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:["R$ ",r.hourlyRate.toFixed(2)]}),c.jsx("div",{className:"text-gray-500",children:"por hora"})]}),c.jsx("button",{onClick:()=>l(!0),disabled:!r.available,className:`px-6 py-2 rounded-lg font-semibold text-white ${r.available?"bg-indigo-600 hover:bg-indigo-700":"bg-gray-400 cursor-not-allowed"}`,children:r.available?"Solicitar Atendimento":"Indisponível"})]})]}),c.jsxs("div",{className:"mt-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Especialidades"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:(_=r.specialties)==null?void 0:_.map((x,b)=>c.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm",children:x},b))})]}),r.bio&&c.jsxs("div",{className:"mt-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sobre"}),c.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:r.bio})]}),r.experience&&c.jsxs("div",{className:"mt-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Experiência"}),c.jsx("p",{className:"text-gray-600",children:r.experience})]}),r.certifications&&r.certifications.length>0&&c.jsxs("div",{className:"mt-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Certificações"}),c.jsx("ul",{className:"list-disc list-inside text-gray-600",children:r.certifications.map((x,b)=>c.jsx("li",{children:x},b))})]})]}),c.jsx(E$,{open:o,onClose:()=>l(!1),onSubmit:p,caregiver:r,loading:i,error:d})]}):c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})}function Z0({children:t,title:e,subtitle:n}){return c.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Eu,{className:"h-8 w-8 text-indigo-600"}),c.jsx("span",{className:"text-2xl font-bold text-indigo-600",children:"CareConnect"})]})}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:e}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:n})]}),c.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:t})})]})}function S$(){const t=ns(),{signIn:e}=Gn(),[n,r]=P.useState({email:"",password:"",rememberMe:!1}),[s,i]=P.useState(!1),[a,o]=P.useState(null),[l,d]=P.useState(!1),h=()=>n.email?/\S+@\S+\.\S+/.test(n.email)?n.password?n.password.length<8?(o("Senha deve ter no mínimo 8 caracteres"),!1):!0:(o("Senha é obrigatória"),!1):(o("E-mail inválido"),!1):(o("E-mail é obrigatório"),!1),f=async p=>{if(p.preventDefault(),o(null),!!h()){d(!0);try{await e(n.email,n.password),t("/dashboard")}catch(g){o(g.code==="auth/invalid-credential"?"E-mail ou senha incorretos":"Erro ao fazer login. Tente novamente.")}finally{d(!1)}}};return c.jsx(Z0,{title:"Bem-vindo de volta",subtitle:"Entre com sua conta para continuar",children:c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a&&c.jsx("div",{className:"p-3 rounded-md bg-red-50",children:c.jsxs("div",{className:"flex",children:[c.jsx(Ln,{className:"h-5 w-5 text-red-400"}),c.jsx("p",{className:"ml-2 text-sm text-red-700",children:a})]})}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"E-mail"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(zo,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"email",type:"email",autoComplete:"email",required:!0,value:n.email,onChange:p=>r({...n,email:p.target.value}),className:"input-primary pl-10",placeholder:"seu@email.com"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Kg,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:n.password,onChange:p=>r({...n,password:p.target.value}),className:"input-primary pl-10 pr-10"}),c.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s?c.jsx($j,{className:"h-5 w-5 text-gray-400"}):c.jsx(Bj,{className:"h-5 w-5 text-gray-400"})})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"remember-me",type:"checkbox",checked:n.rememberMe,onChange:p=>r({...n,rememberMe:p.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Lembrar-me"})]}),c.jsx("button",{type:"button",onClick:()=>t("/forgot-password"),className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Esqueceu sua senha?"})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:l,className:`w-full btn-primary ${l?"opacity-75 cursor-not-allowed":""}`,children:l?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"w-5 h-5 border-t-2 border-b-2 border-white rounded-full animate-spin"}),c.jsx("span",{className:"ml-2",children:"Entrando..."})]}):"Entrar"})}),c.jsx("div",{className:"text-center",children:c.jsxs("span",{className:"text-sm text-gray-600",children:["Não tem uma conta?"," ",c.jsx("button",{type:"button",onClick:()=>t("/register"),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Cadastre-se"})]})})]})})}var $u=t=>t.type==="checkbox",la=t=>t instanceof Date,dn=t=>t==null;const ON=t=>typeof t=="object";var xt=t=>!dn(t)&&!Array.isArray(t)&&ON(t)&&!la(t),I$=t=>xt(t)&&t.target?$u(t.target)?t.target.checked:t.target.value:t,C$=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,N$=(t,e)=>t.has(C$(e)),k$=t=>{const e=t.constructor&&t.constructor.prototype;return xt(e)&&e.hasOwnProperty("isPrototypeOf")},e_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Yn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(e_&&(t instanceof Blob||t instanceof FileList))&&(n||xt(t)))if(e=n?[]:{},!n&&!k$(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Yn(t[r]));else return t;return e}var Cm=t=>Array.isArray(t)?t.filter(Boolean):[],yt=t=>t===void 0,ne=(t,e,n)=>{if(!e||!xt(t))return n;const r=Cm(e.split(/[,[\].]+?/)).reduce((s,i)=>dn(s)?s:s[i],t);return yt(r)||r===t?yt(t[e])?n:t[e]:r},Pr=t=>typeof t=="boolean",t_=t=>/^\w*$/.test(t),DN=t=>Cm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Je=(t,e,n)=>{let r=-1;const s=t_(e)?[e]:DN(e),i=s.length,a=i-1;for(;++r<i;){const o=s[r];let l=n;if(r!==a){const d=t[o];l=xt(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(o==="__proto__")return;t[o]=l,t=t[o]}return t};const gE={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};F.createContext(null);var A$=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==fr.all&&(e._proxyFormState[a]=!r||fr.all),t[a]}});return s},wn=t=>xt(t)&&!Object.keys(t).length,R$=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return wn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===fr.all)},hh=t=>Array.isArray(t)?t:[t];function P$(t){const e=F.useRef(t);e.current=t,F.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Ur=t=>typeof t=="string",j$=(t,e,n,r,s)=>Ur(t)?(r&&e.watch.add(t),ne(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ne(n,i))):(r&&(e.watchAll=!0),n),MN=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},yE=t=>({isOnSubmit:!t||t===fr.onSubmit,isOnBlur:t===fr.onBlur,isOnChange:t===fr.onChange,isOnAll:t===fr.all,isOnTouch:t===fr.onTouched}),vE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ec=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ne(t,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Ec(o,e))break}else if(xt(o)&&Ec(o,e))break}}};var O$=(t,e,n)=>{const r=hh(ne(t,n));return Je(r,"root",e[n]),Je(t,n,r),t},n_=t=>t.type==="file",Vr=t=>typeof t=="function",_f=t=>{if(!e_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},fh=t=>Ur(t),r_=t=>t.type==="radio",wf=t=>t instanceof RegExp;const _E={value:!1,isValid:!1},wE={value:!0,isValid:!0};var LN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!yt(t[0].attributes.value)?yt(t[0].value)||t[0].value===""?wE:{value:t[0].value,isValid:!0}:wE:_E}return _E};const xE={isValid:!1,value:null};var VN=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,xE):xE;function bE(t,e,n="validate"){if(fh(t)||Array.isArray(t)&&t.every(fh)||Pr(t)&&!t)return{type:n,message:fh(t)?t:"",ref:e}}var Wa=t=>xt(t)&&!wf(t)?t:{value:t,message:""},EE=async(t,e,n,r,s)=>{const{ref:i,refs:a,required:o,maxLength:l,minLength:d,min:h,max:f,pattern:p,validate:g,name:_,valueAsNumber:x,mount:b,disabled:T}=t._f,v=ne(e,_);if(!b||T)return{};const N=a?a[0]:i,j=R=>{r&&N.reportValidity&&(N.setCustomValidity(Pr(R)?"":R||""),N.reportValidity())},M={},V=r_(i),S=$u(i),w=V||S,E=(x||n_(i))&&yt(i.value)&&yt(v)||_f(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,C=MN.bind(null,_,n,M),A=(R,k,fe,he=fs.maxLength,ve=fs.minLength)=>{const Se=R?k:fe;M[_]={type:R?he:ve,message:Se,ref:i,...C(R?he:ve,Se)}};if(s?!Array.isArray(v)||!v.length:o&&(!w&&(E||dn(v))||Pr(v)&&!v||S&&!LN(a).isValid||V&&!VN(a).isValid)){const{value:R,message:k}=fh(o)?{value:!!o,message:o}:Wa(o);if(R&&(M[_]={type:fs.required,message:k,ref:N,...C(fs.required,k)},!n))return j(k),M}if(!E&&(!dn(h)||!dn(f))){let R,k;const fe=Wa(f),he=Wa(h);if(!dn(v)&&!isNaN(v)){const ve=i.valueAsNumber||v&&+v;dn(fe.value)||(R=ve>fe.value),dn(he.value)||(k=ve<he.value)}else{const ve=i.valueAsDate||new Date(v),Se=se=>new Date(new Date().toDateString()+" "+se),K=i.type=="time",H=i.type=="week";Ur(fe.value)&&v&&(R=K?Se(v)>Se(fe.value):H?v>fe.value:ve>new Date(fe.value)),Ur(he.value)&&v&&(k=K?Se(v)<Se(he.value):H?v<he.value:ve<new Date(he.value))}if((R||k)&&(A(!!R,fe.message,he.message,fs.max,fs.min),!n))return j(M[_].message),M}if((l||d)&&!E&&(Ur(v)||s&&Array.isArray(v))){const R=Wa(l),k=Wa(d),fe=!dn(R.value)&&v.length>+R.value,he=!dn(k.value)&&v.length<+k.value;if((fe||he)&&(A(fe,R.message,k.message),!n))return j(M[_].message),M}if(p&&!E&&Ur(v)){const{value:R,message:k}=Wa(p);if(wf(R)&&!v.match(R)&&(M[_]={type:fs.pattern,message:k,ref:i,...C(fs.pattern,k)},!n))return j(k),M}if(g){if(Vr(g)){const R=await g(v,e),k=bE(R,N);if(k&&(M[_]={...k,...C(fs.validate,k.message)},!n))return j(k.message),M}else if(xt(g)){let R={};for(const k in g){if(!wn(R)&&!n)break;const fe=bE(await g[k](v,e),N,k);fe&&(R={...fe,...C(k,fe.message)},j(fe.message),n&&(M[_]=R))}if(!wn(R)&&(M[_]={ref:N,...R},!n))return M}}return j(!0),M};function D$(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=yt(t)?r++:t[e[r++]];return t}function M$(t){for(const e in t)if(t.hasOwnProperty(e)&&!yt(t[e]))return!1;return!0}function kt(t,e){const n=Array.isArray(e)?e:t_(e)?[e]:DN(e),r=n.length===1?t:D$(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(xt(r)&&wn(r)||Array.isArray(r)&&M$(r))&&kt(t,n.slice(0,-1)),t}var Vp=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Cy=t=>dn(t)||!ON(t);function oi(t,e){if(Cy(t)||Cy(e))return t===e;if(la(t)&&la(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const a=e[s];if(la(i)&&la(a)||xt(i)&&xt(a)||Array.isArray(i)&&Array.isArray(a)?!oi(i,a):i!==a)return!1}}return!0}var FN=t=>t.type==="select-multiple",L$=t=>r_(t)||$u(t),Fp=t=>_f(t)&&t.isConnected,UN=t=>{for(const e in t)if(Vr(t[e]))return!0;return!1};function xf(t,e={}){const n=Array.isArray(t);if(xt(t)||n)for(const r in t)Array.isArray(t[r])||xt(t[r])&&!UN(t[r])?(e[r]=Array.isArray(t[r])?[]:{},xf(t[r],e[r])):dn(t[r])||(e[r]=!0);return e}function $N(t,e,n){const r=Array.isArray(t);if(xt(t)||r)for(const s in t)Array.isArray(t[s])||xt(t[s])&&!UN(t[s])?yt(e)||Cy(n[s])?n[s]=Array.isArray(t[s])?xf(t[s],[]):{...xf(t[s])}:$N(t[s],dn(e)?{}:e[s],n[s]):n[s]=!oi(t[s],e[s]);return n}var zl=(t,e)=>$N(t,e,xf(e)),BN=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>yt(t)?t:e?t===""?NaN:t&&+t:n&&Ur(t)?new Date(t):r?r(t):t;function Up(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return n_(e)?e.files:r_(e)?VN(t.refs).value:FN(e)?[...e.selectedOptions].map(({value:n})=>n):$u(e)?LN(t.refs).value:BN(yt(e.value)?t.ref.value:e.value,t)}var V$=(t,e,n,r)=>{const s={};for(const i of t){const a=ne(e,i);a&&Je(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},ql=t=>yt(t)?t:wf(t)?t.source:xt(t)?wf(t.value)?t.value.source:t.value:t;const TE="AsyncFunction";var F$=t=>(!t||!t.validate)&&!!(Vr(t.validate)&&t.validate.constructor.name===TE||xt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===TE)),U$=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function SE(t,e,n){const r=ne(t,n);if(r||t_(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=ne(e,i),o=ne(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};s.pop()}return{name:n}}var $$=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,B$=(t,e)=>!Cm(ne(t,e)).length&&kt(t,e);const z$={mode:fr.onSubmit,reValidateMode:fr.onChange,shouldFocusError:!0};function q$(t={}){let e={...z$,...t},n={submitCount:0,isDirty:!1,isLoading:Vr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=xt(e.defaultValues)||xt(e.values)?Yn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Yn(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Vp(),array:Vp(),state:Vp()},p=yE(e.mode),g=yE(e.reValidateMode),_=e.criteriaMode===fr.all,x=O=>L=>{clearTimeout(d),d=setTimeout(O,L)},b=async O=>{if(!e.disabled&&(h.isValid||O)){const L=e.resolver?wn((await w()).errors):await C(r,!0);L!==n.isValid&&f.state.next({isValid:L})}},T=(O,L)=>{!e.disabled&&(h.isValidating||h.validatingFields)&&((O||Array.from(o.mount)).forEach(U=>{U&&(L?Je(n.validatingFields,U,L):kt(n.validatingFields,U))}),f.state.next({validatingFields:n.validatingFields,isValidating:!wn(n.validatingFields)}))},v=(O,L=[],U,X,Q=!0,z=!0)=>{if(X&&U&&!e.disabled){if(a.action=!0,z&&Array.isArray(ne(r,O))){const ie=U(ne(r,O),X.argA,X.argB);Q&&Je(r,O,ie)}if(z&&Array.isArray(ne(n.errors,O))){const ie=U(ne(n.errors,O),X.argA,X.argB);Q&&Je(n.errors,O,ie),B$(n.errors,O)}if(h.touchedFields&&z&&Array.isArray(ne(n.touchedFields,O))){const ie=U(ne(n.touchedFields,O),X.argA,X.argB);Q&&Je(n.touchedFields,O,ie)}h.dirtyFields&&(n.dirtyFields=zl(s,i)),f.state.next({name:O,isDirty:R(O,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Je(i,O,L)},N=(O,L)=>{Je(n.errors,O,L),f.state.next({errors:n.errors})},j=O=>{n.errors=O,f.state.next({errors:n.errors,isValid:!1})},M=(O,L,U,X)=>{const Q=ne(r,O);if(Q){const z=ne(i,O,yt(U)?ne(s,O):U);yt(z)||X&&X.defaultChecked||L?Je(i,O,L?z:Up(Q._f)):he(O,z),a.mount&&b()}},V=(O,L,U,X,Q)=>{let z=!1,ie=!1;const be={name:O};if(!e.disabled){const Ae=!!(ne(r,O)&&ne(r,O)._f&&ne(r,O)._f.disabled);if(!U||X){h.isDirty&&(ie=n.isDirty,n.isDirty=be.isDirty=R(),z=ie!==be.isDirty);const Ne=Ae||oi(ne(s,O),L);ie=!!(!Ae&&ne(n.dirtyFields,O)),Ne||Ae?kt(n.dirtyFields,O):Je(n.dirtyFields,O,!0),be.dirtyFields=n.dirtyFields,z=z||h.dirtyFields&&ie!==!Ne}if(U){const Ne=ne(n.touchedFields,O);Ne||(Je(n.touchedFields,O,U),be.touchedFields=n.touchedFields,z=z||h.touchedFields&&Ne!==U)}z&&Q&&f.state.next(be)}return z?be:{}},S=(O,L,U,X)=>{const Q=ne(n.errors,O),z=h.isValid&&Pr(L)&&n.isValid!==L;if(t.delayError&&U?(l=x(()=>N(O,U)),l(t.delayError)):(clearTimeout(d),l=null,U?Je(n.errors,O,U):kt(n.errors,O)),(U?!oi(Q,U):Q)||!wn(X)||z){const ie={...X,...z&&Pr(L)?{isValid:L}:{},errors:n.errors,name:O};n={...n,...ie},f.state.next(ie)}},w=async O=>{T(O,!0);const L=await e.resolver(i,e.context,V$(O||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return T(O),L},E=async O=>{const{errors:L}=await w(O);if(O)for(const U of O){const X=ne(L,U);X?Je(n.errors,U,X):kt(n.errors,U)}else n.errors=L;return L},C=async(O,L,U={valid:!0})=>{for(const X in O){const Q=O[X];if(Q){const{_f:z,...ie}=Q;if(z){const be=o.array.has(z.name),Ae=Q._f&&F$(Q._f);Ae&&h.validatingFields&&T([X],!0);const Ne=await EE(Q,i,_,e.shouldUseNativeValidation&&!L,be);if(Ae&&h.validatingFields&&T([X]),Ne[z.name]&&(U.valid=!1,L))break;!L&&(ne(Ne,z.name)?be?O$(n.errors,Ne,z.name):Je(n.errors,z.name,Ne[z.name]):kt(n.errors,z.name))}!wn(ie)&&await C(ie,L,U)}}return U.valid},A=()=>{for(const O of o.unMount){const L=ne(r,O);L&&(L._f.refs?L._f.refs.every(U=>!Fp(U)):!Fp(L._f.ref))&&gt(O)}o.unMount=new Set},R=(O,L)=>!e.disabled&&(O&&L&&Je(i,O,L),!oi(Ie(),s)),k=(O,L,U)=>j$(O,o,{...a.mount?i:yt(L)?s:Ur(O)?{[O]:L}:L},U,L),fe=O=>Cm(ne(a.mount?i:s,O,t.shouldUnregister?ne(s,O,[]):[])),he=(O,L,U={})=>{const X=ne(r,O);let Q=L;if(X){const z=X._f;z&&(!z.disabled&&Je(i,O,BN(L,z)),Q=_f(z.ref)&&dn(L)?"":L,FN(z.ref)?[...z.ref.options].forEach(ie=>ie.selected=Q.includes(ie.value)):z.refs?$u(z.ref)?z.refs.length>1?z.refs.forEach(ie=>(!ie.defaultChecked||!ie.disabled)&&(ie.checked=Array.isArray(Q)?!!Q.find(be=>be===ie.value):Q===ie.value)):z.refs[0]&&(z.refs[0].checked=!!Q):z.refs.forEach(ie=>ie.checked=ie.value===Q):n_(z.ref)?z.ref.value="":(z.ref.value=Q,z.ref.type||f.values.next({name:O,values:{...i}})))}(U.shouldDirty||U.shouldTouch)&&V(O,Q,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&se(O)},ve=(O,L,U)=>{for(const X in L){const Q=L[X],z=`${O}.${X}`,ie=ne(r,z);(o.array.has(O)||xt(Q)||ie&&!ie._f)&&!la(Q)?ve(z,Q,U):he(z,Q,U)}},Se=(O,L,U={})=>{const X=ne(r,O),Q=o.array.has(O),z=Yn(L);Je(i,O,z),Q?(f.array.next({name:O,values:{...i}}),(h.isDirty||h.dirtyFields)&&U.shouldDirty&&f.state.next({name:O,dirtyFields:zl(s,i),isDirty:R(O,z)})):X&&!X._f&&!dn(z)?ve(O,z,U):he(O,z,U),vE(O,o)&&f.state.next({...n}),f.values.next({name:a.mount?O:void 0,values:{...i}})},K=async O=>{a.mount=!0;const L=O.target;let U=L.name,X=!0;const Q=ne(r,U),z=()=>L.type?Up(Q._f):I$(O),ie=be=>{X=Number.isNaN(be)||la(be)&&isNaN(be.getTime())||oi(be,ne(i,U,be))};if(Q){let be,Ae;const Ne=z(),yn=O.type===gE.BLUR||O.type===gE.FOCUS_OUT,$s=!U$(Q._f)&&!e.resolver&&!ne(n.errors,U)&&!Q._f.deps||$$(yn,ne(n.touchedFields,U),n.isSubmitted,g,p),kn=vE(U,o,yn);Je(i,U,Ne),yn?(Q._f.onBlur&&Q._f.onBlur(O),l&&l(0)):Q._f.onChange&&Q._f.onChange(O);const Bs=V(U,Ne,yn,!1),Qn=!wn(Bs)||kn;if(!yn&&f.values.next({name:U,type:O.type,values:{...i}}),$s)return h.isValid&&(t.mode==="onBlur"?yn&&b():b()),Qn&&f.state.next({name:U,...kn?{}:Bs});if(!yn&&kn&&f.state.next({...n}),e.resolver){const{errors:Gi}=await w([U]);if(ie(Ne),X){const La=SE(n.errors,r,U),cs=SE(Gi,r,La.name||U);be=cs.error,U=cs.name,Ae=wn(Gi)}}else T([U],!0),be=(await EE(Q,i,_,e.shouldUseNativeValidation))[U],T([U]),ie(Ne),X&&(be?Ae=!1:h.isValid&&(Ae=await C(r,!0)));X&&(Q._f.deps&&se(Q._f.deps),S(U,Ae,be,Bs))}},H=(O,L)=>{if(ne(n.errors,L)&&O.focus)return O.focus(),1},se=async(O,L={})=>{let U,X;const Q=hh(O);if(e.resolver){const z=await E(yt(O)?O:Q);U=wn(z),X=O?!Q.some(ie=>ne(z,ie)):U}else O?(X=(await Promise.all(Q.map(async z=>{const ie=ne(r,z);return await C(ie&&ie._f?{[z]:ie}:ie)}))).every(Boolean),!(!X&&!n.isValid)&&b()):X=U=await C(r);return f.state.next({...!Ur(O)||h.isValid&&U!==n.isValid?{}:{name:O},...e.resolver||!O?{isValid:U}:{},errors:n.errors}),L.shouldFocus&&!X&&Ec(r,H,O?Q:o.mount),X},Ie=O=>{const L={...a.mount?i:s};return yt(O)?L:Ur(O)?ne(L,O):O.map(U=>ne(L,U))},oe=(O,L)=>({invalid:!!ne((L||n).errors,O),isDirty:!!ne((L||n).dirtyFields,O),error:ne((L||n).errors,O),isValidating:!!ne(n.validatingFields,O),isTouched:!!ne((L||n).touchedFields,O)}),ue=O=>{O&&hh(O).forEach(L=>kt(n.errors,L)),f.state.next({errors:O?n.errors:{}})},ke=(O,L,U)=>{const X=(ne(r,O,{_f:{}})._f||{}).ref,Q=ne(n.errors,O)||{},{ref:z,message:ie,type:be,...Ae}=Q;Je(n.errors,O,{...Ae,...L,ref:X}),f.state.next({name:O,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&X&&X.focus&&X.focus()},et=(O,L)=>Vr(O)?f.values.subscribe({next:U=>O(k(void 0,L),U)}):k(O,L,!0),gt=(O,L={})=>{for(const U of O?hh(O):o.mount)o.mount.delete(U),o.array.delete(U),L.keepValue||(kt(r,U),kt(i,U)),!L.keepError&&kt(n.errors,U),!L.keepDirty&&kt(n.dirtyFields,U),!L.keepTouched&&kt(n.touchedFields,U),!L.keepIsValidating&&kt(n.validatingFields,U),!e.shouldUnregister&&!L.keepDefaultValue&&kt(s,U);f.values.next({values:{...i}}),f.state.next({...n,...L.keepDirty?{isDirty:R()}:{}}),!L.keepIsValid&&b()},Ue=({disabled:O,name:L,field:U,fields:X,value:Q})=>{if(Pr(O)&&a.mount||O){const z=O?void 0:yt(Q)?Up(U?U._f:ne(X,L)._f):Q;Je(i,L,z),V(L,z,!1,!1,!0)}},os=(O,L={})=>{let U=ne(r,O);const X=Pr(L.disabled)||Pr(e.disabled);return Je(r,O,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:O}},name:O,mount:!0,...L}}),o.mount.add(O),U?Ue({field:U,disabled:Pr(L.disabled)?L.disabled:e.disabled,name:O,value:L.value}):M(O,!0,L.value),{...X?{disabled:L.disabled||e.disabled}:{},...e.progressive?{required:!!L.required,min:ql(L.min),max:ql(L.max),minLength:ql(L.minLength),maxLength:ql(L.maxLength),pattern:ql(L.pattern)}:{},name:O,onChange:K,onBlur:K,ref:Q=>{if(Q){os(O,L),U=ne(r,O);const z=yt(Q.value)&&Q.querySelectorAll&&Q.querySelectorAll("input,select,textarea")[0]||Q,ie=L$(z),be=U._f.refs||[];if(ie?be.find(Ae=>Ae===z):z===U._f.ref)return;Je(r,O,{_f:{...U._f,...ie?{refs:[...be.filter(Fp),z,...Array.isArray(ne(s,O))?[{}]:[]],ref:{type:z.type,name:O}}:{ref:z}}}),M(O,!1,void 0,z)}else U=ne(r,O,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||L.shouldUnregister)&&!(N$(o.array,O)&&a.action)&&o.unMount.add(O)}}},Nr=()=>e.shouldFocusError&&Ec(r,H,o.mount),Kn=O=>{Pr(O)&&(f.state.next({disabled:O}),Ec(r,(L,U)=>{const X=ne(r,U);X&&(L.disabled=X._f.disabled||O,Array.isArray(X._f.refs)&&X._f.refs.forEach(Q=>{Q.disabled=X._f.disabled||O}))},0,!1))},Nn=(O,L)=>async U=>{let X;if(U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist()),e.disabled){L&&await L({...n.errors},U);return}let Q=Yn(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:z,values:ie}=await w();n.errors=z,Q=ie}else await C(r);if(kt(n.errors,"root"),wn(n.errors)){f.state.next({errors:{}});try{await O(Q,U)}catch(z){X=z}}else L&&await L({...n.errors},U),Nr(),setTimeout(Nr);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wn(n.errors)&&!X,submitCount:n.submitCount+1,errors:n.errors}),X)throw X},Hi=(O,L={})=>{ne(r,O)&&(yt(L.defaultValue)?Se(O,Yn(ne(s,O))):(Se(O,L.defaultValue),Je(s,O,Yn(L.defaultValue))),L.keepTouched||kt(n.touchedFields,O),L.keepDirty||(kt(n.dirtyFields,O),n.isDirty=L.defaultValue?R(O,Yn(ne(s,O))):R()),L.keepError||(kt(n.errors,O),h.isValid&&b()),f.state.next({...n}))},ls=(O,L={})=>{const U=O?Yn(O):s,X=Yn(U),Q=wn(O),z=Q?s:X;if(L.keepDefaultValues||(s=U),!L.keepValues){if(L.keepDirtyValues){const ie=new Set([...o.mount,...Object.keys(zl(s,i))]);for(const be of Array.from(ie))ne(n.dirtyFields,be)?Je(z,be,ne(i,be)):Se(be,ne(z,be))}else{if(e_&&yt(O))for(const ie of o.mount){const be=ne(r,ie);if(be&&be._f){const Ae=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(_f(Ae)){const Ne=Ae.closest("form");if(Ne){Ne.reset();break}}}}r={}}i=t.shouldUnregister?L.keepDefaultValues?Yn(s):{}:Yn(z),f.array.next({values:{...z}}),f.values.next({values:{...z}})}o={mount:L.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!L.keepIsValid||!!L.keepDirtyValues,a.watch=!!t.shouldUnregister,f.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:Q?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!oi(O,s)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Q?{}:L.keepDirtyValues?L.keepDefaultValues&&i?zl(s,i):n.dirtyFields:L.keepDefaultValues&&O?zl(s,O):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Fs=(O,L)=>ls(Vr(O)?O(i):O,L);return{control:{register:os,unregister:gt,getFieldState:oe,handleSubmit:Nn,setError:ke,_executeSchema:w,_getWatch:k,_getDirty:R,_updateValid:b,_removeUnmounted:A,_updateFieldArray:v,_updateDisabledField:Ue,_getFieldArray:fe,_reset:ls,_resetDefaultValues:()=>Vr(e.defaultValues)&&e.defaultValues().then(O=>{Fs(O,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:O=>{n={...n,...O}},_disableForm:Kn,_subjects:f,_proxyFormState:h,_setErrors:j,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(O){a=O},get _defaultValues(){return s},get _names(){return o},set _names(O){o=O},get _formState(){return n},set _formState(O){n=O},get _options(){return e},set _options(O){e={...e,...O}}},trigger:se,register:os,handleSubmit:Nn,watch:et,setValue:Se,getValues:Ie,reset:Fs,resetField:Hi,clearErrors:ue,unregister:gt,setError:ke,setFocus:(O,L={})=>{const U=ne(r,O),X=U&&U._f;if(X){const Q=X.refs?X.refs[0]:X.ref;Q.focus&&(Q.focus(),L.shouldSelect&&Vr(Q.select)&&Q.select())}},getFieldState:oe}}function zN(t={}){const e=F.useRef(),n=F.useRef(),[r,s]=F.useState({isDirty:!1,isValidating:!1,isLoading:Vr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Vr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...q$(t),formState:r});const i=e.current.control;return i._options=t,P$({subject:i._subjects.state,next:a=>{R$(a,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),F.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),F.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),F.useEffect(()=>{t.values&&!oi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[t.values,i]),F.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),F.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),F.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=A$(r,i),e.current}const IE=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ne(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},qN=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?IE(r.ref,n,t):r.refs&&r.refs.forEach(s=>IE(s,n,t))}},W$=(t,e)=>{e.shouldUseNativeValidation&&qN(t,e);const n={};for(const r in t){const s=ne(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(H$(e.names||Object.keys(t),r)){const a=Object.assign({},ne(n,r));Je(a,"root",i),Je(n,r,a)}else Je(n,r,i)}return n},H$=(t,e)=>t.some(n=>n.startsWith(e+"."));var G$=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var l=n[a].types,d=l&&l[r.code];n[a]=MN(a,e,n,s,d?[].concat(d,r.message):r.message)}t.shift()}return n},WN=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return i.shouldUseNativeValidation&&qN({},i),{errors:{},values:n.raw?r:d}})}catch(d){return o(d)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:W$(G$(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},Le;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Le||(Le={}));var Ny;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ny||(Ny={}));const Z=Le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),li=t=>{switch(typeof t){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return isNaN(t)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(t)?Z.array:t===null?Z.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Z.promise:typeof Map<"u"&&t instanceof Map?Z.map:typeof Set<"u"&&t instanceof Set?Z.set:typeof Date<"u"&&t instanceof Date?Z.date:Z.object;default:return Z.unknown}},G=Le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),K$=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class zn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,l=0;for(;l<a.path.length;){const d=a.path[l];l===a.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(n(a))):o[d]=o[d]||{_errors:[]},o=o[d],l++}}};return s(this),r}static assert(e){if(!(e instanceof zn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}zn.create=t=>new zn(t);const Zo=(t,e)=>{let n;switch(t.code){case G.invalid_type:t.received===Z.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case G.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Le.jsonStringifyReplacer)}`;break;case G.unrecognized_keys:n=`Unrecognized key(s) in object: ${Le.joinValues(t.keys,", ")}`;break;case G.invalid_union:n="Invalid input";break;case G.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Le.joinValues(t.options)}`;break;case G.invalid_enum_value:n=`Invalid enum value. Expected ${Le.joinValues(t.options)}, received '${t.received}'`;break;case G.invalid_arguments:n="Invalid function arguments";break;case G.invalid_return_type:n="Invalid function return type";break;case G.invalid_date:n="Invalid date";break;case G.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Le.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case G.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case G.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case G.custom:n="Invalid input";break;case G.invalid_intersection_types:n="Intersection results could not be merged";break;case G.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case G.not_finite:n="Number must be finite";break;default:n=e.defaultError,Le.assertNever(t)}return{message:n}};let HN=Zo;function Q$(t){HN=t}function bf(){return HN}const Ef=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const l=r.filter(d=>!!d).slice().reverse();for(const d of l)o=d(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}},Y$=[];function J(t,e){const n=bf(),r=Ef({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Zo?void 0:Zo].filter(s=>!!s)});t.common.issues.push(r)}class ln{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ye;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return ln.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return ye;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const ye=Object.freeze({status:"aborted"}),po=t=>({status:"dirty",value:t}),fn=t=>({status:"valid",value:t}),ky=t=>t.status==="aborted",Ay=t=>t.status==="dirty",nu=t=>t.status==="valid",ru=t=>typeof Promise<"u"&&t instanceof Promise;function Tf(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function GN(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(le||(le={}));var tc,nc;class Zr{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const CE=(t,e)=>{if(nu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new zn(t.common.issues);return this._error=n,this._error}}};function Ee(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{var l,d;const{message:h}=t;return a.code==="invalid_enum_value"?{message:h??o.defaultError}:typeof o.data>"u"?{message:(l=h??r)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(d=h??n)!==null&&d!==void 0?d:o.defaultError}},description:s}}class Ce{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return li(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:li(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ln,ctx:{common:e.parent.common,data:e.data,parsedType:li(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ru(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:li(e)},i=this._parseSync({data:e,path:s.path,parent:s});return CE(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:li(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(ru(s)?s:Promise.resolve(s));return CE(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:G.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Ir({schema:this,typeName:me.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Qr.create(this,this._def)}nullable(){return Vi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xr.create(this,this._def)}promise(){return tl.create(this,this._def)}or(e){return ou.create([this,e],this._def)}and(e){return lu.create(this,e,this._def)}transform(e){return new Ir({...Ee(this._def),schema:this,typeName:me.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new fu({...Ee(this._def),innerType:this,defaultValue:n,typeName:me.ZodDefault})}brand(){return new s_({typeName:me.ZodBranded,type:this,...Ee(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new mu({...Ee(this._def),innerType:this,catchValue:n,typeName:me.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Bu.create(this,e)}readonly(){return pu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const X$=/^c[^\s-]{8,}$/i,J$=/^[0-9a-z]+$/,Z$=/^[0-9A-HJKMNP-TV-Z]{26}$/,e9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,t9=/^[a-z0-9_-]{21}$/i,n9=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,r9=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,s9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $p;const i9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,a9=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,o9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,KN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",l9=new RegExp(`^${KN}$`);function QN(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function c9(t){return new RegExp(`^${QN(t)}$`)}function YN(t){let e=`${KN}T${QN(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function u9(t,e){return!!((e==="v4"||!e)&&i9.test(t)||(e==="v6"||!e)&&a9.test(t))}class pr extends Ce{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Z.string){const i=this._getOrReturnCtx(e);return J(i,{code:G.invalid_type,expected:Z.string,received:i.parsedType}),ye}const r=new ln;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:G.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:G.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?J(s,{code:G.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&J(s,{code:G.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")r9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"email",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")$p||($p=new RegExp(s9,"u")),$p.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"emoji",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")e9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"uuid",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")t9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"nanoid",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")X$.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"cuid",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")J$.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"cuid2",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Z$.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"ulid",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),J(s,{validation:"url",code:G.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"regex",code:G.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),J(s,{code:G.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),J(s,{code:G.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),J(s,{code:G.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?YN(i).test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:G.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?l9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:G.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?c9(i).test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:G.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?n9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"duration",code:G.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?u9(e.data,i.version)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"ip",code:G.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?o9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"base64",code:G.invalid_string,message:i.message}),r.dirty()):Le.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:G.invalid_string,...le.errToObj(r)})}_addCheck(e){return new pr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...le.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...le.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...le.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...le.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...le.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...le.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...le.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...le.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...le.errToObj(n)})}nonempty(e){return this.min(1,le.errToObj(e))}trim(){return new pr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}pr.create=t=>{var e;return new pr({checks:[],typeName:me.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ee(t)})};function d9(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class Di extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Z.number){const i=this._getOrReturnCtx(e);return J(i,{code:G.invalid_type,expected:Z.number,received:i.parsedType}),ye}let r;const s=new ln;for(const i of this._def.checks)i.kind==="int"?Le.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:G.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:G.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:G.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?d9(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),J(r,{code:G.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:G.not_finite,message:i.message}),s.dirty()):Le.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,le.toString(n))}setLimit(e,n,r,s){return new Di({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:le.toString(s)}]})}_addCheck(e){return new Di({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:le.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:le.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Le.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Di.create=t=>new Di({checks:[],typeName:me.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ee(t)});class Mi extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Z.bigint){const i=this._getOrReturnCtx(e);return J(i,{code:G.invalid_type,expected:Z.bigint,received:i.parsedType}),ye}let r;const s=new ln;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:G.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:G.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),J(r,{code:G.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Le.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,le.toString(n))}setLimit(e,n,r,s){return new Mi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:le.toString(s)}]})}_addCheck(e){return new Mi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:le.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Mi.create=t=>{var e;return new Mi({checks:[],typeName:me.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ee(t)})};class su extends Ce{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Z.boolean){const r=this._getOrReturnCtx(e);return J(r,{code:G.invalid_type,expected:Z.boolean,received:r.parsedType}),ye}return fn(e.data)}}su.create=t=>new su({typeName:me.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ee(t)});class Ca extends Ce{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Z.date){const i=this._getOrReturnCtx(e);return J(i,{code:G.invalid_type,expected:Z.date,received:i.parsedType}),ye}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return J(i,{code:G.invalid_date}),ye}const r=new ln;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:G.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:G.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Le.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ca({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:le.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:le.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ca.create=t=>new Ca({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:me.ZodDate,...Ee(t)});class Sf extends Ce{_parse(e){if(this._getType(e)!==Z.symbol){const r=this._getOrReturnCtx(e);return J(r,{code:G.invalid_type,expected:Z.symbol,received:r.parsedType}),ye}return fn(e.data)}}Sf.create=t=>new Sf({typeName:me.ZodSymbol,...Ee(t)});class iu extends Ce{_parse(e){if(this._getType(e)!==Z.undefined){const r=this._getOrReturnCtx(e);return J(r,{code:G.invalid_type,expected:Z.undefined,received:r.parsedType}),ye}return fn(e.data)}}iu.create=t=>new iu({typeName:me.ZodUndefined,...Ee(t)});class au extends Ce{_parse(e){if(this._getType(e)!==Z.null){const r=this._getOrReturnCtx(e);return J(r,{code:G.invalid_type,expected:Z.null,received:r.parsedType}),ye}return fn(e.data)}}au.create=t=>new au({typeName:me.ZodNull,...Ee(t)});class el extends Ce{constructor(){super(...arguments),this._any=!0}_parse(e){return fn(e.data)}}el.create=t=>new el({typeName:me.ZodAny,...Ee(t)});class fa extends Ce{constructor(){super(...arguments),this._unknown=!0}_parse(e){return fn(e.data)}}fa.create=t=>new fa({typeName:me.ZodUnknown,...Ee(t)});class Ms extends Ce{_parse(e){const n=this._getOrReturnCtx(e);return J(n,{code:G.invalid_type,expected:Z.never,received:n.parsedType}),ye}}Ms.create=t=>new Ms({typeName:me.ZodNever,...Ee(t)});class If extends Ce{_parse(e){if(this._getType(e)!==Z.undefined){const r=this._getOrReturnCtx(e);return J(r,{code:G.invalid_type,expected:Z.void,received:r.parsedType}),ye}return fn(e.data)}}If.create=t=>new If({typeName:me.ZodVoid,...Ee(t)});class xr extends Ce{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Z.array)return J(n,{code:G.invalid_type,expected:Z.array,received:n.parsedType}),ye;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(a||o)&&(J(n,{code:a?G.too_big:G.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(J(n,{code:G.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(J(n,{code:G.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>s.type._parseAsync(new Zr(n,a,n.path,o)))).then(a=>ln.mergeArray(r,a));const i=[...n.data].map((a,o)=>s.type._parseSync(new Zr(n,a,n.path,o)));return ln.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new xr({...this._def,minLength:{value:e,message:le.toString(n)}})}max(e,n){return new xr({...this._def,maxLength:{value:e,message:le.toString(n)}})}length(e,n){return new xr({...this._def,exactLength:{value:e,message:le.toString(n)}})}nonempty(e){return this.min(1,e)}}xr.create=(t,e)=>new xr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:me.ZodArray,...Ee(e)});function Ja(t){if(t instanceof ct){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Qr.create(Ja(r))}return new ct({...t._def,shape:()=>e})}else return t instanceof xr?new xr({...t._def,type:Ja(t.element)}):t instanceof Qr?Qr.create(Ja(t.unwrap())):t instanceof Vi?Vi.create(Ja(t.unwrap())):t instanceof es?es.create(t.items.map(e=>Ja(e))):t}class ct extends Ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Le.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Z.object){const d=this._getOrReturnCtx(e);return J(d,{code:G.invalid_type,expected:Z.object,received:d.parsedType}),ye}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ms&&this._def.unknownKeys==="strip"))for(const d in s.data)a.includes(d)||o.push(d);const l=[];for(const d of a){const h=i[d],f=s.data[d];l.push({key:{status:"valid",value:d},value:h._parse(new Zr(s,f,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Ms){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of o)l.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(d==="strict")o.length>0&&(J(s,{code:G.unrecognized_keys,keys:o}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of o){const f=s.data[h];l.push({key:{status:"valid",value:h},value:d._parse(new Zr(s,f,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of l){const f=await h.key,p=await h.value;d.push({key:f,value:p,alwaysSet:h.alwaysSet})}return d}).then(d=>ln.mergeObjectSync(r,d)):ln.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return le.errToObj,new ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,a,o;const l=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=le.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new ct({...this._def,unknownKeys:"strip"})}passthrough(){return new ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:me.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ct({...this._def,catchall:e})}pick(e){const n={};return Le.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ct({...this._def,shape:()=>n})}omit(e){const n={};return Le.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ct({...this._def,shape:()=>n})}deepPartial(){return Ja(this)}partial(e){const n={};return Le.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new ct({...this._def,shape:()=>n})}required(e){const n={};return Le.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Qr;)i=i._def.innerType;n[r]=i}}),new ct({...this._def,shape:()=>n})}keyof(){return XN(Le.objectKeys(this.shape))}}ct.create=(t,e)=>new ct({shape:()=>t,unknownKeys:"strip",catchall:Ms.create(),typeName:me.ZodObject,...Ee(e)});ct.strictCreate=(t,e)=>new ct({shape:()=>t,unknownKeys:"strict",catchall:Ms.create(),typeName:me.ZodObject,...Ee(e)});ct.lazycreate=(t,e)=>new ct({shape:t,unknownKeys:"strip",catchall:Ms.create(),typeName:me.ZodObject,...Ee(e)});class ou extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new zn(o.ctx.common.issues));return J(n,{code:G.invalid_union,unionErrors:a}),ye}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const l of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=l._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(l=>new zn(l));return J(n,{code:G.invalid_union,unionErrors:o}),ye}}get options(){return this._def.options}}ou.create=(t,e)=>new ou({options:t,typeName:me.ZodUnion,...Ee(e)});const ps=t=>t instanceof uu?ps(t.schema):t instanceof Ir?ps(t.innerType()):t instanceof du?[t.value]:t instanceof Li?t.options:t instanceof hu?Le.objectValues(t.enum):t instanceof fu?ps(t._def.innerType):t instanceof iu?[void 0]:t instanceof au?[null]:t instanceof Qr?[void 0,...ps(t.unwrap())]:t instanceof Vi?[null,...ps(t.unwrap())]:t instanceof s_||t instanceof pu?ps(t.unwrap()):t instanceof mu?ps(t._def.innerType):[];class Nm extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.object)return J(n,{code:G.invalid_type,expected:Z.object,received:n.parsedType}),ye;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(J(n,{code:G.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ye)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const a=ps(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new Nm({typeName:me.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ee(r)})}}function Ry(t,e){const n=li(t),r=li(e);if(t===e)return{valid:!0,data:t};if(n===Z.object&&r===Z.object){const s=Le.objectKeys(e),i=Le.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const l=Ry(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(n===Z.array&&r===Z.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],l=Ry(a,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===Z.date&&r===Z.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class lu extends Ce{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(ky(i)||ky(a))return ye;const o=Ry(i.value,a.value);return o.valid?((Ay(i)||Ay(a))&&n.dirty(),{status:n.value,value:o.data}):(J(r,{code:G.invalid_intersection_types}),ye)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}lu.create=(t,e,n)=>new lu({left:t,right:e,typeName:me.ZodIntersection,...Ee(n)});class es extends Ce{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.array)return J(r,{code:G.invalid_type,expected:Z.array,received:r.parsedType}),ye;if(r.data.length<this._def.items.length)return J(r,{code:G.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ye;!this._def.rest&&r.data.length>this._def.items.length&&(J(r,{code:G.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Zr(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>ln.mergeArray(n,a)):ln.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new es({...this._def,rest:e})}}es.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new es({items:t,typeName:me.ZodTuple,rest:null,...Ee(e)})};class cu extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.object)return J(r,{code:G.invalid_type,expected:Z.object,received:r.parsedType}),ye;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in r.data)s.push({key:i._parse(new Zr(r,o,r.path,o)),value:a._parse(new Zr(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?ln.mergeObjectAsync(n,s):ln.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ce?new cu({keyType:e,valueType:n,typeName:me.ZodRecord,...Ee(r)}):new cu({keyType:pr.create(),valueType:e,typeName:me.ZodRecord,...Ee(n)})}}class Cf extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.map)return J(r,{code:G.invalid_type,expected:Z.map,received:r.parsedType}),ye;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([o,l],d)=>({key:s._parse(new Zr(r,o,r.path,[d,"key"])),value:i._parse(new Zr(r,l,r.path,[d,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const d=await l.key,h=await l.value;if(d.status==="aborted"||h.status==="aborted")return ye;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),o.set(d.value,h.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of a){const d=l.key,h=l.value;if(d.status==="aborted"||h.status==="aborted")return ye;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),o.set(d.value,h.value)}return{status:n.value,value:o}}}}Cf.create=(t,e,n)=>new Cf({valueType:e,keyType:t,typeName:me.ZodMap,...Ee(n)});class Na extends Ce{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.set)return J(r,{code:G.invalid_type,expected:Z.set,received:r.parsedType}),ye;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(J(r,{code:G.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(J(r,{code:G.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(l){const d=new Set;for(const h of l){if(h.status==="aborted")return ye;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const o=[...r.data.values()].map((l,d)=>i._parse(new Zr(r,l,r.path,d)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,n){return new Na({...this._def,minSize:{value:e,message:le.toString(n)}})}max(e,n){return new Na({...this._def,maxSize:{value:e,message:le.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Na.create=(t,e)=>new Na({valueType:t,minSize:null,maxSize:null,typeName:me.ZodSet,...Ee(e)});class Ro extends Ce{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.function)return J(n,{code:G.invalid_type,expected:Z.function,received:n.parsedType}),ye;function r(o,l){return Ef({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,bf(),Zo].filter(d=>!!d),issueData:{code:G.invalid_arguments,argumentsError:l}})}function s(o,l){return Ef({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,bf(),Zo].filter(d=>!!d),issueData:{code:G.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof tl){const o=this;return fn(async function(...l){const d=new zn([]),h=await o._def.args.parseAsync(l,i).catch(g=>{throw d.addIssue(r(l,g)),d}),f=await Reflect.apply(a,this,h);return await o._def.returns._def.type.parseAsync(f,i).catch(g=>{throw d.addIssue(s(f,g)),d})})}else{const o=this;return fn(function(...l){const d=o._def.args.safeParse(l,i);if(!d.success)throw new zn([r(l,d.error)]);const h=Reflect.apply(a,this,d.data),f=o._def.returns.safeParse(h,i);if(!f.success)throw new zn([s(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ro({...this._def,args:es.create(e).rest(fa.create())})}returns(e){return new Ro({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ro({args:e||es.create([]).rest(fa.create()),returns:n||fa.create(),typeName:me.ZodFunction,...Ee(r)})}}class uu extends Ce{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}uu.create=(t,e)=>new uu({getter:t,typeName:me.ZodLazy,...Ee(e)});class du extends Ce{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return J(n,{received:n.data,code:G.invalid_literal,expected:this._def.value}),ye}return{status:"valid",value:e.data}}get value(){return this._def.value}}du.create=(t,e)=>new du({value:t,typeName:me.ZodLiteral,...Ee(e)});function XN(t,e){return new Li({values:t,typeName:me.ZodEnum,...Ee(e)})}class Li extends Ce{constructor(){super(...arguments),tc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{expected:Le.joinValues(r),received:n.parsedType,code:G.invalid_type}),ye}if(Tf(this,tc)||GN(this,tc,new Set(this._def.values)),!Tf(this,tc).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{received:n.data,code:G.invalid_enum_value,options:r}),ye}return fn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Li.create(e,{...this._def,...n})}exclude(e,n=this._def){return Li.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}tc=new WeakMap;Li.create=XN;class hu extends Ce{constructor(){super(...arguments),nc.set(this,void 0)}_parse(e){const n=Le.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Z.string&&r.parsedType!==Z.number){const s=Le.objectValues(n);return J(r,{expected:Le.joinValues(s),received:r.parsedType,code:G.invalid_type}),ye}if(Tf(this,nc)||GN(this,nc,new Set(Le.getValidEnumValues(this._def.values))),!Tf(this,nc).has(e.data)){const s=Le.objectValues(n);return J(r,{received:r.data,code:G.invalid_enum_value,options:s}),ye}return fn(e.data)}get enum(){return this._def.values}}nc=new WeakMap;hu.create=(t,e)=>new hu({values:t,typeName:me.ZodNativeEnum,...Ee(e)});class tl extends Ce{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.promise&&n.common.async===!1)return J(n,{code:G.invalid_type,expected:Z.promise,received:n.parsedType}),ye;const r=n.parsedType===Z.promise?n.data:Promise.resolve(n.data);return fn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}tl.create=(t,e)=>new tl({type:t,typeName:me.ZodPromise,...Ee(e)});class Ir extends Ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{J(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return ye;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?ye:l.status==="dirty"||n.value==="dirty"?po(l.value):l});{if(n.value==="aborted")return ye;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?ye:o.status==="dirty"||n.value==="dirty"?po(o.value):o}}if(s.type==="refinement"){const a=o=>{const l=s.refinement(o,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ye:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?ye:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!nu(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>nu(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:n.value,value:o})):a);Le.assertNever(s)}}Ir.create=(t,e,n)=>new Ir({schema:t,typeName:me.ZodEffects,effect:e,...Ee(n)});Ir.createWithPreprocess=(t,e,n)=>new Ir({schema:e,effect:{type:"preprocess",transform:t},typeName:me.ZodEffects,...Ee(n)});class Qr extends Ce{_parse(e){return this._getType(e)===Z.undefined?fn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qr.create=(t,e)=>new Qr({innerType:t,typeName:me.ZodOptional,...Ee(e)});class Vi extends Ce{_parse(e){return this._getType(e)===Z.null?fn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vi.create=(t,e)=>new Vi({innerType:t,typeName:me.ZodNullable,...Ee(e)});class fu extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Z.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}fu.create=(t,e)=>new fu({innerType:t,typeName:me.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ee(e)});class mu extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ru(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new zn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new zn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}mu.create=(t,e)=>new mu({innerType:t,typeName:me.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ee(e)});class Nf extends Ce{_parse(e){if(this._getType(e)!==Z.nan){const r=this._getOrReturnCtx(e);return J(r,{code:G.invalid_type,expected:Z.nan,received:r.parsedType}),ye}return{status:"valid",value:e.data}}}Nf.create=t=>new Nf({typeName:me.ZodNaN,...Ee(t)});const h9=Symbol("zod_brand");class s_ extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Bu extends Ce{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ye:i.status==="dirty"?(n.dirty(),po(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ye:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Bu({in:e,out:n,typeName:me.ZodPipeline})}}class pu extends Ce{_parse(e){const n=this._def.innerType._parse(e),r=s=>(nu(s)&&(s.value=Object.freeze(s.value)),s);return ru(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}pu.create=(t,e)=>new pu({innerType:t,typeName:me.ZodReadonly,...Ee(e)});function JN(t,e={},n){return t?el.create().superRefine((r,s)=>{var i,a;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(a=(i=o.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0,d=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...d,fatal:l})}}):el.create()}const f9={object:ct.lazycreate};var me;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(me||(me={}));const m9=(t,e={message:`Input not instance of ${t.name}`})=>JN(n=>n instanceof t,e),ZN=pr.create,ek=Di.create,p9=Nf.create,g9=Mi.create,tk=su.create,y9=Ca.create,v9=Sf.create,_9=iu.create,w9=au.create,x9=el.create,b9=fa.create,E9=Ms.create,T9=If.create,S9=xr.create,I9=ct.create,C9=ct.strictCreate,N9=ou.create,k9=Nm.create,A9=lu.create,R9=es.create,P9=cu.create,j9=Cf.create,O9=Na.create,D9=Ro.create,M9=uu.create,L9=du.create,V9=Li.create,F9=hu.create,U9=tl.create,NE=Ir.create,$9=Qr.create,B9=Vi.create,z9=Ir.createWithPreprocess,q9=Bu.create,W9=()=>ZN().optional(),H9=()=>ek().optional(),G9=()=>tk().optional(),K9={string:t=>pr.create({...t,coerce:!0}),number:t=>Di.create({...t,coerce:!0}),boolean:t=>su.create({...t,coerce:!0}),bigint:t=>Mi.create({...t,coerce:!0}),date:t=>Ca.create({...t,coerce:!0})},Q9=ye;var Mn=Object.freeze({__proto__:null,defaultErrorMap:Zo,setErrorMap:Q$,getErrorMap:bf,makeIssue:Ef,EMPTY_PATH:Y$,addIssueToContext:J,ParseStatus:ln,INVALID:ye,DIRTY:po,OK:fn,isAborted:ky,isDirty:Ay,isValid:nu,isAsync:ru,get util(){return Le},get objectUtil(){return Ny},ZodParsedType:Z,getParsedType:li,ZodType:Ce,datetimeRegex:YN,ZodString:pr,ZodNumber:Di,ZodBigInt:Mi,ZodBoolean:su,ZodDate:Ca,ZodSymbol:Sf,ZodUndefined:iu,ZodNull:au,ZodAny:el,ZodUnknown:fa,ZodNever:Ms,ZodVoid:If,ZodArray:xr,ZodObject:ct,ZodUnion:ou,ZodDiscriminatedUnion:Nm,ZodIntersection:lu,ZodTuple:es,ZodRecord:cu,ZodMap:Cf,ZodSet:Na,ZodFunction:Ro,ZodLazy:uu,ZodLiteral:du,ZodEnum:Li,ZodNativeEnum:hu,ZodPromise:tl,ZodEffects:Ir,ZodTransformer:Ir,ZodOptional:Qr,ZodNullable:Vi,ZodDefault:fu,ZodCatch:mu,ZodNaN:Nf,BRAND:h9,ZodBranded:s_,ZodPipeline:Bu,ZodReadonly:pu,custom:JN,Schema:Ce,ZodSchema:Ce,late:f9,get ZodFirstPartyTypeKind(){return me},coerce:K9,any:x9,array:S9,bigint:g9,boolean:tk,date:y9,discriminatedUnion:k9,effect:NE,enum:V9,function:D9,instanceof:m9,intersection:A9,lazy:M9,literal:L9,map:j9,nan:p9,nativeEnum:F9,never:E9,null:w9,nullable:B9,number:ek,object:I9,oboolean:G9,onumber:H9,optional:$9,ostring:W9,pipeline:q9,preprocess:z9,promise:U9,record:P9,set:O9,strictObject:C9,string:ZN,symbol:v9,transformer:NE,tuple:R9,undefined:_9,union:N9,unknown:b9,void:T9,NEVER:Q9,ZodIssueCode:G,quotelessJson:K$,ZodError:zn});const Y9=Mn.object({name:Mn.string().min(3,"Nome completo é obrigatório"),email:Mn.string().email("E-mail inválido"),password:Mn.string().min(8,"Senha deve ter no mínimo 8 caracteres"),confirmPassword:Mn.string(),role:Mn.enum(["client","caregiver"],{required_error:"Selecione um tipo de conta"})}).refine(t=>t.password===t.confirmPassword,{message:"Senhas não conferem",path:["confirmPassword"]});function X9({onSubmit:t}){const[e,n]=F.useState(!1),{register:r,handleSubmit:s,formState:{errors:i}}=zN({resolver:WN(Y9)}),a=async o=>{n(!0);try{await t(o),ee.success("Conta criada com sucesso!")}catch(l){ee.error(l.code==="auth/email-already-in-use"?"Este e-mail já está em uso":"Erro ao criar conta. Tente novamente.")}finally{n(!1)}};return c.jsxs("form",{onSubmit:s(a),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome Completo"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Jf,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"name",type:"text",...r("name"),className:"input-primary pl-10",placeholder:"Seu nome completo"})]}),i.name&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Ln,{className:"h-4 w-4 mr-1"}),i.name.message]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"E-mail"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(zo,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"email",type:"email",...r("email"),className:"input-primary pl-10",placeholder:"seu@email.com"})]}),i.email&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Ln,{className:"h-4 w-4 mr-1"}),i.email.message]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Kg,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"password",type:"password",...r("password"),className:"input-primary pl-10",placeholder:"********"})]}),i.password&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Ln,{className:"h-4 w-4 mr-1"}),i.password.message]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmar Senha"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Kg,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"confirmPassword",type:"password",...r("confirmPassword"),className:"input-primary pl-10",placeholder:"********"})]}),i.confirmPassword&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Ln,{className:"h-4 w-4 mr-1"}),i.confirmPassword.message]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de Conta"}),c.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4",children:[c.jsxs("label",{className:"relative flex cursor-pointer rounded-lg border bg-white p-4 shadow-sm focus:outline-none hover:border-indigo-500",children:[c.jsx("input",{type:"radio",value:"client",...r("role"),className:"sr-only peer"}),c.jsx("span",{className:"flex flex-1",children:c.jsxs("span",{className:"flex flex-col",children:[c.jsx("span",{className:"block text-sm font-medium text-gray-900 peer-checked:text-indigo-600",children:"Cliente"}),c.jsx("span",{className:"mt-1 flex items-center text-sm text-gray-500 peer-checked:text-indigo-600",children:"Procuro um cuidador"})]})}),c.jsx("span",{className:"pointer-events-none absolute -inset-px rounded-lg border-2 peer-checked:border-indigo-600","aria-hidden":"true"})]}),c.jsxs("label",{className:"relative flex cursor-pointer rounded-lg border bg-white p-4 shadow-sm focus:outline-none hover:border-indigo-500",children:[c.jsx("input",{type:"radio",value:"caregiver",...r("role"),className:"sr-only peer"}),c.jsx("span",{className:"flex flex-1",children:c.jsxs("span",{className:"flex flex-col",children:[c.jsx("span",{className:"block text-sm font-medium text-gray-900 peer-checked:text-indigo-600",children:"Cuidador"}),c.jsx("span",{className:"mt-1 flex items-center text-sm text-gray-500 peer-checked:text-indigo-600",children:"Ofereço serviços"})]})}),c.jsx("span",{className:"pointer-events-none absolute -inset-px rounded-lg border-2 peer-checked:border-indigo-600","aria-hidden":"true"})]})]}),i.role&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Ln,{className:"h-4 w-4 mr-1"}),i.role.message]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:e,className:`w-full btn-primary ${e?"opacity-75 cursor-not-allowed":""}`,children:e?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"w-5 h-5 border-t-2 border-b-2 border-white rounded-full animate-spin"}),c.jsx("span",{className:"ml-2",children:"Criando conta..."})]}):"Criar Conta"})}),c.jsx("div",{className:"text-center",children:c.jsxs("span",{className:"text-sm text-gray-600",children:["Já tem uma conta?"," ",c.jsx(or,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Entrar"})]})})]})}function J9(){const t=ns(),{signUp:e}=Gn(),n=async r=>{try{await e(r.email,r.password,r.name,r.role),t("/dashboard")}catch(s){throw console.error("Registration error:",s),s}};return c.jsx(Z0,{title:"Criar Conta",subtitle:"Junte-se à nossa comunidade de cuidados",children:c.jsx(X9,{onSubmit:n})})}function Z9(){const[t,e]=F.useState(""),[n,r]=F.useState(!1),s=i=>{i.preventDefault(),r(!0)};return n?c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"rounded-md bg-green-50 p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(zo,{className:"h-5 w-5 text-green-400"})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-green-800",children:"E-mail enviado com sucesso!"}),c.jsx("div",{className:"mt-2 text-sm text-green-700",children:c.jsx("p",{children:"Verifique sua caixa de entrada para instruções sobre como redefinir sua senha."})})]})]})}),c.jsx("button",{onClick:()=>r(!1),className:"mt-4 text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Tentar outro e-mail"})]}):c.jsxs("form",{className:"space-y-6",onSubmit:s,children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"E-mail"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(zo,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:i=>e(i.target.value),className:"input-primary pl-10",placeholder:"seu@email.com"})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",className:"w-full btn-primary",children:"Enviar Link de Recuperação"})}),c.jsx("div",{className:"text-center",children:c.jsx("a",{href:"#",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Voltar para o login"})})]})}function eB(){return c.jsx(Z0,{title:"Recuperar Senha",subtitle:"Enviaremos um link para redefinir sua senha",children:c.jsx(Z9,{})})}const tB=Mn.object({name:Mn.string().min(3,"Nome completo é obrigatório"),email:Mn.string().email("E-mail inválido"),phone:Mn.string().min(10,"Telefone é obrigatório"),company:Mn.string().optional(),message:Mn.string().min(10,"Mensagem é obrigatória"),plan:Mn.string()});function nB({isOpen:t,onClose:e,selectedPlan:n}){const[r,s]=F.useState(!1),{register:i,handleSubmit:a,formState:{errors:o},reset:l}=zN({resolver:WN(tB),defaultValues:{plan:n}}),d=async h=>{s(!0);try{await new Promise(f=>setTimeout(f,1e3)),console.log("Contact form data:",h),ee.success("Mensagem enviada com sucesso! Em breve entraremos em contato."),l(),e()}catch{ee.error("Erro ao enviar mensagem. Tente novamente.")}finally{s(!1)}};return t?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),c.jsxs("div",{className:"relative bg-white rounded-lg max-w-md w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Falar com Vendas"}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:c.jsx(Tu,{className:"h-6 w-6"})})]}),c.jsxs("form",{onSubmit:a(d),className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome Completo"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Jf,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",...i("name"),className:"input-primary pl-10",placeholder:"Seu nome completo"})]}),o.name&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Ln,{className:"h-4 w-4 mr-1"}),o.name.message]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"E-mail"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(zo,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"email",...i("email"),className:"input-primary pl-10",placeholder:"seu@email.com"})]}),o.email&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Ln,{className:"h-4 w-4 mr-1"}),o.email.message]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telefone"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(_S,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"tel",...i("phone"),className:"input-primary pl-10",placeholder:"(00) 00000-0000"})]}),o.phone&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Ln,{className:"h-4 w-4 mr-1"}),o.phone.message]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Empresa (opcional)"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Lj,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",...i("company"),className:"input-primary pl-10",placeholder:"Nome da sua empresa"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mensagem"}),c.jsx("textarea",{...i("message"),rows:4,className:"mt-1 input-primary",placeholder:"Como podemos ajudar?"}),o.message&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Ln,{className:"h-4 w-4 mr-1"}),o.message.message]})]}),c.jsx("input",{type:"hidden",...i("plan")}),c.jsx("div",{className:"pt-4",children:c.jsx("button",{type:"submit",disabled:r,className:"w-full btn-primary",children:r?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"w-5 h-5 border-t-2 border-b-2 border-white rounded-full animate-spin"}),c.jsx("span",{className:"ml-2",children:"Enviando..."})]}):"Enviar Mensagem"})})]})]})]})}):null}const rB=[{name:"Básico",price:"R$ 99",period:"/mês",description:"Ideal para cuidadores iniciantes",features:[{name:"Perfil profissional personalizado",included:!0},{name:"Até 5 agendamentos por mês",included:!0},{name:"Suporte por email",included:!0},{name:"Notificações básicas",included:!0},{name:"Avaliações de clientes",included:!0},{name:"Relatórios mensais",included:!1},{name:"Prioridade nas buscas",included:!1},{name:"Suporte prioritário 24/7",included:!1}],cta:"Começar Grátis",popular:!1},{name:"Profissional",price:"R$ 199",period:"/mês",description:"Para cuidadores que querem crescer",features:[{name:"Perfil profissional personalizado",included:!0},{name:"Agendamentos ilimitados",included:!0},{name:"Suporte por email e chat",included:!0},{name:"Notificações avançadas",included:!0},{name:"Avaliações de clientes",included:!0},{name:"Relatórios mensais",included:!0},{name:"Prioridade nas buscas",included:!0},{name:"Suporte prioritário 24/7",included:!1}],cta:"Começar Agora",popular:!0},{name:"Premium",price:"R$ 299",period:"/mês",description:"Para profissionais estabelecidos",features:[{name:"Perfil profissional personalizado",included:!0},{name:"Agendamentos ilimitados",included:!0},{name:"Suporte completo multicanal",included:!0},{name:"Notificações premium",included:!0},{name:"Avaliações de clientes destacadas",included:!0},{name:"Relatórios detalhados em tempo real",included:!0},{name:"Prioridade máxima nas buscas",included:!0},{name:"Suporte prioritário 24/7",included:!0}],cta:"Contatar Vendas",popular:!1}],sB=[{question:"Posso mudar de plano a qualquer momento?",answer:"Sim, você pode atualizar ou fazer downgrade do seu plano a qualquer momento. As alterações serão refletidas no próximo ciclo de faturamento."},{question:"Existe período mínimo de contrato?",answer:"Não, todos os nossos planos são mensais e você pode cancelar quando quiser sem multa ou taxas adicionais."},{question:"Como funciona o período de teste?",answer:"Oferecemos 14 dias de teste gratuito em todos os planos. Você pode experimentar todos os recursos sem compromisso."},{question:"Quais formas de pagamento são aceitas?",answer:"Aceitamos todas as principais bandeiras de cartão de crédito, boleto bancário e PIX."}];function iB(){const[t,e]=F.useState(!1),[n,r]=F.useState(""),s=(i,a)=>{a==="Contatar Vendas"?(r(i),e(!0)):console.log("Selected plan:",i)};return c.jsxs("div",{className:"bg-gray-50 py-16",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Planos para todos os perfis"}),c.jsx("p",{className:"text-xl text-gray-600",children:"Escolha o plano ideal para expandir seus atendimentos e crescer profissionalmente"})]}),c.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:rB.map(i=>c.jsxs("div",{className:`relative bg-white rounded-2xl shadow-lg overflow-hidden ${i.popular?"ring-2 ring-indigo-600 scale-105":""}`,children:[i.popular&&c.jsx("div",{className:"absolute top-0 right-0 bg-indigo-600 text-white px-4 py-1 text-sm font-medium",children:"Mais Popular"}),c.jsxs("div",{className:"p-8",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:i.name}),c.jsx("p",{className:"text-gray-600 mb-6",children:i.description}),c.jsxs("div",{className:"flex items-baseline mb-8",children:[c.jsx("span",{className:"text-4xl font-bold text-gray-900",children:i.price}),c.jsx("span",{className:"text-gray-600 ml-1",children:i.period})]}),c.jsx("ul",{className:"space-y-4 mb-8",children:i.features.map(a=>c.jsxs("li",{className:"flex items-start",children:[a.included?c.jsx(Uj,{className:"h-5 w-5 text-green-500 shrink-0 mr-2"}):c.jsx(Tu,{className:"h-5 w-5 text-gray-300 shrink-0 mr-2"}),c.jsx("span",{className:a.included?"text-gray-900":"text-gray-500",children:a.name})]},a.name))}),c.jsx("button",{onClick:()=>s(i.name,i.cta),className:`w-full py-3 px-4 rounded-lg font-medium ${i.popular?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:i.cta})]})]},i.name))}),c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Perguntas Frequentes"}),c.jsx("div",{className:"space-y-8",children:sB.map(i=>c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i.question}),c.jsx("p",{className:"text-gray-600",children:i.answer})]},i.question))})]}),c.jsxs("div",{className:"text-center mt-16 bg-indigo-600 rounded-2xl p-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Pronto para começar?"}),c.jsx("p",{className:"text-indigo-100 mb-8 max-w-2xl mx-auto",children:"Junte-se a milhares de profissionais que já estão transformando suas carreiras com o CareConnect"}),c.jsxs("div",{className:"flex justify-center space-x-4",children:[c.jsx("button",{className:"px-8 py-3 bg-white text-indigo-600 rounded-lg font-semibold hover:bg-indigo-50 transition-colors",children:"Criar Conta Grátis"}),c.jsx("button",{onClick:()=>{r("Personalizado"),e(!0)},className:"px-8 py-3 border-2 border-white text-white rounded-lg font-semibold hover:bg-indigo-700 transition-colors",children:"Falar com Consultor"})]})]})]}),c.jsx(nB,{isOpen:t,onClose:()=>e(!1),selectedPlan:n})]})}const Py="RFC3986",jy={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},aB="RFC1738",oB=Array.isArray,Ar=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Bp=1024,lB=(t,e,n,r,s)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<i.length;o+=Bp){const l=i.length>=Bp?i.slice(o,o+Bp):i,d=[];for(let h=0;h<l.length;++h){let f=l.charCodeAt(h);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===aB&&(f===40||f===41)){d[d.length]=l.charAt(h);continue}if(f<128){d[d.length]=Ar[f];continue}if(f<2048){d[d.length]=Ar[192|f>>6]+Ar[128|f&63];continue}if(f<55296||f>=57344){d[d.length]=Ar[224|f>>12]+Ar[128|f>>6&63]+Ar[128|f&63];continue}h+=1,f=65536+((f&1023)<<10|l.charCodeAt(h)&1023),d[d.length]=Ar[240|f>>18]+Ar[128|f>>12&63]+Ar[128|f>>6&63]+Ar[128|f&63]}a+=d.join("")}return a};function cB(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function kE(t,e){if(oB(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const uB=Object.prototype.hasOwnProperty,nk={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},jr=Array.isArray,dB=Array.prototype.push,rk=function(t,e){dB.apply(t,jr(e)?e:[e])},hB=Date.prototype.toISOString,At={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:lB,encodeValuesOnly:!1,format:Py,formatter:jy[Py],indices:!1,serializeDate(t){return hB.call(t)},skipNulls:!1,strictNullHandling:!1};function fB(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const zp={};function sk(t,e,n,r,s,i,a,o,l,d,h,f,p,g,_,x,b,T){let v=t,N=T,j=0,M=!1;for(;(N=N.get(zp))!==void 0&&!M;){const C=N.get(t);if(j+=1,typeof C<"u"){if(C===j)throw new RangeError("Cyclic object value");M=!0}typeof N.get(zp)>"u"&&(j=0)}if(typeof d=="function"?v=d(e,v):v instanceof Date?v=p==null?void 0:p(v):n==="comma"&&jr(v)&&(v=kE(v,function(C){return C instanceof Date?p==null?void 0:p(C):C})),v===null){if(i)return l&&!x?l(e,At.encoder,b,"key",g):e;v=""}if(fB(v)||cB(v)){if(l){const C=x?e:l(e,At.encoder,b,"key",g);return[(_==null?void 0:_(C))+"="+(_==null?void 0:_(l(v,At.encoder,b,"value",g)))]}return[(_==null?void 0:_(e))+"="+(_==null?void 0:_(String(v)))]}const V=[];if(typeof v>"u")return V;let S;if(n==="comma"&&jr(v))x&&l&&(v=kE(v,l)),S=[{value:v.length>0?v.join(",")||null:void 0}];else if(jr(d))S=d;else{const C=Object.keys(v);S=h?C.sort(h):C}const w=o?String(e).replace(/\./g,"%2E"):String(e),E=r&&jr(v)&&v.length===1?w+"[]":w;if(s&&jr(v)&&v.length===0)return E+"[]";for(let C=0;C<S.length;++C){const A=S[C],R=typeof A=="object"&&typeof A.value<"u"?A.value:v[A];if(a&&R===null)continue;const k=f&&o?A.replace(/\./g,"%2E"):A,fe=jr(v)?typeof n=="function"?n(E,k):E:E+(f?"."+k:"["+k+"]");T.set(t,j);const he=new WeakMap;he.set(zp,T),rk(V,sk(R,fe,n,r,s,i,a,o,n==="comma"&&x&&jr(v)?null:l,d,h,f,p,g,_,x,b,he))}return V}function mB(t=At){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||At.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Py;if(typeof t.format<"u"){if(!uB.call(jy,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=jy[n];let s=At.filter;(typeof t.filter=="function"||jr(t.filter))&&(s=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in nk?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=At.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:At.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:At.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:At.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:At.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?At.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:At.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:At.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:At.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:At.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:At.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:At.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:At.strictNullHandling}}function pB(t,e={}){let n=t;const r=mB(e);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):jr(r.filter)&&(i=r.filter,s=i);const a=[];if(typeof n!="object"||n===null)return"";const o=nk[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const d=new WeakMap;for(let p=0;p<s.length;++p){const g=s[p];r.skipNulls&&n[g]===null||rk(a,sk(n[g],g,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,d))}const h=a.join(r.delimiter);let f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),h.length>0?f+h:""}const Za="4.73.0";let AE=!1,Tc,ik,ak,Oy,ok,lk,ck,uk,dk;function gB(t,e={auto:!1}){if(AE)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Tc)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Tc}'\``);AE=e.auto,Tc=t.kind,ik=t.fetch,ak=t.FormData,Oy=t.File,ok=t.ReadableStream,lk=t.getMultipartRequestOptions,ck=t.getDefaultAgent,uk=t.fileFromPath,dk=t.isFsReadStream}class yB{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function vB({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new yB(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}Tc||gB(vB(),{auto:!0});class je extends Error{}class Kt extends je{constructor(e,n,r,s){super(`${Kt.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"];const i=n;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e)return new km({message:r,cause:My(n)});const i=n==null?void 0:n.error;return e===400?new hk(e,i,r,s):e===401?new fk(e,i,r,s):e===403?new mk(e,i,r,s):e===404?new pk(e,i,r,s):e===409?new gk(e,i,r,s):e===422?new yk(e,i,r,s):e===429?new vk(e,i,r,s):e>=500?new _k(e,i,r,s):new Kt(e,i,r,s)}}class gr extends Kt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class km extends Kt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class i_ extends km{constructor({message:e}={}){super({message:e??"Request timed out."})}}class hk extends Kt{constructor(){super(...arguments),this.status=400}}class fk extends Kt{constructor(){super(...arguments),this.status=401}}class mk extends Kt{constructor(){super(...arguments),this.status=403}}class pk extends Kt{constructor(){super(...arguments),this.status=404}}class gk extends Kt{constructor(){super(...arguments),this.status=409}}class yk extends Kt{constructor(){super(...arguments),this.status=422}}class vk extends Kt{constructor(){super(...arguments),this.status=429}}class _k extends Kt{}class wk extends je{constructor(){super("Could not parse response content as the length limit was reached")}}class xk extends je{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class ka{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=ka.NEWLINE_CHARS.has(n[n.length-1]||"");let s=n.split(ka.NEWLINE_REGEXP);return r&&s.pop(),s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new je(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new je(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new je("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}ka.NEWLINE_CHARS=new Set([`
`,"\r"]);ka.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class $r{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const a of _B(e,n))if(!i){if(a.data.startsWith("[DONE]")){i=!0;continue}if(a.event===null){let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(o&&o.error)throw new Kt(void 0,o.error,void 0,void 0);yield o}else{let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(a.event=="error")throw new Kt(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}i=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{i||n.abort()}}return new $r(s,n)}static fromReadableStream(e,n){let r=!1;async function*s(){const a=new ka,o=bk(e);for await(const l of o)for(const d of a.decode(l))yield d;for(const l of a.flush())yield l}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const o of s())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||n.abort()}}return new $r(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=r.next();e.push(a),n.push(a)}return i.shift()}});return[new $r(()=>s(e),this.controller),new $r(()=>s(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new ok({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:a}=await n.next();if(a)return s.close();const o=r.encode(JSON.stringify(i)+`
`);s.enqueue(o)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*_B(t,e){if(!t.body)throw e.abort(),new je("Attempted to iterate over a response with no body");const n=new bB,r=new ka,s=bk(t.body);for await(const i of wB(s))for(const a of r.decode(i)){const o=n.decode(a);o&&(yield o)}for(const i of r.flush()){const a=n.decode(i);a&&(yield a)}}async function*wB(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=xB(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}function xB(t){for(let r=0;r<t.length-2;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}class bB{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=EB(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function EB(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function bk(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const Ek=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",Tk=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Am(t),Am=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",TB=t=>Tk(t)||Ek(t)||dk(t);async function Sk(t,e,n){var s;if(t=await t,Tk(t))return t;if(Ek(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=Am(i)?[await i.arrayBuffer()]:[i];return new Oy(a,e,n)}const r=await SB(t);if(e||(e=CB(t)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new Oy(r,e,n)}async function SB(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Am(t))e.push(await t.arrayBuffer());else if(NB(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${IB(t)}`);return e}function IB(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function CB(t){var e;return qp(t.name)||qp(t.filename)||((e=qp(t.path))==null?void 0:e.split(/[\\/]/).pop())}const qp=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},NB=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",RE=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",nl=async t=>{const e=await kB(t.body);return lk(e,t)},kB=async t=>{const e=new ak;return await Promise.all(Object.entries(t||{}).map(([n,r])=>Dy(e,n,r))),e},Dy=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(TB(n)){const r=await Sk(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Dy(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Dy(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Po={},AB=function(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},RB=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Fd;async function Ik(t){const{response:e}=t;if(t.options.stream)return jo("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):$r.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await e.json();return jo("response",e.status,e.url,e.headers,i),Ck(i,e)}const s=await e.text();return jo("response",e.status,e.url,e.headers,s),s}function Ck(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Rm extends Promise{constructor(e,n=Ik){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Rm(this.responsePromise,async n=>Ck(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class PB{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=e,this.maxRetries=Wp("maxRetries",n),this.timeout=Wp("timeout",r),this.httpAgent=s,this.fetch=i??ik}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...VB(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${BB()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&Am(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:n,...s,body:i}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var x;const{method:r,path:s,query:i,headers:a={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:RE(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(o),d=this.buildURL(s,i);"timeout"in e&&Wp("timeout",e.timeout);const h=e.timeout??this.timeout,f=e.httpAgent??this.httpAgent??ck(d),p=h+1e3;typeof((x=f==null?void 0:f.options)==null?void 0:x.timeout)=="number"&&p>(f.options.timeout??0)&&(f.options.timeout=p),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const g=this.buildHeaders({options:e,headers:a,contentLength:l,retryCount:n});return{req:{method:r,...o&&{body:o},headers:g,...f&&{agent:f},signal:e.signal??null},url:d,timeout:h}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const a=this.defaultHeaders(e);return DE(i,a),DE(i,n),RE(e.body)&&Tc!=="node"&&delete i["content-type"],ME(a,"x-stainless-retry-count")===void 0&&ME(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,s){return Kt.generate(e,n,r,s)}request(e,n=null){return new Rm(this.makeRequest(e,n))}async makeRequest(e,n){var f,p;const r=await e,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:a,timeout:o}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:a,options:r}),jo("request",a,r,i.headers),(f=r.signal)!=null&&f.aborted)throw new gr;const l=new AbortController,d=await this.fetchWithTimeout(a,i,o,l).catch(My);if(d instanceof Error){if((p=r.signal)!=null&&p.aborted)throw new gr;if(n)return this.retryRequest(r,n);throw d.name==="AbortError"?new i_:new km({cause:d})}const h=OB(d.headers);if(!d.ok){if(n&&this.shouldRetry(d)){const v=`retrying, ${n} attempts remaining`;return jo(`response (error; ${v})`,d.status,a,h),this.retryRequest(r,n,h)}const g=await d.text().catch(v=>My(v).message),_=FB(g),x=_?void 0:g;throw jo(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,d.status,a,h,x),this.makeStatusError(d.status,_,x,h)}return{response:d,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new jB(this,r,e)}buildURL(e,n){const r=$B(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return kk(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new je(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,s){const{signal:i,...a}=n||{};i&&i.addEventListener("abort",()=>s.abort());const o=setTimeout(()=>s.abort(),r);return this.getRequestClient().fetch.call(void 0,e,{signal:s.signal,...a}).finally(()=>{clearTimeout(o)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const o=parseFloat(i);Number.isNaN(o)||(s=o)}const a=r==null?void 0:r["retry-after"];if(a&&!s){const o=parseFloat(a);Number.isNaN(o)?s=Date.parse(a)-Date.now():s=o*1e3}if(!(s&&0<=s&&s<60*1e3)){const o=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,o)}return await zu(s),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Za}`}}class Nk{constructor(e,n,r,s){Fd.set(this,void 0),AB(this,Fd,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new je("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[s,i]of r)e.url.searchParams.set(s,i);n.query=void 0,n.path=e.url.toString()}return await RB(this,Fd,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Fd=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class jB extends Rm{constructor(e,n,r){super(n,async s=>new r(e,s.response,await Ik(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const OB=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),DB={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Cn=t=>typeof t=="object"&&t!==null&&!kk(t)&&Object.keys(t).every(e=>Ak(DB,e)),MB=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Za,"X-Stainless-OS":jE(Deno.build.os),"X-Stainless-Arch":PE(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Za,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Za,"X-Stainless-OS":jE(process.platform),"X-Stainless-Arch":PE(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=LB();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Za,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Za,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function LB(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,a=r[3]||0;return{browser:e,version:`${s}.${i}.${a}`}}}return null}const PE=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",jE=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let OE;const VB=()=>OE??(OE=MB()),FB=t=>{try{return JSON.parse(t)}catch{return}},UB=new RegExp("^(?:[a-z]+:)?//","i"),$B=t=>UB.test(t),zu=t=>new Promise(e=>setTimeout(e,t)),Wp=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new je(`${t} must be an integer`);if(e<0)throw new je(`${t} must be a positive integer`);return e},My=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Ud=t=>{var e,n,r,s;if(typeof process<"u")return((e=Po==null?void 0:Po[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};function kk(t){if(!t)return!0;for(const e in t)return!1;return!0}function Ak(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function DE(t,e){for(const n in e){if(!Ak(e,n))continue;const r=n.toLowerCase();if(!r)continue;const s=e[n];s===null?delete t[r]:s!==void 0&&(t[r]=s)}}function jo(t,...e){typeof process<"u"&&(Po==null?void 0:Po.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const BB=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),zB=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",qB=t=>typeof(t==null?void 0:t.get)=="function",ME=(t,e)=>{var r;const n=e.toLowerCase();if(qB(t)){const s=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,a,o)=>a+o.toUpperCase());for(const i of[e,n,e.toUpperCase(),s]){const a=t.get(i);if(a)return a}}for(const[s,i]of Object.entries(t))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i};function Hp(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class WB extends Nk{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Cr extends Nk{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class Qe{constructor(e){this._client=e}}let Rk=class extends Qe{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}},a_=class extends Qe{constructor(){super(...arguments),this.completions=new Rk(this._client)}};a_.Completions=Rk;class Pk extends Qe{create(e,n){return this._client.post("/audio/speech",{body:e,...n,__binaryResponse:!0})}}class jk extends Qe{create(e,n){return this._client.post("/audio/transcriptions",nl({body:e,...n}))}}class Ok extends Qe{create(e,n){return this._client.post("/audio/translations",nl({body:e,...n}))}}class qu extends Qe{constructor(){super(...arguments),this.transcriptions=new jk(this._client),this.translations=new Ok(this._client),this.speech=new Pk(this._client)}}qu.Transcriptions=jk;qu.Translations=Ok;qu.Speech=Pk;class o_ extends Qe{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return Cn(e)?this.list({},e):this._client.getAPIList("/batches",l_,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class l_ extends Cr{}o_.BatchesPage=l_;class c_ extends Qe{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Cn(e)?this.list({},e):this._client.getAPIList("/assistants",u_,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class u_ extends Cr{}c_.AssistantsPage=u_;function LE(t){return typeof t.parse=="function"}const Oo=t=>(t==null?void 0:t.role)==="assistant",Dk=t=>(t==null?void 0:t.role)==="function",Mk=t=>(t==null?void 0:t.role)==="tool";var lr=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},lt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ly,mh,ph,rc,sc,gh,ic,gs,ac,kf,Af,eo,Lk;class Vk{constructor(){Ly.add(this),this.controller=new AbortController,mh.set(this,void 0),ph.set(this,()=>{}),rc.set(this,()=>{}),sc.set(this,void 0),gh.set(this,()=>{}),ic.set(this,()=>{}),gs.set(this,{}),ac.set(this,!1),kf.set(this,!1),Af.set(this,!1),eo.set(this,!1),lr(this,mh,new Promise((e,n)=>{lr(this,ph,e,"f"),lr(this,rc,n,"f")}),"f"),lr(this,sc,new Promise((e,n)=>{lr(this,gh,e,"f"),lr(this,ic,n,"f")}),"f"),lt(this,mh,"f").catch(()=>{}),lt(this,sc,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},lt(this,Ly,"m",Lk).bind(this))},0)}_connected(){this.ended||(lt(this,ph,"f").call(this),this._emit("connect"))}get ended(){return lt(this,ac,"f")}get errored(){return lt(this,kf,"f")}get aborted(){return lt(this,Af,"f")}abort(){this.controller.abort()}on(e,n){return(lt(this,gs,"f")[e]||(lt(this,gs,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=lt(this,gs,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(lt(this,gs,"f")[e]||(lt(this,gs,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{lr(this,eo,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){lr(this,eo,!0,"f"),await lt(this,sc,"f")}_emit(e,...n){if(lt(this,ac,"f"))return;e==="end"&&(lr(this,ac,!0,"f"),lt(this,gh,"f").call(this));const r=lt(this,gs,"f")[e];if(r&&(lt(this,gs,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!lt(this,eo,"f")&&!(r!=null&&r.length)&&Promise.reject(s),lt(this,rc,"f").call(this,s),lt(this,ic,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!lt(this,eo,"f")&&!(r!=null&&r.length)&&Promise.reject(s),lt(this,rc,"f").call(this,s),lt(this,ic,"f").call(this,s),this._emit("end")}}_emitFinal(){}}mh=new WeakMap,ph=new WeakMap,rc=new WeakMap,sc=new WeakMap,gh=new WeakMap,ic=new WeakMap,gs=new WeakMap,ac=new WeakMap,kf=new WeakMap,Af=new WeakMap,eo=new WeakMap,Ly=new WeakSet,Lk=function(e){if(lr(this,kf,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new gr),e instanceof gr)return lr(this,Af,!0,"f"),this._emit("abort",e);if(e instanceof je)return this._emit("error",e);if(e instanceof Error){const n=new je(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new je(String(e)))};function Fk(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Wu(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function HB(t,e){return!e||!Uk(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:d_(t,e)}function d_(t,e){const n=t.choices.map(r=>{var s;if(r.finish_reason==="length")throw new wk;if(r.finish_reason==="content_filter")throw new xk;return{...r,message:{...r.message,tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>KB(e,i)))??[],parsed:r.message.content&&!r.message.refusal?GB(e,r.message.content):null}}});return{...t,choices:n}}function GB(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function KB(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Wu(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function QB(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return Wu(n)||(n==null?void 0:n.function.strict)||!1}function Uk(t){var e;return Fk(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Wu(n)||n.type==="function"&&n.function.strict===!0))??!1}function YB(t){for(const e of t??[]){if(e.type!=="function")throw new je(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new je(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var _n=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},en,Vy,Rf,Fy,Uy,$y,$k,By;const VE=10;class Bk extends Vk{constructor(){super(...arguments),en.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(Dk(e)||Mk(e))&&e.content)this._emit("functionCallResult",e.content);else if(Oo(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Oo(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new je("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),_n(this,en,"m",Vy).call(this)}async finalMessage(){return await this.done(),_n(this,en,"m",Rf).call(this)}async finalFunctionCall(){return await this.done(),_n(this,en,"m",Fy).call(this)}async finalFunctionCallResult(){return await this.done(),_n(this,en,"m",Uy).call(this)}async totalUsage(){return await this.done(),_n(this,en,"m",$y).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=_n(this,en,"m",Rf).call(this);n&&this._emit("finalMessage",n);const r=_n(this,en,"m",Vy).call(this);r&&this._emit("finalContent",r);const s=_n(this,en,"m",Fy).call(this);s&&this._emit("finalFunctionCall",s);const i=_n(this,en,"m",Uy).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",_n(this,en,"m",$y).call(this))}async _createChatCompletion(e,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),_n(this,en,"m",$k).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(d_(i,n))}async _runChatCompletion(e,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var p;const s="function",{function_call:i="auto",stream:a,...o}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:d=VE}=r||{},h={};for(const g of n.functions)h[g.name||g.function.name]=g;const f=n.functions.map(g=>({name:g.name||g.function.name,parameters:g.parameters,description:g.description}));for(const g of n.messages)this._addMessage(g,!1);for(let g=0;g<d;++g){const x=(p=(await this._createChatCompletion(e,{...o,function_call:i,functions:f,messages:[...this.messages]},r)).choices[0])==null?void 0:p.message;if(!x)throw new je("missing message in ChatCompletion response");if(!x.function_call)return;const{name:b,arguments:T}=x.function_call,v=h[b];if(v){if(l&&l!==b){const V=`Invalid function_call: ${JSON.stringify(b)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,name:b,content:V});continue}}else{const V=`Invalid function_call: ${JSON.stringify(b)}. Available options are: ${f.map(S=>JSON.stringify(S.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:b,content:V});continue}let N;try{N=LE(v)?await v.parse(T):T}catch(V){this._addMessage({role:s,name:b,content:V instanceof Error?V.message:String(V)});continue}const j=await v.function(N,this),M=_n(this,en,"m",By).call(this,j);if(this._addMessage({role:s,name:b,content:M}),l)return}}async _runTools(e,n,r){var g,_,x;const s="tool",{tool_choice:i="auto",stream:a,...o}=n,l=typeof i!="string"&&((g=i==null?void 0:i.function)==null?void 0:g.name),{maxChatCompletions:d=VE}=r||{},h=n.tools.map(b=>{if(Wu(b)){if(!b.$callback)throw new je("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:b.$callback,name:b.function.name,description:b.function.description||"",parameters:b.function.parameters,parse:b.$parseRaw,strict:!0}}}return b}),f={};for(const b of h)b.type==="function"&&(f[b.function.name||b.function.function.name]=b.function);const p="tools"in n?h.map(b=>b.type==="function"?{type:"function",function:{name:b.function.name||b.function.function.name,parameters:b.function.parameters,description:b.function.description,strict:b.function.strict}}:b):void 0;for(const b of n.messages)this._addMessage(b,!1);for(let b=0;b<d;++b){const v=(_=(await this._createChatCompletion(e,{...o,tool_choice:i,tools:p,messages:[...this.messages]},r)).choices[0])==null?void 0:_.message;if(!v)throw new je("missing message in ChatCompletion response");if(!((x=v.tool_calls)!=null&&x.length))return;for(const N of v.tool_calls){if(N.type!=="function")continue;const j=N.id,{name:M,arguments:V}=N.function,S=f[M];if(S){if(l&&l!==M){const A=`Invalid tool_call: ${JSON.stringify(M)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:j,content:A});continue}}else{const A=`Invalid tool_call: ${JSON.stringify(M)}. Available options are: ${Object.keys(f).map(R=>JSON.stringify(R)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:j,content:A});continue}let w;try{w=LE(S)?await S.parse(V):V}catch(A){const R=A instanceof Error?A.message:String(A);this._addMessage({role:s,tool_call_id:j,content:R});continue}const E=await S.function(w,this),C=_n(this,en,"m",By).call(this,E);if(this._addMessage({role:s,tool_call_id:j,content:C}),l)return}}}}en=new WeakSet,Vy=function(){return _n(this,en,"m",Rf).call(this).content??null},Rf=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Oo(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new je("stream ended without producing a ChatCompletionMessage with role=assistant")},Fy=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Oo(s)&&(s!=null&&s.function_call))return s.function_call;if(Oo(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},Uy=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Dk(n)&&n.content!=null||Mk(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},$y=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},$k=function(e){if(e.n!=null&&e.n>1)throw new je("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},By=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class gu extends Bk{static runFunctions(e,n,r){const s=new gu,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new gu,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}_addMessage(e,n=!0){super._addMessage(e,n),Oo(e)&&e.content&&this._emit("content",e.content)}}const zk=1,qk=2,Wk=4,Hk=8,Gk=16,Kk=32,Qk=64,Yk=128,Xk=256,Jk=Yk|Xk,Zk=Gk|Kk|Jk|Qk,eA=zk|qk|Zk,tA=Wk|Hk,XB=eA|tA,jt={STR:zk,NUM:qk,ARR:Wk,OBJ:Hk,NULL:Gk,BOOL:Kk,NAN:Qk,INFINITY:Yk,MINUS_INFINITY:Xk,INF:Jk,SPECIAL:Zk,ATOM:eA,COLLECTION:tA,ALL:XB};class JB extends Error{}class ZB extends Error{}function ez(t,e=jt.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return tz(t.trim(),e)}const tz=(t,e)=>{const n=t.length;let r=0;const s=p=>{throw new JB(`${p} at position ${r}`)},i=p=>{throw new ZB(`${p} at position ${r}`)},a=()=>(f(),r>=n&&s("Unexpected end of input"),t[r]==='"'?o():t[r]==="{"?l():t[r]==="["?d():t.substring(r,r+4)==="null"||jt.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||jt.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||jt.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||jt.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||jt.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||jt.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):h()),o=()=>{const p=r;let g=!1;for(r++;r<n&&(t[r]!=='"'||g&&t[r-1]==="\\");)g=t[r]==="\\"?!g:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(p,++r-Number(g)))}catch(_){i(String(_))}else if(jt.STR&e)try{return JSON.parse(t.substring(p,r-Number(g))+'"')}catch{return JSON.parse(t.substring(p,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,f();const p={};try{for(;t[r]!=="}";){if(f(),r>=n&&jt.OBJ&e)return p;const g=o();f(),r++;try{const _=a();Object.defineProperty(p,g,{value:_,writable:!0,enumerable:!0,configurable:!0})}catch(_){if(jt.OBJ&e)return p;throw _}f(),t[r]===","&&r++}}catch{if(jt.OBJ&e)return p;s("Expected '}' at end of object")}return r++,p},d=()=>{r++;const p=[];try{for(;t[r]!=="]";)p.push(a()),f(),t[r]===","&&r++}catch{if(jt.ARR&e)return p;s("Expected ']' at end of array")}return r++,p},h=()=>{if(r===0){t==="-"&&jt.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(g){if(jt.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(g))}}const p=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(jt.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(p,r))}catch{t.substring(p,r)==="-"&&jt.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(p,t.lastIndexOf("e")))}catch(_){i(String(_))}}},f=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return a()},FE=t=>ez(t,jt.ALL^jt.NUM);var Ha=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Xe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Nt,ms,Ga,Js,Gp,$d,Kp,Qp,Yp,Bd,Xp,UE;class yu extends Bk{constructor(e){super(),Nt.add(this),ms.set(this,void 0),Ga.set(this,void 0),Js.set(this,void 0),Ha(this,ms,e,"f"),Ha(this,Ga,[],"f")}get currentChatCompletionSnapshot(){return Xe(this,Js,"f")}static fromReadableStream(e){const n=new yu(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const s=new yu(n);return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,r){var a;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Xe(this,Nt,"m",Gp).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of i)Xe(this,Nt,"m",Kp).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new gr;return this._addChatCompletion(Xe(this,Nt,"m",Bd).call(this))}async _fromReadableStream(e,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Xe(this,Nt,"m",Gp).call(this),this._connected();const s=$r.fromReadableStream(e,this.controller);let i;for await(const o of s)i&&i!==o.id&&this._addChatCompletion(Xe(this,Nt,"m",Bd).call(this)),Xe(this,Nt,"m",Kp).call(this,o),i=o.id;if((a=s.controller.signal)!=null&&a.aborted)throw new gr;return this._addChatCompletion(Xe(this,Nt,"m",Bd).call(this))}[(ms=new WeakMap,Ga=new WeakMap,Js=new WeakMap,Nt=new WeakSet,Gp=function(){this.ended||Ha(this,Js,void 0,"f")},$d=function(n){let r=Xe(this,Ga,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Xe(this,Ga,"f")[n.index]=r,r)},Kp=function(n){var s,i,a,o,l,d,h,f,p,g,_,x,b,T,v;if(this.ended)return;const r=Xe(this,Nt,"m",UE).call(this,n);this._emit("chunk",n,r);for(const N of n.choices){const j=r.choices[N.index];N.delta.content!=null&&((s=j.message)==null?void 0:s.role)==="assistant"&&((i=j.message)!=null&&i.content)&&(this._emit("content",N.delta.content,j.message.content),this._emit("content.delta",{delta:N.delta.content,snapshot:j.message.content,parsed:j.message.parsed})),N.delta.refusal!=null&&((a=j.message)==null?void 0:a.role)==="assistant"&&((o=j.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:N.delta.refusal,snapshot:j.message.refusal}),((l=N.logprobs)==null?void 0:l.content)!=null&&((d=j.message)==null?void 0:d.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=N.logprobs)==null?void 0:h.content,snapshot:((f=j.logprobs)==null?void 0:f.content)??[]}),((p=N.logprobs)==null?void 0:p.refusal)!=null&&((g=j.message)==null?void 0:g.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(_=N.logprobs)==null?void 0:_.refusal,snapshot:((x=j.logprobs)==null?void 0:x.refusal)??[]});const M=Xe(this,Nt,"m",$d).call(this,j);j.finish_reason&&(Xe(this,Nt,"m",Yp).call(this,j),M.current_tool_call_index!=null&&Xe(this,Nt,"m",Qp).call(this,j,M.current_tool_call_index));for(const V of N.delta.tool_calls??[])M.current_tool_call_index!==V.index&&(Xe(this,Nt,"m",Yp).call(this,j),M.current_tool_call_index!=null&&Xe(this,Nt,"m",Qp).call(this,j,M.current_tool_call_index)),M.current_tool_call_index=V.index;for(const V of N.delta.tool_calls??[]){const S=(b=j.message.tool_calls)==null?void 0:b[V.index];S!=null&&S.type&&((S==null?void 0:S.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(T=S.function)==null?void 0:T.name,index:V.index,arguments:S.function.arguments,parsed_arguments:S.function.parsed_arguments,arguments_delta:((v=V.function)==null?void 0:v.arguments)??""}):(S==null||S.type,void 0))}}},Qp=function(n,r){var a,o,l;if(Xe(this,Nt,"m",$d).call(this,n).done_tool_calls.has(r))return;const i=(a=n.message.tool_calls)==null?void 0:a[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const d=(l=(o=Xe(this,ms,"f"))==null?void 0:o.tools)==null?void 0:l.find(h=>h.type==="function"&&h.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:Wu(d)?d.$parseRaw(i.function.arguments):d!=null&&d.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Yp=function(n){var s,i;const r=Xe(this,Nt,"m",$d).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=Xe(this,Nt,"m",Xp).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Bd=function(){if(this.ended)throw new je("stream has ended, this shouldn't happen");const n=Xe(this,Js,"f");if(!n)throw new je("request ended without sending any chunks");return Ha(this,Js,void 0,"f"),Ha(this,Ga,[],"f"),nz(n,Xe(this,ms,"f"))},Xp=function(){var r;const n=(r=Xe(this,ms,"f"))==null?void 0:r.response_format;return Fk(n)?n:null},UE=function(n){var r,s,i,a;let o=Xe(this,Js,"f");const{choices:l,...d}=n;o?Object.assign(o,d):o=Ha(this,Js,{...d,choices:[]},"f");for(const{delta:h,finish_reason:f,index:p,logprobs:g=null,..._}of n.choices){let x=o.choices[p];if(x||(x=o.choices[p]={finish_reason:f,index:p,message:{},logprobs:g,..._}),g)if(!x.logprobs)x.logprobs=Object.assign({},g);else{const{content:V,refusal:S,...w}=g;Object.assign(x.logprobs,w),V&&((r=x.logprobs).content??(r.content=[]),x.logprobs.content.push(...V)),S&&((s=x.logprobs).refusal??(s.refusal=[]),x.logprobs.refusal.push(...S))}if(f&&(x.finish_reason=f,Xe(this,ms,"f")&&Uk(Xe(this,ms,"f")))){if(f==="length")throw new wk;if(f==="content_filter")throw new xk}if(Object.assign(x,_),!h)continue;const{content:b,refusal:T,function_call:v,role:N,tool_calls:j,...M}=h;if(Object.assign(x.message,M),T&&(x.message.refusal=(x.message.refusal||"")+T),N&&(x.message.role=N),v&&(x.message.function_call?(v.name&&(x.message.function_call.name=v.name),v.arguments&&((i=x.message.function_call).arguments??(i.arguments=""),x.message.function_call.arguments+=v.arguments)):x.message.function_call=v),b&&(x.message.content=(x.message.content||"")+b,!x.message.refusal&&Xe(this,Nt,"m",Xp).call(this)&&(x.message.parsed=FE(x.message.content))),j){x.message.tool_calls||(x.message.tool_calls=[]);for(const{index:V,id:S,type:w,function:E,...C}of j){const A=(a=x.message.tool_calls)[V]??(a[V]={});Object.assign(A,C),S&&(A.id=S),w&&(A.type=w),E&&(A.function??(A.function={name:E.name??"",arguments:""})),E!=null&&E.name&&(A.function.name=E.name),E!=null&&E.arguments&&(A.function.arguments+=E.arguments,QB(Xe(this,ms,"f"),A)&&(A.function.parsed_arguments=FE(A.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new $r(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function nz(t,e){const{id:n,choices:r,created:s,model:i,system_fingerprint:a,...o}=t,l={...o,id:n,choices:r.map(({message:d,finish_reason:h,index:f,logprobs:p,...g})=>{if(!h)throw new je(`missing finish_reason for choice ${f}`);const{content:_=null,function_call:x,tool_calls:b,...T}=d,v=d.role;if(!v)throw new je(`missing role for choice ${f}`);if(x){const{arguments:N,name:j}=x;if(N==null)throw new je(`missing function_call.arguments for choice ${f}`);if(!j)throw new je(`missing function_call.name for choice ${f}`);return{...g,message:{content:_,function_call:{arguments:N,name:j},role:v,refusal:d.refusal??null},finish_reason:h,index:f,logprobs:p}}return b?{...g,index:f,finish_reason:h,logprobs:p,message:{...T,role:v,content:_,refusal:d.refusal??null,tool_calls:b.map((N,j)=>{const{function:M,type:V,id:S,...w}=N,{arguments:E,name:C,...A}=M||{};if(S==null)throw new je(`missing choices[${f}].tool_calls[${j}].id
${zd(t)}`);if(V==null)throw new je(`missing choices[${f}].tool_calls[${j}].type
${zd(t)}`);if(C==null)throw new je(`missing choices[${f}].tool_calls[${j}].function.name
${zd(t)}`);if(E==null)throw new je(`missing choices[${f}].tool_calls[${j}].function.arguments
${zd(t)}`);return{...w,id:S,type:V,function:{...A,name:C,arguments:E}}})}}:{...g,message:{...T,content:_,role:v,refusal:d.refusal??null},finish_reason:h,index:f,logprobs:p}}),created:s,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return HB(l,e)}function zd(t){return JSON.stringify(t)}class Do extends yu{static fromReadableStream(e){const n=new Do(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const s=new Do(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new Do(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}}let nA=class extends Qe{parse(e,n){return YB(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>d_(r,e))}runFunctions(e,n){return e.stream?Do.runFunctions(this._client,e,n):gu.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?Do.runTools(this._client,e,n):gu.runTools(this._client,e,n)}stream(e,n){return yu.createChatCompletion(this._client,e,n)}};class zy extends Qe{constructor(){super(...arguments),this.completions=new nA(this._client)}}(function(t){t.Completions=nA})(zy||(zy={}));var ce=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Pn=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Ut,qy,Or,yh,ur,ca,go,na,Pf,jn,vh,_h,Sc,oc,lc,$E,BE,zE,qE,WE,HE,GE;class yr extends Vk{constructor(){super(...arguments),Ut.add(this),qy.set(this,[]),Or.set(this,{}),yh.set(this,{}),ur.set(this,void 0),ca.set(this,void 0),go.set(this,void 0),na.set(this,void 0),Pf.set(this,void 0),jn.set(this,void 0),vh.set(this,void 0),_h.set(this,void 0),Sc.set(this,void 0)}[(qy=new WeakMap,Or=new WeakMap,yh=new WeakMap,ur=new WeakMap,ca=new WeakMap,go=new WeakMap,na=new WeakMap,Pf=new WeakMap,jn=new WeakMap,vh=new WeakMap,_h=new WeakMap,Sc=new WeakMap,Ut=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new yr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=$r.fromReadableStream(e,this.controller);for await(const a of s)ce(this,Ut,"m",oc).call(this,a);if((i=s.controller.signal)!=null&&i.aborted)throw new gr;return this._addRun(ce(this,Ut,"m",lc).call(this))}toReadableStream(){return new $r(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,s,i){const a=new yr;return a._run(()=>a._runToolAssistantStream(e,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,r,s,i){var d;const a=i==null?void 0:i.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},l=await e.submitToolOutputs(n,r,o,{...i,signal:this.controller.signal});this._connected();for await(const h of l)ce(this,Ut,"m",oc).call(this,h);if((d=l.controller.signal)!=null&&d.aborted)throw new gr;return this._addRun(ce(this,Ut,"m",lc).call(this))}static createThreadAssistantStream(e,n,r){const s=new yr;return s._run(()=>s._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,r,s){const i=new yr;return i._run(()=>i._runAssistantStream(e,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return ce(this,vh,"f")}currentRun(){return ce(this,_h,"f")}currentMessageSnapshot(){return ce(this,ur,"f")}currentRunStepSnapshot(){return ce(this,Sc,"f")}async finalRunSteps(){return await this.done(),Object.values(ce(this,Or,"f"))}async finalMessages(){return await this.done(),Object.values(ce(this,yh,"f"))}async finalRun(){if(await this.done(),!ce(this,ca,"f"))throw Error("Final run was not received.");return ce(this,ca,"f")}async _createThreadAssistantStream(e,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await e.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of a)ce(this,Ut,"m",oc).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new gr;return this._addRun(ce(this,Ut,"m",lc).call(this))}async _createAssistantStream(e,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await e.create(n,a,{...s,signal:this.controller.signal});this._connected();for await(const d of o)ce(this,Ut,"m",oc).call(this,d);if((l=o.controller.signal)!=null&&l.aborted)throw new gr;return this._addRun(ce(this,Ut,"m",lc).call(this))}static accumulateDelta(e,n){for(const[r,s]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let i=e[r];if(i==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(Hp(i)&&Hp(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...s);continue}for(const a of s){if(!Hp(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=i[o];l==null?i.push(a):i[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);e[r]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,s){return await this._createAssistantStream(n,e,r,s)}async _runToolAssistantStream(e,n,r,s,i){return await this._createToolAssistantStream(r,e,n,s,i)}}oc=function(e){if(!this.ended)switch(Pn(this,vh,e,"f"),ce(this,Ut,"m",zE).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":ce(this,Ut,"m",GE).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ce(this,Ut,"m",BE).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":ce(this,Ut,"m",$E).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},lc=function(){if(this.ended)throw new je("stream has ended, this shouldn't happen");if(!ce(this,ca,"f"))throw Error("Final run has not been received");return ce(this,ca,"f")},$E=function(e){const[n,r]=ce(this,Ut,"m",WE).call(this,e,ce(this,ur,"f"));Pn(this,ur,n,"f"),ce(this,yh,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,a=n.content[s.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=ce(this,go,"f")){if(ce(this,na,"f"))switch(ce(this,na,"f").type){case"text":this._emit("textDone",ce(this,na,"f").text,ce(this,ur,"f"));break;case"image_file":this._emit("imageFileDone",ce(this,na,"f").image_file,ce(this,ur,"f"));break}Pn(this,go,s.index,"f")}Pn(this,na,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(ce(this,go,"f")!==void 0){const s=e.data.content[ce(this,go,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,ce(this,ur,"f"));break;case"text":this._emit("textDone",s.text,ce(this,ur,"f"));break}}ce(this,ur,"f")&&this._emit("messageDone",e.data),Pn(this,ur,void 0,"f")}},BE=function(e){const n=ce(this,Ut,"m",qE).call(this,e);switch(Pn(this,Sc,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==ce(this,Pf,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(ce(this,jn,"f")&&this._emit("toolCallDone",ce(this,jn,"f")),Pn(this,Pf,i.index,"f"),Pn(this,jn,n.step_details.tool_calls[i.index],"f"),ce(this,jn,"f")&&this._emit("toolCallCreated",ce(this,jn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Pn(this,Sc,void 0,"f"),e.data.step_details.type=="tool_calls"&&ce(this,jn,"f")&&(this._emit("toolCallDone",ce(this,jn,"f")),Pn(this,jn,void 0,"f")),this._emit("runStepDone",e.data,n);break}},zE=function(e){ce(this,qy,"f").push(e),this._emit("event",e)},qE=function(e){switch(e.event){case"thread.run.step.created":return ce(this,Or,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=ce(this,Or,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=yr.accumulateDelta(n,r.delta);ce(this,Or,"f")[e.data.id]=s}return ce(this,Or,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":ce(this,Or,"f")[e.data.id]=e.data;break}if(ce(this,Or,"f")[e.data.id])return ce(this,Or,"f")[e.data.id];throw new Error("No snapshot available")},WE=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let a=n.content[i.index];n.content[i.index]=ce(this,Ut,"m",HE).call(this,i,a)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},HE=function(e,n){return yr.accumulateDelta(n,e)},GE=function(e){switch(Pn(this,_h,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Pn(this,ca,e.data,"f"),ce(this,jn,"f")&&(this._emit("toolCallDone",ce(this,jn,"f")),Pn(this,jn,void 0,"f"));break}};class h_ extends Qe{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return Cn(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,f_,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class f_ extends Cr{}h_.MessagesPage=f_;class m_ extends Qe{retrieve(e,n,r,s={},i){return Cn(s)?this.retrieve(e,n,r,{},s):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n,r={},s){return Cn(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,p_,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class p_ extends Cr{}m_.RunStepsPage=p_;class Hu extends Qe{constructor(){super(...arguments),this.steps=new m_(this._client)}create(e,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return Cn(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,g_,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}createAndStream(e,n,r){return yr.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const d=parseInt(l);isNaN(d)||(o=d)}}await zu(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,r){return yr.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,s){const i=await this.submitToolOutputs(e,n,r,s);return await this.poll(e,i.id,s)}submitToolOutputsStream(e,n,r,s){return yr.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,s)}}class g_ extends Cr{}Hu.RunsPage=g_;Hu.Steps=m_;Hu.RunStepsPage=p_;class gl extends Qe{constructor(){super(...arguments),this.runs=new Hu(this._client),this.messages=new h_(this._client)}create(e={},n){return Cn(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return yr.createThreadAssistantStream(e,this._client.beta.threads,n)}}gl.Runs=Hu;gl.RunsPage=g_;gl.Messages=h_;gl.MessagesPage=f_;const rz=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r};let y_=class extends Qe{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},r){return Cn(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,Pm,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...r,headers:s}).withResponse(),a=i.data;switch(a.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const d=parseInt(l);isNaN(d)||(o=d)}}await zu(o);break;case"failed":case"completed":return a}}}async upload(e,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)}async uploadAndPoll(e,n,r){const s=await this.upload(e,n,r);return await this.poll(e,s.id,r)}};class Pm extends Cr{}y_.VectorStoreFilesPage=Pm;class rA extends Qe{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n);return await this.poll(e,s.id,r)}listFiles(e,n,r={},s){return Cn(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,Pm,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(e,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const d=parseInt(l);isNaN(d)||(o=d)}}await zu(o);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,a=Math.min(i,n.length),o=this._client,l=n.values(),d=[...r];async function h(p){for(let g of p){const _=await o.files.create({file:g,purpose:"assistants"},s);d.push(_.id)}}const f=Array(a).fill(l).map(h);return await rz(f),await this.createAndPoll(e,{file_ids:d})}}class yl extends Qe{constructor(){super(...arguments),this.files=new y_(this._client),this.fileBatches=new rA(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Cn(e)?this.list({},e):this._client.getAPIList("/vector_stores",v_,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class v_ extends Cr{}yl.VectorStoresPage=v_;yl.Files=y_;yl.VectorStoreFilesPage=Pm;yl.FileBatches=rA;class Ma extends Qe{constructor(){super(...arguments),this.vectorStores=new yl(this._client),this.chat=new zy(this._client),this.assistants=new c_(this._client),this.threads=new gl(this._client)}}Ma.VectorStores=yl;Ma.VectorStoresPage=v_;Ma.Assistants=c_;Ma.AssistantsPage=u_;Ma.Threads=gl;class sA extends Qe{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class iA extends Qe{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}class __ extends Qe{create(e,n){return this._client.post("/files",nl({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return Cn(e)?this.list({},e):this._client.getAPIList("/files",w_,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(e);for(;!a.status||!s.has(a.status);)if(await zu(n),a=await this.retrieve(e),Date.now()-i>r)throw new i_({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return a}}class w_ extends Cr{}__.FileObjectsPage=w_;class x_ extends Qe{list(e,n={},r){return Cn(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,b_,{query:n,...r})}}class b_ extends Cr{}x_.FineTuningJobCheckpointsPage=b_;class vl extends Qe{constructor(){super(...arguments),this.checkpoints=new x_(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return Cn(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",E_,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return Cn(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,T_,{query:n,...r})}}class E_ extends Cr{}class T_ extends Cr{}vl.FineTuningJobsPage=E_;vl.FineTuningJobEventsPage=T_;vl.Checkpoints=x_;vl.FineTuningJobCheckpointsPage=b_;class Gu extends Qe{constructor(){super(...arguments),this.jobs=new vl(this._client)}}Gu.Jobs=vl;Gu.FineTuningJobsPage=E_;Gu.FineTuningJobEventsPage=T_;class aA extends Qe{createVariation(e,n){return this._client.post("/images/variations",nl({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",nl({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class S_ extends Qe{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",I_,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class I_ extends WB{}S_.ModelsPage=I_;class oA extends Qe{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class lA extends Qe{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,nl({body:n,...r}))}}class C_ extends Qe{constructor(){super(...arguments),this.parts=new lA(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}C_.Parts=lA;var cA;class Ve extends PB{constructor({baseURL:e=Ud("OPENAI_BASE_URL"),apiKey:n=Ud("OPENAI_API_KEY"),organization:r=Ud("OPENAI_ORG_ID")??null,project:s=Ud("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new je("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:n,organization:r,project:s,...i,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&zB())throw new je(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new sA(this),this.chat=new a_(this),this.embeddings=new iA(this),this.files=new __(this),this.images=new aA(this),this.audio=new qu(this),this.moderations=new oA(this),this.models=new S_(this),this.fineTuning=new Gu(this),this.beta=new Ma(this),this.batches=new o_(this),this.uploads=new C_(this),this._options=a,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return pB(e,{arrayFormat:"brackets"})}}cA=Ve;Ve.OpenAI=cA;Ve.DEFAULT_TIMEOUT=6e5;Ve.OpenAIError=je;Ve.APIError=Kt;Ve.APIConnectionError=km;Ve.APIConnectionTimeoutError=i_;Ve.APIUserAbortError=gr;Ve.NotFoundError=pk;Ve.ConflictError=gk;Ve.RateLimitError=vk;Ve.BadRequestError=hk;Ve.AuthenticationError=fk;Ve.InternalServerError=_k;Ve.PermissionDeniedError=mk;Ve.UnprocessableEntityError=yk;Ve.toFile=Sk;Ve.fileFromPath=uk;Ve.Completions=sA;Ve.Chat=a_;Ve.Embeddings=iA;Ve.Files=__;Ve.FileObjectsPage=w_;Ve.Images=aA;Ve.Audio=qu;Ve.Moderations=oA;Ve.Models=S_;Ve.ModelsPage=I_;Ve.FineTuning=Gu;Ve.Beta=Ma;Ve.Batches=o_;Ve.BatchesPage=l_;Ve.Uploads=C_;const Ka=new Ve({apiKey:"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",dangerouslyAllowBrowser:!0}),sz="asst_rcfN5dNVjxHHMPjNWJOg3Cov",N_=class N_{static async createThread(){try{return this.thread=await Ka.beta.threads.create(),this.thread}catch(e){throw console.error("Error creating thread:",e),e}}static async sendMessage(e){try{this.thread||await this.createThread(),await Ka.beta.threads.messages.create(this.thread.id,{role:"user",content:e});const n=await Ka.beta.threads.runs.create(this.thread.id,{assistant_id:sz});let r=await Ka.beta.threads.runs.retrieve(this.thread.id,n.id);for(;r.status==="in_progress"||r.status==="queued";)await new Promise(s=>setTimeout(s,1e3)),r=await Ka.beta.threads.runs.retrieve(this.thread.id,n.id);if(r.status==="completed"){const i=(await Ka.beta.threads.messages.list(this.thread.id)).data[0].content[0];return{text:typeof i=="object"&&"text"in i?i.text.value:String(i)}}else throw new Error(`Run ended with status: ${r.status}`)}catch(n){throw console.error("Error sending message:",n),n}}};N_.thread=null;let Wy=N_;function iz({isOpen:t,onClose:e}){const[n,r]=F.useState([]),[s,i]=F.useState(""),[a,o]=F.useState(!1),l=F.useRef(null),d=()=>{var f;(f=l.current)==null||f.scrollIntoView({behavior:"smooth"})};F.useEffect(()=>{d()},[n]);const h=async f=>{if(f.preventDefault(),!s.trim()||a)return;const p=s.trim();i(""),r(g=>[...g,{role:"user",content:p}]),o(!0);try{const g=await Wy.sendMessage(p),_=typeof g.text=="string"?g.text:"Desculpe, não consegui processar sua mensagem.";r(x=>[...x,{role:"assistant",content:_}])}catch(g){console.error("Error sending message:",g),ee.error("Erro ao enviar mensagem. Tente novamente.")}finally{o(!1)}};return t?c.jsxs("div",{className:"fixed bottom-4 right-4 w-96 bg-white rounded-lg shadow-xl overflow-hidden z-50",children:[c.jsx("div",{className:"bg-indigo-600 p-4 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(nh,{className:"h-6 w-6"}),c.jsx("h3",{className:"font-semibold",children:"Assistente CareConnect"})]}),c.jsx("button",{onClick:e,className:"text-white hover:text-gray-200 transition-colors",children:c.jsx(Tu,{className:"h-5 w-5"})})]})}),c.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[n.length===0&&c.jsx("div",{className:"text-center text-gray-500",children:c.jsx("p",{children:"Olá! Como posso ajudar você hoje?"})}),n.map((f,p)=>c.jsx("div",{className:`flex ${f.role==="assistant"?"justify-start":"justify-end"}`,children:c.jsxs("div",{className:`flex items-start space-x-2 max-w-[80%] ${f.role==="assistant"?"flex-row":"flex-row-reverse space-x-reverse"}`,children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${f.role==="assistant"?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-600"}`,children:f.role==="assistant"?c.jsx(nh,{className:"h-5 w-5"}):c.jsx(Jf,{className:"h-5 w-5"})}),c.jsx("div",{className:`p-3 rounded-lg ${f.role==="assistant"?"bg-gray-100 text-gray-800":"bg-indigo-600 text-white"}`,children:c.jsx("p",{className:"text-sm whitespace-pre-wrap",children:f.content})})]})},p)),a&&c.jsx("div",{className:"flex justify-start",children:c.jsxs("div",{className:"flex items-center space-x-2 max-w-[80%]",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center",children:c.jsx(nh,{className:"h-5 w-5 text-indigo-600"})}),c.jsx("div",{className:"p-3 rounded-lg bg-gray-100",children:c.jsx(Hj,{className:"h-5 w-5 animate-spin text-indigo-600"})})]})}),c.jsx("div",{ref:l})]}),c.jsx("form",{onSubmit:h,className:"p-4 border-t",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("input",{type:"text",value:s,onChange:f=>i(f.target.value),placeholder:"Digite sua mensagem...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:a}),c.jsx("button",{type:"submit",disabled:a||!s.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(Yj,{className:"h-5 w-5"})})]})})]}):null}function az(){const{user:t}=Gn(),e=ns(),[n,r]=F.useState(!1),[s,i]=F.useState("client"),a=async o=>{if(o.preventDefault(),!t){ee.error("Você precisa estar logado para completar o perfil.");return}r(!0);try{const d=qe(We,s==="client"?"clients":"caregivers",t.uid),h={email:t.email,name:t.displayName||"",role:s,createdAt:new Date,updatedAt:new Date().toISOString()};s==="caregiver"&&Object.assign(h,{available:!0,hourlyRate:0,rating:0,certifications:[],specialties:[],workSchedule:{domingo:{enabled:!1,timeSlots:[]},segunda:{enabled:!1,timeSlots:[]},terca:{enabled:!1,timeSlots:[]},quarta:{enabled:!1,timeSlots:[]},quinta:{enabled:!1,timeSlots:[]},sexta:{enabled:!1,timeSlots:[]},sabado:{enabled:!1,timeSlots:[]}}}),await Oi(d,h),ee.success("Perfil criado com sucesso!"),e("/dashboard")}catch(l){console.error("Error creating profile:",l),ee.error("Erro ao criar perfil. Tente novamente.")}finally{r(!1)}};return t?c.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Complete seu Perfil"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Escolha como você deseja usar nossa plataforma"})]}),c.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:c.jsxs("form",{className:"space-y-6",onSubmit:a,children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Selecione seu tipo de perfil"}),c.jsxs("div",{className:"mt-4 space-y-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"client",name:"role",type:"radio",checked:s==="client",onChange:()=>i("client"),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"}),c.jsxs("label",{htmlFor:"client",className:"ml-3",children:[c.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Cliente"}),c.jsx("span",{className:"block text-sm text-gray-500",children:"Procuro cuidadores para atendimento"})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"caregiver",name:"role",type:"radio",checked:s==="caregiver",onChange:()=>i("caregiver"),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"}),c.jsxs("label",{htmlFor:"caregiver",className:"ml-3",children:[c.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Cuidador"}),c.jsx("span",{className:"block text-sm text-gray-500",children:"Ofereço serviços de cuidados"})]})]})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:n,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${n?"opacity-50 cursor-not-allowed":""}`,children:n?"Criando perfil...":"Continuar"})})]})})})]}):c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Acesso Negado"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Você precisa estar logado para acessar esta página."})]})})}function oz(){return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("section",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Como o CareConnect Funciona"}),c.jsx("p",{className:"text-xl text-indigo-100 max-w-3xl mx-auto",children:"Conectamos famílias a cuidadores profissionais de forma simples, segura e eficiente"})]})}),c.jsx("section",{className:"py-16",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Wv,{className:"h-8 w-8 text-indigo-600"})}),c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"1. Busque Cuidadores"}),c.jsx("p",{className:"text-gray-600",children:"Pesquise cuidadores qualificados com base em suas necessidades específicas, localização e disponibilidade"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(wS,{className:"h-8 w-8 text-indigo-600"})}),c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"2. Escolha o Ideal"}),c.jsx("p",{className:"text-gray-600",children:"Compare perfis, avaliações e experiências para encontrar o cuidador perfeito para sua família"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Wc,{className:"h-8 w-8 text-indigo-600"})}),c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"3. Agende o Serviço"}),c.jsx("p",{className:"text-gray-600",children:"Marque o atendimento diretamente pela plataforma, escolhendo data, horário e duração"})]})]})})}),c.jsx("section",{className:"py-16 bg-gray-100",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Por que escolher o CareConnect?"}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[c.jsx(Hv,{className:"h-10 w-10 text-indigo-600 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Segurança Garantida"}),c.jsx("p",{className:"text-gray-600",children:"Todos os cuidadores passam por verificação de antecedentes e validação de documentos"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[c.jsx(Yf,{className:"h-10 w-10 text-indigo-600 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Profissionais Qualificados"}),c.jsx("p",{className:"text-gray-600",children:"Cuidadores com experiência comprovada e certificações na área de saúde"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[c.jsx(_a,{className:"h-10 w-10 text-indigo-600 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Disponibilidade 24/7"}),c.jsx("p",{className:"text-gray-600",children:"Atendimento disponível a qualquer hora, incluindo feriados e fins de semana"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[c.jsx(Zf,{className:"h-10 w-10 text-indigo-600 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Matching Inteligente"}),c.jsx("p",{className:"text-gray-600",children:"Sistema que encontra o profissional ideal com base nas suas necessidades"})]})]})]})}),c.jsx("section",{className:"py-16",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Perguntas Frequentes"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("details",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("summary",{className:"text-lg font-semibold cursor-pointer",children:"Como são selecionados os cuidadores?"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Todos os cuidadores passam por um rigoroso processo de seleção que inclui verificação de antecedentes, validação de documentos, entrevistas e avaliação de experiência profissional."})]}),c.jsxs("details",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("summary",{className:"text-lg font-semibold cursor-pointer",children:"Qual é o custo do serviço?"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Os valores variam de acordo com o cuidador e o tipo de serviço. Cada profissional define suas próprias taxas, que são claramente exibidas em seus perfis."})]}),c.jsxs("details",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("summary",{className:"text-lg font-semibold cursor-pointer",children:"Como funciona o pagamento?"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Os pagamentos são processados de forma segura através da nossa plataforma. Aceitamos diversos métodos de pagamento e fornecemos nota fiscal para todos os serviços."})]}),c.jsxs("details",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("summary",{className:"text-lg font-semibold cursor-pointer",children:"E se eu precisar cancelar um agendamento?"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Você pode cancelar ou reagendar um serviço com até 24 horas de antecedência sem custo adicional. Cancelamentos com menos de 24 horas podem estar sujeitos a taxa."})]})]})]})}),c.jsx("section",{className:"bg-indigo-600 text-white py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx(Eu,{className:"h-12 w-12 mx-auto mb-6"}),c.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pronto para começar?"}),c.jsx("p",{className:"text-xl text-indigo-100 mb-8 max-w-2xl mx-auto",children:"Encontre o cuidador ideal para sua família hoje mesmo"}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[c.jsx("button",{className:"px-8 py-3 bg-white text-indigo-600 rounded-lg font-semibold hover:bg-indigo-50 transition-colors duration-300",children:"Buscar Cuidadores"}),c.jsx("button",{className:"px-8 py-3 border-2 border-white rounded-lg font-semibold hover:bg-indigo-700 transition-colors duration-300",children:"Cadastrar como Cuidador"})]})]})})]})}function lz(){return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("section",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Sobre o CareConnect"}),c.jsx("p",{className:"text-xl text-indigo-100 max-w-3xl mx-auto",children:"Transformando o cuidado de idosos com tecnologia e compaixão"})]})}),c.jsx("section",{className:"py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Nossa Missão"}),c.jsx("p",{className:"mt-4 text-lg text-gray-600 max-w-3xl mx-auto",children:"Conectar famílias a cuidadores profissionais qualificados, proporcionando tranquilidade e qualidade de vida para idosos e seus entes queridos."})]}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Eu,{className:"h-8 w-8 text-indigo-600"})}),c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Cuidado Personalizado"}),c.jsx("p",{className:"text-gray-600",children:"Cada idoso é único, e nossos cuidadores são treinados para atender às necessidades específicas de cada um."})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Hv,{className:"h-8 w-8 text-indigo-600"})}),c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Segurança Garantida"}),c.jsx("p",{className:"text-gray-600",children:"Todos os cuidadores passam por rigorosa verificação de antecedentes e são devidamente certificados."})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Yf,{className:"h-8 w-8 text-indigo-600"})}),c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Profissionais Qualificados"}),c.jsx("p",{className:"text-gray-600",children:"Nossa equipe é composta por profissionais experientes e dedicados ao bem-estar dos idosos."})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Zf,{className:"h-8 w-8 text-indigo-600"})}),c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Suporte Contínuo"}),c.jsx("p",{className:"text-gray-600",children:"Oferecemos suporte 24/7 para famílias e cuidadores, garantindo tranquilidade em todos os momentos."})]})]})]})}),c.jsx("section",{className:"py-16 bg-gray-100",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Nossos Valores"}),c.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Construímos nossa plataforma com base em valores sólidos que priorizam o bem-estar e a dignidade dos idosos."})]}),c.jsxs("div",{className:"prose prose-lg mx-auto text-gray-600",children:[c.jsx("p",{className:"mb-6",children:"No CareConnect, acreditamos que cada idoso merece viver com dignidade, conforto e alegria. Nossa plataforma foi desenvolvida para tornar o processo de encontrar cuidadores qualificados mais simples e seguro."}),c.jsx("p",{className:"mb-6",children:"Trabalhamos incansavelmente para criar uma comunidade onde famílias possam encontrar os melhores cuidadores, e onde profissionais dedicados possam fazer a diferença na vida dos idosos."}),c.jsx("p",{children:"Nosso compromisso é com a excelência no cuidado, a transparência em nossas relações e o respeito por todos os envolvidos nessa jornada de cuidado e atenção."})]})]})})]})}function cz(){const{user:t,loading:e}=Gn(),[n,r]=F.useState(!1);return e?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):c.jsx(aj,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(I6,{}),c.jsx(jj,{position:"top-right",richColors:!0}),c.jsxs(Z2,{children:[c.jsx(vn,{path:"/",element:t?c.jsx(za,{to:"/dashboard"}):c.jsx(C6,{})}),c.jsx(vn,{path:"/login",element:t?c.jsx(za,{to:"/dashboard"}):c.jsx(S$,{})}),c.jsx(vn,{path:"/register",element:t?c.jsx(za,{to:"/dashboard"}):c.jsx(J9,{})}),c.jsx(vn,{path:"/forgot-password",element:c.jsx(eB,{})}),c.jsx(vn,{path:"/pricing",element:c.jsx(iB,{})}),c.jsx(vn,{path:"/how-it-works",element:c.jsx(oz,{})}),c.jsx(vn,{path:"/about",element:c.jsx(lz,{})}),c.jsx(vn,{path:"/search",element:c.jsx(pE,{})}),c.jsx(vn,{path:"/caregiver/:id",element:c.jsx(T$,{})}),c.jsx(vn,{path:"/complete-profile",element:t?c.jsx(az,{}):c.jsx(za,{to:"/login"})}),c.jsx(vn,{path:"/dashboard/*",element:t?c.jsx(x$,{}):c.jsx(za,{to:"/login"}),children:c.jsx(vn,{path:"client/search",element:c.jsx(pE,{})})}),c.jsx(vn,{path:"*",element:c.jsx(za,{to:"/",replace:!0})})]}),c.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-4 right-4 p-4 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 transition-colors z-40",children:c.jsx(nh,{className:"h-6 w-6"})}),n&&c.jsx(iz,{isOpen:n,onClose:()=>r(!1)})]})})}lS(document.getElementById("root")).render(c.jsx(P.StrictMode,{children:c.jsx(T6,{children:c.jsx(cz,{})})}));
